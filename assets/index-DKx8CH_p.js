function $6(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L1={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function K6(){if(JD)return jh;JD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:s}}return jh.Fragment=t,jh.jsx=n,jh.jsxs=n,jh}var eR;function q6(){return eR||(eR=1,L1.exports=K6()),L1.exports}var G=q6(),I1={exports:{}},Yh={},N1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function X6(){return tR||(tR=1,function(e){function t(j,W){var Q=j.length;j.push(W);e:for(;0<Q;){var ce=Q-1>>>1,H=j[ce];if(0<r(H,W))j[ce]=W,j[Q]=H,Q=ce;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var W=j[0],Q=j.pop();if(Q!==W){j[0]=Q;e:for(var ce=0,H=j.length,le=H>>>1;ce<le;){var B=2*(ce+1)-1,Y=j[B],K=B+1,ee=j[K];if(0>r(Y,Q))K<H&&0>r(ee,Y)?(j[ce]=ee,j[K]=Q,ce=K):(j[ce]=Y,j[B]=Q,ce=B);else if(K<H&&0>r(ee,Q))j[ce]=ee,j[K]=Q,ce=K;else break e}}return W}function r(j,W){var Q=j.sortIndex-W.sortIndex;return Q!==0?Q:j.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,g=3,v=!1,C=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var W=n(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=j)i(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function F(j){if(w=!1,R(j),!C)if(n(l)!==null)C=!0,P||(P=!0,z());else{var W=n(u);W!==null&&ie(F,W.startTime-j)}}var P=!1,_=-1,L=5,A=-1;function O(){return S?!0:!(e.unstable_now()-A<L)}function I(){if(S=!1,P){var j=e.unstable_now();A=j;var W=!0;try{e:{C=!1,w&&(w=!1,E(_),_=-1),v=!0;var Q=g;try{t:{for(R(j),p=n(l);p!==null&&!(p.expirationTime>j&&O());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,g=p.priorityLevel;var H=ce(p.expirationTime<=j);if(j=e.unstable_now(),typeof H=="function"){p.callback=H,R(j),W=!0;break t}p===n(l)&&i(l),R(j)}else i(l);p=n(l)}if(p!==null)W=!0;else{var le=n(u);le!==null&&ie(F,le.startTime-j),W=!1}}break e}finally{p=null,g=Q,v=!1}W=void 0}}finally{W?z():P=!1}}}var z;if(typeof T=="function")z=function(){T(I)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=I,z=function(){ae.postMessage(null)}}else z=function(){x(I,0)};function ie(j,W){_=x(function(){j(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var Q=g;g=W;try{return j()}finally{g=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=g;g=j;try{return W()}finally{g=Q}},e.unstable_scheduleCallback=function(j,W,Q){var ce=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,j={id:h++,callback:W,priorityLevel:j,startTime:Q,expirationTime:H,sortIndex:-1},Q>ce?(j.sortIndex=Q,t(u,j),n(l)===null&&j===n(u)&&(w?(E(_),_=-1):w=!0,ie(F,Q-ce))):(j.sortIndex=H,t(l,j),C||v||(C=!0,P||(P=!0,z()))),j},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(j){var W=g;return function(){var Q=g;g=W;try{return j.apply(this,arguments)}finally{g=Q}}}}(B1)),B1}var nR;function Q6(){return nR||(nR=1,N1.exports=X6()),N1.exports}var H1={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function Z6(){if(iR)return ut;iR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function S(H,le,B){this.props=H,this.context=le,this.refs=w,this.updater=B||v}S.prototype.isReactComponent={},S.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function x(){}x.prototype=S.prototype;function E(H,le,B){this.props=H,this.context=le,this.refs=w,this.updater=B||v}var T=E.prototype=new x;T.constructor=E,C(T,S.prototype),T.isPureReactComponent=!0;var R=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function _(H,le,B,Y,K,ee){return B=ee.ref,{$$typeof:e,type:H,key:le,ref:B!==void 0?B:null,props:ee}}function L(H,le){return _(H.type,le,void 0,void 0,void 0,H.props)}function A(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function O(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(B){return le[B]})}var I=/\/+/g;function z(H,le){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):le.toString(36)}function J(){}function ae(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(J,J):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ie(H,le,B,Y,K){var ee=typeof H;(ee==="undefined"||ee==="boolean")&&(H=null);var de=!1;if(H===null)de=!0;else switch(ee){case"bigint":case"string":case"number":de=!0;break;case"object":switch(H.$$typeof){case e:case t:de=!0;break;case h:return de=H._init,ie(de(H._payload),le,B,Y,K)}}if(de)return K=K(H),de=Y===""?"."+z(H,0):Y,R(K)?(B="",de!=null&&(B=de.replace(I,"$&/")+"/"),ie(K,le,B,"",function(_e){return _e})):K!=null&&(A(K)&&(K=L(K,B+(K.key==null||H&&H.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+de)),le.push(K)),1;de=0;var Ie=Y===""?".":Y+":";if(R(H))for(var Oe=0;Oe<H.length;Oe++)Y=H[Oe],ee=Ie+z(Y,Oe),de+=ie(Y,le,B,ee,K);else if(Oe=g(H),typeof Oe=="function")for(H=Oe.call(H),Oe=0;!(Y=H.next()).done;)Y=Y.value,ee=Ie+z(Y,Oe++),de+=ie(Y,le,B,ee,K);else if(ee==="object"){if(typeof H.then=="function")return ie(ae(H),le,B,Y,K);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return de}function j(H,le,B){if(H==null)return H;var Y=[],K=0;return ie(H,Y,"","",function(ee){return le.call(B,ee,K++)}),Y}function W(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(B){(H._status===0||H._status===-1)&&(H._status=1,H._result=B)},function(B){(H._status===0||H._status===-1)&&(H._status=2,H._result=B)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var Q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ce(){}return ut.Children={map:j,forEach:function(H,le,B){j(H,function(){le.apply(this,arguments)},B)},count:function(H){var le=0;return j(H,function(){le++}),le},toArray:function(H){return j(H,function(le){return le})||[]},only:function(H){if(!A(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ut.Component=S,ut.Fragment=n,ut.Profiler=r,ut.PureComponent=E,ut.StrictMode=i,ut.Suspense=l,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ut.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},ut.cache=function(H){return function(){return H.apply(null,arguments)}},ut.cloneElement=function(H,le,B){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Y=C({},H.props),K=H.key,ee=void 0;if(le!=null)for(de in le.ref!==void 0&&(ee=void 0),le.key!==void 0&&(K=""+le.key),le)!P.call(le,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&le.ref===void 0||(Y[de]=le[de]);var de=arguments.length-2;if(de===1)Y.children=B;else if(1<de){for(var Ie=Array(de),Oe=0;Oe<de;Oe++)Ie[Oe]=arguments[Oe+2];Y.children=Ie}return _(H.type,K,void 0,void 0,ee,Y)},ut.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ut.createElement=function(H,le,B){var Y,K={},ee=null;if(le!=null)for(Y in le.key!==void 0&&(ee=""+le.key),le)P.call(le,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(K[Y]=le[Y]);var de=arguments.length-2;if(de===1)K.children=B;else if(1<de){for(var Ie=Array(de),Oe=0;Oe<de;Oe++)Ie[Oe]=arguments[Oe+2];K.children=Ie}if(H&&H.defaultProps)for(Y in de=H.defaultProps,de)K[Y]===void 0&&(K[Y]=de[Y]);return _(H,ee,void 0,void 0,null,K)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(H){return{$$typeof:a,render:H}},ut.isValidElement=A,ut.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:W}},ut.memo=function(H,le){return{$$typeof:u,type:H,compare:le===void 0?null:le}},ut.startTransition=function(H){var le=F.T,B={};F.T=B;try{var Y=H(),K=F.S;K!==null&&K(B,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ce,Q)}catch(ee){Q(ee)}finally{F.T=le}},ut.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ut.use=function(H){return F.H.use(H)},ut.useActionState=function(H,le,B){return F.H.useActionState(H,le,B)},ut.useCallback=function(H,le){return F.H.useCallback(H,le)},ut.useContext=function(H){return F.H.useContext(H)},ut.useDebugValue=function(){},ut.useDeferredValue=function(H,le){return F.H.useDeferredValue(H,le)},ut.useEffect=function(H,le,B){var Y=F.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(H,le)},ut.useId=function(){return F.H.useId()},ut.useImperativeHandle=function(H,le,B){return F.H.useImperativeHandle(H,le,B)},ut.useInsertionEffect=function(H,le){return F.H.useInsertionEffect(H,le)},ut.useLayoutEffect=function(H,le){return F.H.useLayoutEffect(H,le)},ut.useMemo=function(H,le){return F.H.useMemo(H,le)},ut.useOptimistic=function(H,le){return F.H.useOptimistic(H,le)},ut.useReducer=function(H,le,B){return F.H.useReducer(H,le,B)},ut.useRef=function(H){return F.H.useRef(H)},ut.useState=function(H){return F.H.useState(H)},ut.useSyncExternalStore=function(H,le,B){return F.H.useSyncExternalStore(H,le,B)},ut.useTransition=function(){return F.H.useTransition()},ut.version="19.1.0",ut}var rR;function xx(){return rR||(rR=1,H1.exports=Z6()),H1.exports}var G1={exports:{}},Si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function J6(){if(sR)return Si;sR=1;var e=xx();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:l,containerInfo:u,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(l,u,null,h)},Si.flushSync=function(l){var u=o.T,h=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=u,i.p=h,i.d.f()}},Si.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Si.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Si.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,p=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&i.d.X(l,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Si.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Si.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=a(h,u.crossOrigin);i.d.L(l,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Si.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Si.requestFormReset=function(l){i.d.r(l)},Si.unstable_batchedUpdates=function(l,u){return l(u)},Si.useFormState=function(l,u,h){return o.H.useFormState(l,u,h)},Si.useFormStatus=function(){return o.H.useHostTransitionStatus()},Si.version="19.1.0",Si}var oR;function pA(){if(oR)return G1.exports;oR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),G1.exports=J6(),G1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function e8(){if(aR)return Yh;aR=1;var e=Q6(),t=xx(),n=pA();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,f=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(f=d.return),c=d.return;while(c)}return d.tag===3?f:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(i(188))}function l(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(i(188));return d!==c?null:c}for(var f=c,m=d;;){var y=f.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){f=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===f)return a(y),c;if(b===m)return a(y),d;b=b.sibling}throw Error(i(188))}if(f.return!==m.return)f=y,m=b;else{for(var M=!1,N=y.child;N;){if(N===f){M=!0,f=y,m=b;break}if(N===m){M=!0,m=y,f=b;break}N=N.sibling}if(!M){for(N=b.child;N;){if(N===f){M=!0,f=b,m=y;break}if(N===m){M=!0,m=b,f=y;break}N=N.sibling}if(!M)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?c:d}function u(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=u(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var J=Symbol.for("react.client.reference");function ae(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===J?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case C:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case A:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case T:return(c.displayName||"Context")+".Provider";case E:return(c._context.displayName||"Context")+".Consumer";case R:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return d=c.displayName||null,d!==null?d:ae(c.type)||"Memo";case L:d=c._payload,c=c._init;try{return ae(c(d))}catch{}}return null}var ie=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ce=[],H=-1;function le(c){return{current:c}}function B(c){0>H||(c.current=ce[H],ce[H]=null,H--)}function Y(c,d){H++,ce[H]=c.current,c.current=d}var K=le(null),ee=le(null),de=le(null),Ie=le(null);function Oe(c,d){switch(Y(de,d),Y(ee,c),Y(K,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?RD(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=RD(d),c=FD(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}B(K),Y(K,c)}function _e(){B(K),B(ee),B(de)}function Pe(c){c.memoizedState!==null&&Y(Ie,c);var d=K.current,f=FD(d,c.type);d!==f&&(Y(ee,c),Y(K,f))}function it(c){ee.current===c&&(B(K),B(ee)),Ie.current===c&&(B(Ie),Gh._currentValue=Q)}var et=Object.prototype.hasOwnProperty,Lt=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,dt=e.unstable_shouldYield,st=e.unstable_requestPaint,ke=e.unstable_now,tt=e.unstable_getCurrentPriorityLevel,vt=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,mn=e.unstable_LowPriority,Kn=e.unstable_IdlePriority,Ne=e.log,Qe=e.unstable_setDisableYieldValue,Mt=null,ft=null;function nt(c){if(typeof Ne=="function"&&Qe(c),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Mt,c)}catch{}}var xt=Math.clz32?Math.clz32:ma,rr=Math.log,ga=Math.LN2;function ma(c){return c>>>=0,c===0?32:31-(rr(c)/ga|0)|0}var ns=256,Dr=4194304;function Vi(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Ms(c,d,f){var m=c.pendingLanes;if(m===0)return 0;var y=0,b=c.suspendedLanes,M=c.pingedLanes;c=c.warmLanes;var N=m&134217727;return N!==0?(m=N&~b,m!==0?y=Vi(m):(M&=N,M!==0?y=Vi(M):f||(f=N&~c,f!==0&&(y=Vi(f))))):(N=m&~b,N!==0?y=Vi(N):M!==0?y=Vi(M):f||(f=m&~c,f!==0&&(y=Vi(f)))),y===0?0:d!==0&&d!==y&&(d&b)===0&&(b=y&-y,f=d&-d,b>=f||b===32&&(f&4194048)!==0)?d:y}function is(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function va(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var c=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),c}function Kd(){var c=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),c}function qd(c){for(var d=[],f=0;31>f;f++)d.push(c);return d}function bl(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Yc(c,d,f,m,y,b){var M=c.pendingLanes;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=f,c.entangledLanes&=f,c.errorRecoveryDisabledLanes&=f,c.shellSuspendCounter=0;var N=c.entanglements,ne=c.expirationTimes,pe=c.hiddenUpdates;for(f=M&~f;0<f;){var Te=31-xt(f),Re=1<<Te;N[Te]=0,ne[Te]=-1;var Ce=pe[Te];if(Ce!==null)for(pe[Te]=null,Te=0;Te<Ce.length;Te++){var ye=Ce[Te];ye!==null&&(ye.lane&=-536870913)}f&=~Re}m!==0&&Pp(c,m,0),b!==0&&y===0&&c.tag!==0&&(c.suspendedLanes|=b&~(M&~d))}function Pp(c,d,f){c.pendingLanes|=d,c.suspendedLanes&=~d;var m=31-xt(d);c.entangledLanes|=d,c.entanglements[m]=c.entanglements[m]|1073741824|f&4194090}function kp(c,d){var f=c.entangledLanes|=d;for(c=c.entanglements;f;){var m=31-xt(f),y=1<<m;y&d|c[m]&d&&(c[m]|=d),f&=~y}}function Xd(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Qd(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Op(){var c=W.p;return c!==0?c:(c=window.event,c===void 0?32:$D(c.type))}function _C(c,d){var f=W.p;try{return W.p=c,d()}finally{W.p=f}}var _s=Math.random().toString(36).slice(2),qn="__reactFiber$"+_s,Xn="__reactProps$"+_s,Ca="__reactContainer$"+_s,Zd="__reactEvents$"+_s,AC="__reactListeners$"+_s,k="__reactHandles$"+_s,X="__reactResources$"+_s,V="__reactMarker$"+_s;function U(c){delete c[qn],delete c[Xn],delete c[Zd],delete c[AC],delete c[k]}function q(c){var d=c[qn];if(d)return d;for(var f=c.parentNode;f;){if(d=f[Ca]||f[qn]){if(f=d.alternate,d.child!==null||f!==null&&f.child!==null)for(c=PD(c);c!==null;){if(f=c[qn])return f;c=PD(c)}return d}c=f,f=c.parentNode}return null}function Z(c){if(c=c[qn]||c[Ca]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function ge(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function be(c){var d=c[X];return d||(d=c[X]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function he(c){c[V]=!0}var ve=new Set,we={};function Ae(c,d){Be(c,d),Be(c+"Capture",d)}function Be(c,d){for(we[c]=d,c=0;c<d.length;c++)ve.add(d[c])}var Ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Le={},Ue={};function ct(c){return et.call(Ue,c)?!0:et.call(Le,c)?!1:Ye.test(c)?Ue[c]=!0:(Le[c]=!0,!1)}function Xt(c,d,f){if(ct(d))if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var m=d.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+f)}}function Qt(c,d,f){if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+f)}}function on(c,d,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttributeNS(d,f,""+m)}}var go,wa;function Rr(c){if(go===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);go=d&&d[1]||"",wa=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+c+wa}var rs=!1;function El(c,d){if(!c||rs)return"";rs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(d){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var Ce=ye}Reflect.construct(c,[],Re)}else{try{Re.call()}catch(ye){Ce=ye}c.call(Re.prototype)}}else{try{throw Error()}catch(ye){Ce=ye}(Re=c())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&Ce&&typeof ye.stack=="string")return[ye.stack,Ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),M=b[0],N=b[1];if(M&&N){var ne=M.split(`
`),pe=N.split(`
`);for(y=m=0;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;for(;y<pe.length&&!pe[y].includes("DetermineComponentFrameRoot");)y++;if(m===ne.length||y===pe.length)for(m=ne.length-1,y=pe.length-1;1<=m&&0<=y&&ne[m]!==pe[y];)y--;for(;1<=m&&0<=y;m--,y--)if(ne[m]!==pe[y]){if(m!==1||y!==1)do if(m--,y--,0>y||ne[m]!==pe[y]){var Te=`
`+ne[m].replace(" at new "," at ");return c.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",c.displayName)),Te}while(1<=m&&0<=y);break}}}finally{rs=!1,Error.prepareStackTrace=f}return(f=c?c.displayName||c.name:"")?Rr(f):""}function ss(c){switch(c.tag){case 26:case 27:case 5:return Rr(c.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return El(c.type,!1);case 11:return El(c.type.render,!1);case 1:return El(c.type,!0);case 31:return Rr("Activity");default:return""}}function S2(c){try{var d="";do d+=ss(c),c=c.return;while(c);return d}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Fr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function x2(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function zL(c){var d=x2(c)?"checked":"value",f=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),m=""+c[d];if(!c.hasOwnProperty(d)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return y.call(this)},set:function(M){m=""+M,b.call(this,M)}}),Object.defineProperty(c,d,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Lp(c){c._valueTracker||(c._valueTracker=zL(c))}function b2(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var f=d.getValue(),m="";return c&&(m=x2(c)?c.checked?"true":"false":c.value),c=m,c!==f?(d.setValue(c),!0):!1}function Ip(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var WL=/[\n"\\]/g;function Mr(c){return c.replace(WL,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function PC(c,d,f,m,y,b,M,N){c.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?c.type=M:c.removeAttribute("type"),d!=null?M==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Fr(d)):c.value!==""+Fr(d)&&(c.value=""+Fr(d)):M!=="submit"&&M!=="reset"||c.removeAttribute("value"),d!=null?kC(c,M,Fr(d)):f!=null?kC(c,M,Fr(f)):m!=null&&c.removeAttribute("value"),y==null&&b!=null&&(c.defaultChecked=!!b),y!=null&&(c.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?c.name=""+Fr(N):c.removeAttribute("name")}function E2(c,d,f,m,y,b,M,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(c.type=b),d!=null||f!=null){if(!(b!=="submit"&&b!=="reset"||d!=null))return;f=f!=null?""+Fr(f):"",d=d!=null?""+Fr(d):f,N||d===c.value||(c.value=d),c.defaultValue=d}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=N?c.checked:!!m,c.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(c.name=M)}function kC(c,d,f){d==="number"&&Ip(c.ownerDocument)===c||c.defaultValue===""+f||(c.defaultValue=""+f)}function $c(c,d,f,m){if(c=c.options,d){d={};for(var y=0;y<f.length;y++)d["$"+f[y]]=!0;for(f=0;f<c.length;f++)y=d.hasOwnProperty("$"+c[f].value),c[f].selected!==y&&(c[f].selected=y),y&&m&&(c[f].defaultSelected=!0)}else{for(f=""+Fr(f),d=null,y=0;y<c.length;y++){if(c[y].value===f){c[y].selected=!0,m&&(c[y].defaultSelected=!0);return}d!==null||c[y].disabled||(d=c[y])}d!==null&&(d.selected=!0)}}function T2(c,d,f){if(d!=null&&(d=""+Fr(d),d!==c.value&&(c.value=d),f==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=f!=null?""+Fr(f):""}function D2(c,d,f,m){if(d==null){if(m!=null){if(f!=null)throw Error(i(92));if(ie(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),d=f}f=Fr(d),c.defaultValue=f,m=c.textContent,m===f&&m!==""&&m!==null&&(c.value=m)}function Kc(c,d){if(d){var f=c.firstChild;if(f&&f===c.lastChild&&f.nodeType===3){f.nodeValue=d;return}}c.textContent=d}var UL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function R2(c,d,f){var m=d.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":m?c.setProperty(d,f):typeof f!="number"||f===0||UL.has(d)?d==="float"?c.cssFloat=f:c[d]=(""+f).trim():c[d]=f+"px"}function F2(c,d,f){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||d!=null&&d.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var y in d)m=d[y],d.hasOwnProperty(y)&&f[y]!==m&&R2(c,y,m)}else for(var b in d)d.hasOwnProperty(b)&&R2(c,b,d[b])}function OC(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Np(c){return YL.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var LC=null;function IC(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var qc=null,Xc=null;function M2(c){var d=Z(c);if(d&&(c=d.stateNode)){var f=c[Xn]||null;e:switch(c=d.stateNode,d.type){case"input":if(PC(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),d=f.name,f.type==="radio"&&d!=null){for(f=c;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Mr(""+d)+'"][type="radio"]'),d=0;d<f.length;d++){var m=f[d];if(m!==c&&m.form===c.form){var y=m[Xn]||null;if(!y)throw Error(i(90));PC(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(d=0;d<f.length;d++)m=f[d],m.form===c.form&&b2(m)}break e;case"textarea":T2(c,f.value,f.defaultValue);break e;case"select":d=f.value,d!=null&&$c(c,!!f.multiple,d,!1)}}}var NC=!1;function _2(c,d,f){if(NC)return c(d,f);NC=!0;try{var m=c(d);return m}finally{if(NC=!1,(qc!==null||Xc!==null)&&(xg(),qc&&(d=qc,c=Xc,Xc=qc=null,M2(d),c)))for(d=0;d<c.length;d++)M2(c[d])}}function Jd(c,d){var f=c.stateNode;if(f===null)return null;var m=f[Xn]||null;if(m===null)return null;f=m[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(f&&typeof f!="function")throw Error(i(231,d,typeof f));return f}var mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BC=!1;if(mo)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){BC=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{BC=!1}var ya=null,HC=null,Bp=null;function A2(){if(Bp)return Bp;var c,d=HC,f=d.length,m,y="value"in ya?ya.value:ya.textContent,b=y.length;for(c=0;c<f&&d[c]===y[c];c++);var M=f-c;for(m=1;m<=M&&d[f-m]===y[b-m];m++);return Bp=y.slice(c,1<m?1-m:void 0)}function Hp(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Gp(){return!0}function P2(){return!1}function zi(c){function d(f,m,y,b,M){this._reactName=f,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var N in c)c.hasOwnProperty(N)&&(f=c[N],this[N]=f?f(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Gp:P2,this.isPropagationStopped=P2,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),d}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=zi(Tl),th=h({},Tl,{view:0,detail:0}),$L=zi(th),GC,VC,nh,zp=h({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WC,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==nh&&(nh&&c.type==="mousemove"?(GC=c.screenX-nh.screenX,VC=c.screenY-nh.screenY):VC=GC=0,nh=c),GC)},movementY:function(c){return"movementY"in c?c.movementY:VC}}),k2=zi(zp),KL=h({},zp,{dataTransfer:0}),qL=zi(KL),XL=h({},th,{relatedTarget:0}),zC=zi(XL),QL=h({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),ZL=zi(QL),JL=h({},Tl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),eI=zi(JL),tI=h({},Tl,{data:0}),O2=zi(tI),nI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sI(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=rI[c])?!!d[c]:!1}function WC(){return sI}var oI=h({},th,{key:function(c){if(c.key){var d=nI[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Hp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?iI[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WC,charCode:function(c){return c.type==="keypress"?Hp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Hp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),aI=zi(oI),lI=h({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L2=zi(lI),cI=h({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WC}),uI=zi(cI),dI=h({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),hI=zi(dI),fI=h({},zp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),pI=zi(fI),gI=h({},Tl,{newState:0,oldState:0}),mI=zi(gI),vI=[9,13,27,32],UC=mo&&"CompositionEvent"in window,ih=null;mo&&"documentMode"in document&&(ih=document.documentMode);var CI=mo&&"TextEvent"in window&&!ih,I2=mo&&(!UC||ih&&8<ih&&11>=ih),N2=" ",B2=!1;function H2(c,d){switch(c){case"keyup":return vI.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G2(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Qc=!1;function wI(c,d){switch(c){case"compositionend":return G2(d);case"keypress":return d.which!==32?null:(B2=!0,N2);case"textInput":return c=d.data,c===N2&&B2?null:c;default:return null}}function yI(c,d){if(Qc)return c==="compositionend"||!UC&&H2(c,d)?(c=A2(),Bp=HC=ya=null,Qc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return I2&&d.locale!=="ko"?null:d.data;default:return null}}var SI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V2(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!SI[c.type]:d==="textarea"}function z2(c,d,f,m){qc?Xc?Xc.push(m):Xc=[m]:qc=m,d=Fg(d,"onChange"),0<d.length&&(f=new Vp("onChange","change",null,f,m),c.push({event:f,listeners:d}))}var rh=null,sh=null;function xI(c){xD(c,0)}function Wp(c){var d=ge(c);if(b2(d))return c}function W2(c,d){if(c==="change")return d}var U2=!1;if(mo){var jC;if(mo){var YC="oninput"in document;if(!YC){var j2=document.createElement("div");j2.setAttribute("oninput","return;"),YC=typeof j2.oninput=="function"}jC=YC}else jC=!1;U2=jC&&(!document.documentMode||9<document.documentMode)}function Y2(){rh&&(rh.detachEvent("onpropertychange",$2),sh=rh=null)}function $2(c){if(c.propertyName==="value"&&Wp(sh)){var d=[];z2(d,sh,c,IC(c)),_2(xI,d)}}function bI(c,d,f){c==="focusin"?(Y2(),rh=d,sh=f,rh.attachEvent("onpropertychange",$2)):c==="focusout"&&Y2()}function EI(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Wp(sh)}function TI(c,d){if(c==="click")return Wp(d)}function DI(c,d){if(c==="input"||c==="change")return Wp(d)}function RI(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var sr=typeof Object.is=="function"?Object.is:RI;function oh(c,d){if(sr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var f=Object.keys(c),m=Object.keys(d);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var y=f[m];if(!et.call(d,y)||!sr(c[y],d[y]))return!1}return!0}function K2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function q2(c,d){var f=K2(c);c=0;for(var m;f;){if(f.nodeType===3){if(m=c+f.textContent.length,c<=d&&m>=d)return{node:f,offset:d-c};c=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=K2(f)}}function X2(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?X2(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Q2(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Ip(c.document);d instanceof c.HTMLIFrameElement;){try{var f=typeof d.contentWindow.location.href=="string"}catch{f=!1}if(f)c=d.contentWindow;else break;d=Ip(c.document)}return d}function $C(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var FI=mo&&"documentMode"in document&&11>=document.documentMode,Zc=null,KC=null,ah=null,qC=!1;function Z2(c,d,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;qC||Zc==null||Zc!==Ip(m)||(m=Zc,"selectionStart"in m&&$C(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ah&&oh(ah,m)||(ah=m,m=Fg(KC,"onSelect"),0<m.length&&(d=new Vp("onSelect","select",null,d,f),c.push({event:d,listeners:m}),d.target=Zc)))}function Dl(c,d){var f={};return f[c.toLowerCase()]=d.toLowerCase(),f["Webkit"+c]="webkit"+d,f["Moz"+c]="moz"+d,f}var Jc={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionrun:Dl("Transition","TransitionRun"),transitionstart:Dl("Transition","TransitionStart"),transitioncancel:Dl("Transition","TransitionCancel"),transitionend:Dl("Transition","TransitionEnd")},XC={},J2={};mo&&(J2=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Rl(c){if(XC[c])return XC[c];if(!Jc[c])return c;var d=Jc[c],f;for(f in d)if(d.hasOwnProperty(f)&&f in J2)return XC[c]=d[f];return c}var eE=Rl("animationend"),tE=Rl("animationiteration"),nE=Rl("animationstart"),MI=Rl("transitionrun"),_I=Rl("transitionstart"),AI=Rl("transitioncancel"),iE=Rl("transitionend"),rE=new Map,QC="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");QC.push("scrollEnd");function os(c,d){rE.set(c,d),Ae(d,[c])}var sE=new WeakMap;function _r(c,d){if(typeof c=="object"&&c!==null){var f=sE.get(c);return f!==void 0?f:(d={value:c,source:d,stack:S2(d)},sE.set(c,d),d)}return{value:c,source:d,stack:S2(d)}}var Ar=[],eu=0,ZC=0;function Up(){for(var c=eu,d=ZC=eu=0;d<c;){var f=Ar[d];Ar[d++]=null;var m=Ar[d];Ar[d++]=null;var y=Ar[d];Ar[d++]=null;var b=Ar[d];if(Ar[d++]=null,m!==null&&y!==null){var M=m.pending;M===null?y.next=y:(y.next=M.next,M.next=y),m.pending=y}b!==0&&oE(f,y,b)}}function jp(c,d,f,m){Ar[eu++]=c,Ar[eu++]=d,Ar[eu++]=f,Ar[eu++]=m,ZC|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function JC(c,d,f,m){return jp(c,d,f,m),Yp(c)}function tu(c,d){return jp(c,null,null,d),Yp(c)}function oE(c,d,f){c.lanes|=f;var m=c.alternate;m!==null&&(m.lanes|=f);for(var y=!1,b=c.return;b!==null;)b.childLanes|=f,m=b.alternate,m!==null&&(m.childLanes|=f),b.tag===22&&(c=b.stateNode,c===null||c._visibility&1||(y=!0)),c=b,b=b.return;return c.tag===3?(b=c.stateNode,y&&d!==null&&(y=31-xt(f),c=b.hiddenUpdates,m=c[y],m===null?c[y]=[d]:m.push(d),d.lane=f|536870912),b):null}function Yp(c){if(50<Ph)throw Ph=0,s1=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var nu={};function PI(c,d,f,m){this.tag=c,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(c,d,f,m){return new PI(c,d,f,m)}function ew(c){return c=c.prototype,!(!c||!c.isReactComponent)}function vo(c,d){var f=c.alternate;return f===null?(f=or(c.tag,d,c.key,c.mode),f.elementType=c.elementType,f.type=c.type,f.stateNode=c.stateNode,f.alternate=c,c.alternate=f):(f.pendingProps=d,f.type=c.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=c.flags&65011712,f.childLanes=c.childLanes,f.lanes=c.lanes,f.child=c.child,f.memoizedProps=c.memoizedProps,f.memoizedState=c.memoizedState,f.updateQueue=c.updateQueue,d=c.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},f.sibling=c.sibling,f.index=c.index,f.ref=c.ref,f.refCleanup=c.refCleanup,f}function aE(c,d){c.flags&=65011714;var f=c.alternate;return f===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,d=f.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function $p(c,d,f,m,y,b){var M=0;if(m=c,typeof c=="function")ew(c)&&(M=1);else if(typeof c=="string")M=O6(c,f,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case A:return c=or(31,f,d,y),c.elementType=A,c.lanes=b,c;case C:return Fl(f.children,y,b,d);case w:M=8,y|=24;break;case S:return c=or(12,f,d,y|2),c.elementType=S,c.lanes=b,c;case F:return c=or(13,f,d,y),c.elementType=F,c.lanes=b,c;case P:return c=or(19,f,d,y),c.elementType=P,c.lanes=b,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:case T:M=10;break e;case E:M=9;break e;case R:M=11;break e;case _:M=14;break e;case L:M=16,m=null;break e}M=29,f=Error(i(130,c===null?"null":typeof c,"")),m=null}return d=or(M,f,d,y),d.elementType=c,d.type=m,d.lanes=b,d}function Fl(c,d,f,m){return c=or(7,c,m,d),c.lanes=f,c}function tw(c,d,f){return c=or(6,c,null,d),c.lanes=f,c}function nw(c,d,f){return d=or(4,c.children!==null?c.children:[],c.key,d),d.lanes=f,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var iu=[],ru=0,Kp=null,qp=0,Pr=[],kr=0,Ml=null,Co=1,wo="";function _l(c,d){iu[ru++]=qp,iu[ru++]=Kp,Kp=c,qp=d}function lE(c,d,f){Pr[kr++]=Co,Pr[kr++]=wo,Pr[kr++]=Ml,Ml=c;var m=Co;c=wo;var y=32-xt(m)-1;m&=~(1<<y),f+=1;var b=32-xt(d)+y;if(30<b){var M=y-y%5;b=(m&(1<<M)-1).toString(32),m>>=M,y-=M,Co=1<<32-xt(d)+y|f<<y|m,wo=b+c}else Co=1<<b|f<<y|m,wo=c}function iw(c){c.return!==null&&(_l(c,1),lE(c,1,0))}function rw(c){for(;c===Kp;)Kp=iu[--ru],iu[ru]=null,qp=iu[--ru],iu[ru]=null;for(;c===Ml;)Ml=Pr[--kr],Pr[kr]=null,wo=Pr[--kr],Pr[kr]=null,Co=Pr[--kr],Pr[kr]=null}var Mi=null,bn=null,Pt=!1,Al=null,As=!1,sw=Error(i(519));function Pl(c){var d=Error(i(418,""));throw uh(_r(d,c)),sw}function cE(c){var d=c.stateNode,f=c.type,m=c.memoizedProps;switch(d[qn]=c,d[Xn]=m,f){case"dialog":yt("cancel",d),yt("close",d);break;case"iframe":case"object":case"embed":yt("load",d);break;case"video":case"audio":for(f=0;f<Oh.length;f++)yt(Oh[f],d);break;case"source":yt("error",d);break;case"img":case"image":case"link":yt("error",d),yt("load",d);break;case"details":yt("toggle",d);break;case"input":yt("invalid",d),E2(d,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Lp(d);break;case"select":yt("invalid",d);break;case"textarea":yt("invalid",d),D2(d,m.value,m.defaultValue,m.children),Lp(d)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||d.textContent===""+f||m.suppressHydrationWarning===!0||DD(d.textContent,f)?(m.popover!=null&&(yt("beforetoggle",d),yt("toggle",d)),m.onScroll!=null&&yt("scroll",d),m.onScrollEnd!=null&&yt("scrollend",d),m.onClick!=null&&(d.onclick=Mg),d=!0):d=!1,d||Pl(c)}function uE(c){for(Mi=c.return;Mi;)switch(Mi.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Mi=Mi.return}}function lh(c){if(c!==Mi)return!1;if(!Pt)return uE(c),Pt=!0,!1;var d=c.tag,f;if((f=d!==3&&d!==27)&&((f=d===5)&&(f=c.type,f=!(f!=="form"&&f!=="button")||S1(c.type,c.memoizedProps)),f=!f),f&&bn&&Pl(c),uE(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(f=c.data,f==="/$"){if(d===0){bn=ls(c.nextSibling);break e}d--}else f!=="$"&&f!=="$!"&&f!=="$?"||d++;c=c.nextSibling}bn=null}}else d===27?(d=bn,Ia(c.type)?(c=T1,T1=null,bn=c):bn=d):bn=Mi?ls(c.stateNode.nextSibling):null;return!0}function ch(){bn=Mi=null,Pt=!1}function dE(){var c=Al;return c!==null&&(ji===null?ji=c:ji.push.apply(ji,c),Al=null),c}function uh(c){Al===null?Al=[c]:Al.push(c)}var ow=le(null),kl=null,yo=null;function Sa(c,d,f){Y(ow,d._currentValue),d._currentValue=f}function So(c){c._currentValue=ow.current,B(ow)}function aw(c,d,f){for(;c!==null;){var m=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,m!==null&&(m.childLanes|=d)):m!==null&&(m.childLanes&d)!==d&&(m.childLanes|=d),c===f)break;c=c.return}}function lw(c,d,f,m){var y=c.child;for(y!==null&&(y.return=c);y!==null;){var b=y.dependencies;if(b!==null){var M=y.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=y;for(var ne=0;ne<d.length;ne++)if(N.context===d[ne]){b.lanes|=f,N=b.alternate,N!==null&&(N.lanes|=f),aw(b.return,f,c),m||(M=null);break e}b=N.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(i(341));M.lanes|=f,b=M.alternate,b!==null&&(b.lanes|=f),aw(M,f,c),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===c){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function dh(c,d,f,m){c=null;for(var y=d,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var N=y.type;sr(y.pendingProps.value,M.value)||(c!==null?c.push(N):c=[N])}}else if(y===Ie.current){if(M=y.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(c!==null?c.push(Gh):c=[Gh])}y=y.return}c!==null&&lw(d,c,f,m),d.flags|=262144}function Xp(c){for(c=c.firstContext;c!==null;){if(!sr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Ol(c){kl=c,yo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function yi(c){return hE(kl,c)}function Qp(c,d){return kl===null&&Ol(c),hE(c,d)}function hE(c,d){var f=d._currentValue;if(d={context:d,memoizedValue:f,next:null},yo===null){if(c===null)throw Error(i(308));yo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else yo=yo.next=d;return f}var kI=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(f,m){c.push(m)}};this.abort=function(){d.aborted=!0,c.forEach(function(f){return f()})}},OI=e.unstable_scheduleCallback,LI=e.unstable_NormalPriority,Wn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cw(){return{controller:new kI,data:new Map,refCount:0}}function hh(c){c.refCount--,c.refCount===0&&OI(LI,function(){c.controller.abort()})}var fh=null,uw=0,su=0,ou=null;function II(c,d){if(fh===null){var f=fh=[];uw=0,su=h1(),ou={status:"pending",value:void 0,then:function(m){f.push(m)}}}return uw++,d.then(fE,fE),d}function fE(){if(--uw===0&&fh!==null){ou!==null&&(ou.status="fulfilled");var c=fh;fh=null,su=0,ou=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function NI(c,d){var f=[],m={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return c.then(function(){m.status="fulfilled",m.value=d;for(var y=0;y<f.length;y++)(0,f[y])(d)},function(y){for(m.status="rejected",m.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),m}var pE=j.S;j.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&II(c,d),pE!==null&&pE(c,d)};var Ll=le(null);function dw(){var c=Ll.current;return c!==null?c:an.pooledCache}function Zp(c,d){d===null?Y(Ll,Ll.current):Y(Ll,d.pool)}function gE(){var c=dw();return c===null?null:{parent:Wn._currentValue,pool:c}}var ph=Error(i(460)),mE=Error(i(474)),Jp=Error(i(542)),hw={then:function(){}};function vE(c){return c=c.status,c==="fulfilled"||c==="rejected"}function eg(){}function CE(c,d,f){switch(f=c[f],f===void 0?c.push(d):f!==d&&(d.then(eg,eg),d=f),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,yE(c),c;default:if(typeof d.status=="string")d.then(eg,eg);else{if(c=an,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(m){if(d.status==="pending"){var y=d;y.status="fulfilled",y.value=m}},function(m){if(d.status==="pending"){var y=d;y.status="rejected",y.reason=m}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,yE(c),c}throw gh=d,ph}}var gh=null;function wE(){if(gh===null)throw Error(i(459));var c=gh;return gh=null,c}function yE(c){if(c===ph||c===Jp)throw Error(i(483))}var xa=!1;function fw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pw(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ba(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Ea(c,d,f){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(Vt&2)!==0){var y=m.pending;return y===null?d.next=d:(d.next=y.next,y.next=d),m.pending=d,d=Yp(c),oE(c,null,f),d}return jp(c,m,d,f),Yp(c)}function mh(c,d,f){if(d=d.updateQueue,d!==null&&(d=d.shared,(f&4194048)!==0)){var m=d.lanes;m&=c.pendingLanes,f|=m,d.lanes=f,kp(c,f)}}function gw(c,d){var f=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var y=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};b===null?y=b=M:b=b.next=M,f=f.next}while(f!==null);b===null?y=b=d:b=b.next=d}else y=b=d;f={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},c.updateQueue=f;return}c=f.lastBaseUpdate,c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=d}var mw=!1;function vh(){if(mw){var c=ou;if(c!==null)throw c}}function Ch(c,d,f,m){mw=!1;var y=c.updateQueue;xa=!1;var b=y.firstBaseUpdate,M=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var ne=N,pe=ne.next;ne.next=null,M===null?b=pe:M.next=pe,M=ne;var Te=c.alternate;Te!==null&&(Te=Te.updateQueue,N=Te.lastBaseUpdate,N!==M&&(N===null?Te.firstBaseUpdate=pe:N.next=pe,Te.lastBaseUpdate=ne))}if(b!==null){var Re=y.baseState;M=0,Te=pe=ne=null,N=b;do{var Ce=N.lane&-536870913,ye=Ce!==N.lane;if(ye?(Et&Ce)===Ce:(m&Ce)===Ce){Ce!==0&&Ce===su&&(mw=!0),Te!==null&&(Te=Te.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var lt=c,rt=N;Ce=d;var en=f;switch(rt.tag){case 1:if(lt=rt.payload,typeof lt=="function"){Re=lt.call(en,Re,Ce);break e}Re=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=rt.payload,Ce=typeof lt=="function"?lt.call(en,Re,Ce):lt,Ce==null)break e;Re=h({},Re,Ce);break e;case 2:xa=!0}}Ce=N.callback,Ce!==null&&(c.flags|=64,ye&&(c.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[Ce]:ye.push(Ce))}else ye={lane:Ce,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Te===null?(pe=Te=ye,ne=Re):Te=Te.next=ye,M|=Ce;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;ye=N,N=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Te===null&&(ne=Re),y.baseState=ne,y.firstBaseUpdate=pe,y.lastBaseUpdate=Te,b===null&&(y.shared.lanes=0),Pa|=M,c.lanes=M,c.memoizedState=Re}}function SE(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function xE(c,d){var f=c.callbacks;if(f!==null)for(c.callbacks=null,c=0;c<f.length;c++)SE(f[c],d)}var au=le(null),tg=le(0);function bE(c,d){c=Fo,Y(tg,c),Y(au,d),Fo=c|d.baseLanes}function vw(){Y(tg,Fo),Y(au,au.current)}function Cw(){Fo=tg.current,B(au),B(tg)}var Ta=0,pt=null,Zt=null,In=null,ng=!1,lu=!1,Il=!1,ig=0,wh=0,cu=null,BI=0;function Fn(){throw Error(i(321))}function ww(c,d){if(d===null)return!1;for(var f=0;f<d.length&&f<c.length;f++)if(!sr(c[f],d[f]))return!1;return!0}function yw(c,d,f,m,y,b){return Ta=b,pt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,j.H=c===null||c.memoizedState===null?oT:aT,Il=!1,b=f(m,y),Il=!1,lu&&(b=TE(d,f,m,y)),EE(c),b}function EE(c){j.H=cg;var d=Zt!==null&&Zt.next!==null;if(Ta=0,In=Zt=pt=null,ng=!1,wh=0,cu=null,d)throw Error(i(300));c===null||Qn||(c=c.dependencies,c!==null&&Xp(c)&&(Qn=!0))}function TE(c,d,f,m){pt=c;var y=0;do{if(lu&&(cu=null),wh=0,lu=!1,25<=y)throw Error(i(301));if(y+=1,In=Zt=null,c.updateQueue!=null){var b=c.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}j.H=jI,b=d(f,m)}while(lu);return b}function HI(){var c=j.H,d=c.useState()[0];return d=typeof d.then=="function"?yh(d):d,c=c.useState()[0],(Zt!==null?Zt.memoizedState:null)!==c&&(pt.flags|=1024),d}function Sw(){var c=ig!==0;return ig=0,c}function xw(c,d,f){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~f}function bw(c){if(ng){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ng=!1}Ta=0,In=Zt=pt=null,lu=!1,wh=ig=0,cu=null}function Wi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?pt.memoizedState=In=c:In=In.next=c,In}function Nn(){if(Zt===null){var c=pt.alternate;c=c!==null?c.memoizedState:null}else c=Zt.next;var d=In===null?pt.memoizedState:In.next;if(d!==null)In=d,Zt=c;else{if(c===null)throw pt.alternate===null?Error(i(467)):Error(i(310));Zt=c,c={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},In===null?pt.memoizedState=In=c:In=In.next=c}return In}function Ew(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yh(c){var d=wh;return wh+=1,cu===null&&(cu=[]),c=CE(cu,c,d),d=pt,(In===null?d.memoizedState:In.next)===null&&(d=d.alternate,j.H=d===null||d.memoizedState===null?oT:aT),c}function rg(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return yh(c);if(c.$$typeof===T)return yi(c)}throw Error(i(438,String(c)))}function Tw(c){var d=null,f=pt.updateQueue;if(f!==null&&(d=f.memoCache),d==null){var m=pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(d={data:m.data.map(function(y){return y.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),f===null&&(f=Ew(),pt.updateQueue=f),f.memoCache=d,f=d.data[d.index],f===void 0)for(f=d.data[d.index]=Array(c),m=0;m<c;m++)f[m]=O;return d.index++,f}function xo(c,d){return typeof d=="function"?d(c):d}function sg(c){var d=Nn();return Dw(d,Zt,c)}function Dw(c,d,f){var m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var y=c.baseQueue,b=m.pending;if(b!==null){if(y!==null){var M=y.next;y.next=b.next,b.next=M}d.baseQueue=y=b,m.pending=null}if(b=c.baseState,y===null)c.memoizedState=b;else{d=y.next;var N=M=null,ne=null,pe=d,Te=!1;do{var Re=pe.lane&-536870913;if(Re!==pe.lane?(Et&Re)===Re:(Ta&Re)===Re){var Ce=pe.revertLane;if(Ce===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Re===su&&(Te=!0);else if((Ta&Ce)===Ce){pe=pe.next,Ce===su&&(Te=!0);continue}else Re={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ne===null?(N=ne=Re,M=b):ne=ne.next=Re,pt.lanes|=Ce,Pa|=Ce;Re=pe.action,Il&&f(b,Re),b=pe.hasEagerState?pe.eagerState:f(b,Re)}else Ce={lane:Re,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ne===null?(N=ne=Ce,M=b):ne=ne.next=Ce,pt.lanes|=Re,Pa|=Re;pe=pe.next}while(pe!==null&&pe!==d);if(ne===null?M=b:ne.next=N,!sr(b,c.memoizedState)&&(Qn=!0,Te&&(f=ou,f!==null)))throw f;c.memoizedState=b,c.baseState=M,c.baseQueue=ne,m.lastRenderedState=b}return y===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function Rw(c){var d=Nn(),f=d.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=f.dispatch,y=f.pending,b=d.memoizedState;if(y!==null){f.pending=null;var M=y=y.next;do b=c(b,M.action),M=M.next;while(M!==y);sr(b,d.memoizedState)||(Qn=!0),d.memoizedState=b,d.baseQueue===null&&(d.baseState=b),f.lastRenderedState=b}return[b,m]}function DE(c,d,f){var m=pt,y=Nn(),b=Pt;if(b){if(f===void 0)throw Error(i(407));f=f()}else f=d();var M=!sr((Zt||y).memoizedState,f);M&&(y.memoizedState=f,Qn=!0),y=y.queue;var N=ME.bind(null,m,y,c);if(Sh(2048,8,N,[c]),y.getSnapshot!==d||M||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,uu(9,og(),FE.bind(null,m,y,f,d),null),an===null)throw Error(i(349));b||(Ta&124)!==0||RE(m,d,f)}return f}function RE(c,d,f){c.flags|=16384,c={getSnapshot:d,value:f},d=pt.updateQueue,d===null?(d=Ew(),pt.updateQueue=d,d.stores=[c]):(f=d.stores,f===null?d.stores=[c]:f.push(c))}function FE(c,d,f,m){d.value=f,d.getSnapshot=m,_E(d)&&AE(c)}function ME(c,d,f){return f(function(){_E(d)&&AE(c)})}function _E(c){var d=c.getSnapshot;c=c.value;try{var f=d();return!sr(c,f)}catch{return!0}}function AE(c){var d=tu(c,2);d!==null&&dr(d,c,2)}function Fw(c){var d=Wi();if(typeof c=="function"){var f=c;if(c=f(),Il){nt(!0);try{f()}finally{nt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:c},d}function PE(c,d,f,m){return c.baseState=f,Dw(c,Zt,typeof m=="function"?m:xo)}function GI(c,d,f,m,y){if(lg(c))throw Error(i(485));if(c=d.action,c!==null){var b={payload:y,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};j.T!==null?f(!0):b.isTransition=!1,m(b),f=d.pending,f===null?(b.next=d.pending=b,kE(d,b)):(b.next=f.next,d.pending=f.next=b)}}function kE(c,d){var f=d.action,m=d.payload,y=c.state;if(d.isTransition){var b=j.T,M={};j.T=M;try{var N=f(y,m),ne=j.S;ne!==null&&ne(M,N),OE(c,d,N)}catch(pe){Mw(c,d,pe)}finally{j.T=b}}else try{b=f(y,m),OE(c,d,b)}catch(pe){Mw(c,d,pe)}}function OE(c,d,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){LE(c,d,m)},function(m){return Mw(c,d,m)}):LE(c,d,f)}function LE(c,d,f){d.status="fulfilled",d.value=f,IE(d),c.state=f,d=c.pending,d!==null&&(f=d.next,f===d?c.pending=null:(f=f.next,d.next=f,kE(c,f)))}function Mw(c,d,f){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do d.status="rejected",d.reason=f,IE(d),d=d.next;while(d!==m)}c.action=null}function IE(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function NE(c,d){return d}function BE(c,d){if(Pt){var f=an.formState;if(f!==null){e:{var m=pt;if(Pt){if(bn){t:{for(var y=bn,b=As;y.nodeType!==8;){if(!b){y=null;break t}if(y=ls(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){bn=ls(y.nextSibling),m=y.data==="F!";break e}}Pl(m)}m=!1}m&&(d=f[0])}}return f=Wi(),f.memoizedState=f.baseState=d,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NE,lastRenderedState:d},f.queue=m,f=iT.bind(null,pt,m),m.dispatch=f,m=Fw(!1),b=Ow.bind(null,pt,!1,m.queue),m=Wi(),y={state:d,dispatch:null,action:c,pending:null},m.queue=y,f=GI.bind(null,pt,y,b,f),y.dispatch=f,m.memoizedState=c,[d,f,!1]}function HE(c){var d=Nn();return GE(d,Zt,c)}function GE(c,d,f){if(d=Dw(c,d,NE)[0],c=sg(xo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var m=yh(d)}catch(M){throw M===ph?Jp:M}else m=d;d=Nn();var y=d.queue,b=y.dispatch;return f!==d.memoizedState&&(pt.flags|=2048,uu(9,og(),VI.bind(null,y,f),null)),[m,b,c]}function VI(c,d){c.action=d}function VE(c){var d=Nn(),f=Zt;if(f!==null)return GE(d,f,c);Nn(),d=d.memoizedState,f=Nn();var m=f.queue.dispatch;return f.memoizedState=c,[d,m,!1]}function uu(c,d,f,m){return c={tag:c,create:f,deps:m,inst:d,next:null},d=pt.updateQueue,d===null&&(d=Ew(),pt.updateQueue=d),f=d.lastEffect,f===null?d.lastEffect=c.next=c:(m=f.next,f.next=c,c.next=m,d.lastEffect=c),c}function og(){return{destroy:void 0,resource:void 0}}function zE(){return Nn().memoizedState}function ag(c,d,f,m){var y=Wi();m=m===void 0?null:m,pt.flags|=c,y.memoizedState=uu(1|d,og(),f,m)}function Sh(c,d,f,m){var y=Nn();m=m===void 0?null:m;var b=y.memoizedState.inst;Zt!==null&&m!==null&&ww(m,Zt.memoizedState.deps)?y.memoizedState=uu(d,b,f,m):(pt.flags|=c,y.memoizedState=uu(1|d,b,f,m))}function WE(c,d){ag(8390656,8,c,d)}function UE(c,d){Sh(2048,8,c,d)}function jE(c,d){return Sh(4,2,c,d)}function YE(c,d){return Sh(4,4,c,d)}function $E(c,d){if(typeof d=="function"){c=c();var f=d(c);return function(){typeof f=="function"?f():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function KE(c,d,f){f=f!=null?f.concat([c]):null,Sh(4,4,$E.bind(null,d,c),f)}function _w(){}function qE(c,d){var f=Nn();d=d===void 0?null:d;var m=f.memoizedState;return d!==null&&ww(d,m[1])?m[0]:(f.memoizedState=[c,d],c)}function XE(c,d){var f=Nn();d=d===void 0?null:d;var m=f.memoizedState;if(d!==null&&ww(d,m[1]))return m[0];if(m=c(),Il){nt(!0);try{c()}finally{nt(!1)}}return f.memoizedState=[m,d],m}function Aw(c,d,f){return f===void 0||(Ta&1073741824)!==0?c.memoizedState=d:(c.memoizedState=f,c=JT(),pt.lanes|=c,Pa|=c,f)}function QE(c,d,f,m){return sr(f,d)?f:au.current!==null?(c=Aw(c,f,m),sr(c,d)||(Qn=!0),c):(Ta&42)===0?(Qn=!0,c.memoizedState=f):(c=JT(),pt.lanes|=c,Pa|=c,d)}function ZE(c,d,f,m,y){var b=W.p;W.p=b!==0&&8>b?b:8;var M=j.T,N={};j.T=N,Ow(c,!1,d,f);try{var ne=y(),pe=j.S;if(pe!==null&&pe(N,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Te=NI(ne,m);xh(c,d,Te,ur(c))}else xh(c,d,m,ur(c))}catch(Re){xh(c,d,{then:function(){},status:"rejected",reason:Re},ur())}finally{W.p=b,j.T=M}}function zI(){}function Pw(c,d,f,m){if(c.tag!==5)throw Error(i(476));var y=JE(c).queue;ZE(c,y,d,Q,f===null?zI:function(){return eT(c),f(m)})}function JE(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:Q},next:null};var f={};return d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:f},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function eT(c){var d=JE(c).next.queue;xh(c,d,{},ur())}function kw(){return yi(Gh)}function tT(){return Nn().memoizedState}function nT(){return Nn().memoizedState}function WI(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var f=ur();c=ba(f);var m=Ea(d,c,f);m!==null&&(dr(m,d,f),mh(m,d,f)),d={cache:cw()},c.payload=d;return}d=d.return}}function UI(c,d,f){var m=ur();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},lg(c)?rT(d,f):(f=JC(c,d,f,m),f!==null&&(dr(f,c,m),sT(f,d,m)))}function iT(c,d,f){var m=ur();xh(c,d,f,m)}function xh(c,d,f,m){var y={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(lg(c))rT(d,y);else{var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=d.lastRenderedReducer,b!==null))try{var M=d.lastRenderedState,N=b(M,f);if(y.hasEagerState=!0,y.eagerState=N,sr(N,M))return jp(c,d,y,0),an===null&&Up(),!1}catch{}finally{}if(f=JC(c,d,y,m),f!==null)return dr(f,c,m),sT(f,d,m),!0}return!1}function Ow(c,d,f,m){if(m={lane:2,revertLane:h1(),action:m,hasEagerState:!1,eagerState:null,next:null},lg(c)){if(d)throw Error(i(479))}else d=JC(c,f,m,2),d!==null&&dr(d,c,2)}function lg(c){var d=c.alternate;return c===pt||d!==null&&d===pt}function rT(c,d){lu=ng=!0;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}function sT(c,d,f){if((f&4194048)!==0){var m=d.lanes;m&=c.pendingLanes,f|=m,d.lanes=f,kp(c,f)}}var cg={readContext:yi,use:rg,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn},oT={readContext:yi,use:rg,useCallback:function(c,d){return Wi().memoizedState=[c,d===void 0?null:d],c},useContext:yi,useEffect:WE,useImperativeHandle:function(c,d,f){f=f!=null?f.concat([c]):null,ag(4194308,4,$E.bind(null,d,c),f)},useLayoutEffect:function(c,d){return ag(4194308,4,c,d)},useInsertionEffect:function(c,d){ag(4,2,c,d)},useMemo:function(c,d){var f=Wi();d=d===void 0?null:d;var m=c();if(Il){nt(!0);try{c()}finally{nt(!1)}}return f.memoizedState=[m,d],m},useReducer:function(c,d,f){var m=Wi();if(f!==void 0){var y=f(d);if(Il){nt(!0);try{f(d)}finally{nt(!1)}}}else y=d;return m.memoizedState=m.baseState=y,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:y},m.queue=c,c=c.dispatch=UI.bind(null,pt,c),[m.memoizedState,c]},useRef:function(c){var d=Wi();return c={current:c},d.memoizedState=c},useState:function(c){c=Fw(c);var d=c.queue,f=iT.bind(null,pt,d);return d.dispatch=f,[c.memoizedState,f]},useDebugValue:_w,useDeferredValue:function(c,d){var f=Wi();return Aw(f,c,d)},useTransition:function(){var c=Fw(!1);return c=ZE.bind(null,pt,c.queue,!0,!1),Wi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,f){var m=pt,y=Wi();if(Pt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=d(),an===null)throw Error(i(349));(Et&124)!==0||RE(m,d,f)}y.memoizedState=f;var b={value:f,getSnapshot:d};return y.queue=b,WE(ME.bind(null,m,b,c),[c]),m.flags|=2048,uu(9,og(),FE.bind(null,m,b,f,d),null),f},useId:function(){var c=Wi(),d=an.identifierPrefix;if(Pt){var f=wo,m=Co;f=(m&~(1<<32-xt(m)-1)).toString(32)+f,d=""+d+"R"+f,f=ig++,0<f&&(d+="H"+f.toString(32)),d+=""}else f=BI++,d=""+d+"r"+f.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:kw,useFormState:BE,useActionState:BE,useOptimistic:function(c){var d=Wi();d.memoizedState=d.baseState=c;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=f,d=Ow.bind(null,pt,!0,f),f.dispatch=d,[c,d]},useMemoCache:Tw,useCacheRefresh:function(){return Wi().memoizedState=WI.bind(null,pt)}},aT={readContext:yi,use:rg,useCallback:qE,useContext:yi,useEffect:UE,useImperativeHandle:KE,useInsertionEffect:jE,useLayoutEffect:YE,useMemo:XE,useReducer:sg,useRef:zE,useState:function(){return sg(xo)},useDebugValue:_w,useDeferredValue:function(c,d){var f=Nn();return QE(f,Zt.memoizedState,c,d)},useTransition:function(){var c=sg(xo)[0],d=Nn().memoizedState;return[typeof c=="boolean"?c:yh(c),d]},useSyncExternalStore:DE,useId:tT,useHostTransitionStatus:kw,useFormState:HE,useActionState:HE,useOptimistic:function(c,d){var f=Nn();return PE(f,Zt,c,d)},useMemoCache:Tw,useCacheRefresh:nT},jI={readContext:yi,use:rg,useCallback:qE,useContext:yi,useEffect:UE,useImperativeHandle:KE,useInsertionEffect:jE,useLayoutEffect:YE,useMemo:XE,useReducer:Rw,useRef:zE,useState:function(){return Rw(xo)},useDebugValue:_w,useDeferredValue:function(c,d){var f=Nn();return Zt===null?Aw(f,c,d):QE(f,Zt.memoizedState,c,d)},useTransition:function(){var c=Rw(xo)[0],d=Nn().memoizedState;return[typeof c=="boolean"?c:yh(c),d]},useSyncExternalStore:DE,useId:tT,useHostTransitionStatus:kw,useFormState:VE,useActionState:VE,useOptimistic:function(c,d){var f=Nn();return Zt!==null?PE(f,Zt,c,d):(f.baseState=c,[c,f.queue.dispatch])},useMemoCache:Tw,useCacheRefresh:nT},du=null,bh=0;function ug(c){var d=bh;return bh+=1,du===null&&(du=[]),CE(du,c,d)}function Eh(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function dg(c,d){throw d.$$typeof===p?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function lT(c){var d=c._init;return d(c._payload)}function cT(c){function d(ue,re){if(c){var fe=ue.deletions;fe===null?(ue.deletions=[re],ue.flags|=16):fe.push(re)}}function f(ue,re){if(!c)return null;for(;re!==null;)d(ue,re),re=re.sibling;return null}function m(ue){for(var re=new Map;ue!==null;)ue.key!==null?re.set(ue.key,ue):re.set(ue.index,ue),ue=ue.sibling;return re}function y(ue,re){return ue=vo(ue,re),ue.index=0,ue.sibling=null,ue}function b(ue,re,fe){return ue.index=fe,c?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<re?(ue.flags|=67108866,re):fe):(ue.flags|=67108866,re)):(ue.flags|=1048576,re)}function M(ue){return c&&ue.alternate===null&&(ue.flags|=67108866),ue}function N(ue,re,fe,De){return re===null||re.tag!==6?(re=tw(fe,ue.mode,De),re.return=ue,re):(re=y(re,fe),re.return=ue,re)}function ne(ue,re,fe,De){var Ke=fe.type;return Ke===C?Te(ue,re,fe.props.children,De,fe.key):re!==null&&(re.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===L&&lT(Ke)===re.type)?(re=y(re,fe.props),Eh(re,fe),re.return=ue,re):(re=$p(fe.type,fe.key,fe.props,null,ue.mode,De),Eh(re,fe),re.return=ue,re)}function pe(ue,re,fe,De){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=nw(fe,ue.mode,De),re.return=ue,re):(re=y(re,fe.children||[]),re.return=ue,re)}function Te(ue,re,fe,De,Ke){return re===null||re.tag!==7?(re=Fl(fe,ue.mode,De,Ke),re.return=ue,re):(re=y(re,fe),re.return=ue,re)}function Re(ue,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=tw(""+re,ue.mode,fe),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case g:return fe=$p(re.type,re.key,re.props,null,ue.mode,fe),Eh(fe,re),fe.return=ue,fe;case v:return re=nw(re,ue.mode,fe),re.return=ue,re;case L:var De=re._init;return re=De(re._payload),Re(ue,re,fe)}if(ie(re)||z(re))return re=Fl(re,ue.mode,fe,null),re.return=ue,re;if(typeof re.then=="function")return Re(ue,ug(re),fe);if(re.$$typeof===T)return Re(ue,Qp(ue,re),fe);dg(ue,re)}return null}function Ce(ue,re,fe,De){var Ke=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ke!==null?null:N(ue,re,""+fe,De);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:return fe.key===Ke?ne(ue,re,fe,De):null;case v:return fe.key===Ke?pe(ue,re,fe,De):null;case L:return Ke=fe._init,fe=Ke(fe._payload),Ce(ue,re,fe,De)}if(ie(fe)||z(fe))return Ke!==null?null:Te(ue,re,fe,De,null);if(typeof fe.then=="function")return Ce(ue,re,ug(fe),De);if(fe.$$typeof===T)return Ce(ue,re,Qp(ue,fe),De);dg(ue,fe)}return null}function ye(ue,re,fe,De,Ke){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ue=ue.get(fe)||null,N(re,ue,""+De,Ke);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case g:return ue=ue.get(De.key===null?fe:De.key)||null,ne(re,ue,De,Ke);case v:return ue=ue.get(De.key===null?fe:De.key)||null,pe(re,ue,De,Ke);case L:var Ct=De._init;return De=Ct(De._payload),ye(ue,re,fe,De,Ke)}if(ie(De)||z(De))return ue=ue.get(fe)||null,Te(re,ue,De,Ke,null);if(typeof De.then=="function")return ye(ue,re,fe,ug(De),Ke);if(De.$$typeof===T)return ye(ue,re,fe,Qp(re,De),Ke);dg(re,De)}return null}function lt(ue,re,fe,De){for(var Ke=null,Ct=null,Ze=re,ot=re=0,Jn=null;Ze!==null&&ot<fe.length;ot++){Ze.index>ot?(Jn=Ze,Ze=null):Jn=Ze.sibling;var _t=Ce(ue,Ze,fe[ot],De);if(_t===null){Ze===null&&(Ze=Jn);break}c&&Ze&&_t.alternate===null&&d(ue,Ze),re=b(_t,re,ot),Ct===null?Ke=_t:Ct.sibling=_t,Ct=_t,Ze=Jn}if(ot===fe.length)return f(ue,Ze),Pt&&_l(ue,ot),Ke;if(Ze===null){for(;ot<fe.length;ot++)Ze=Re(ue,fe[ot],De),Ze!==null&&(re=b(Ze,re,ot),Ct===null?Ke=Ze:Ct.sibling=Ze,Ct=Ze);return Pt&&_l(ue,ot),Ke}for(Ze=m(Ze);ot<fe.length;ot++)Jn=ye(Ze,ue,ot,fe[ot],De),Jn!==null&&(c&&Jn.alternate!==null&&Ze.delete(Jn.key===null?ot:Jn.key),re=b(Jn,re,ot),Ct===null?Ke=Jn:Ct.sibling=Jn,Ct=Jn);return c&&Ze.forEach(function(Va){return d(ue,Va)}),Pt&&_l(ue,ot),Ke}function rt(ue,re,fe,De){if(fe==null)throw Error(i(151));for(var Ke=null,Ct=null,Ze=re,ot=re=0,Jn=null,_t=fe.next();Ze!==null&&!_t.done;ot++,_t=fe.next()){Ze.index>ot?(Jn=Ze,Ze=null):Jn=Ze.sibling;var Va=Ce(ue,Ze,_t.value,De);if(Va===null){Ze===null&&(Ze=Jn);break}c&&Ze&&Va.alternate===null&&d(ue,Ze),re=b(Va,re,ot),Ct===null?Ke=Va:Ct.sibling=Va,Ct=Va,Ze=Jn}if(_t.done)return f(ue,Ze),Pt&&_l(ue,ot),Ke;if(Ze===null){for(;!_t.done;ot++,_t=fe.next())_t=Re(ue,_t.value,De),_t!==null&&(re=b(_t,re,ot),Ct===null?Ke=_t:Ct.sibling=_t,Ct=_t);return Pt&&_l(ue,ot),Ke}for(Ze=m(Ze);!_t.done;ot++,_t=fe.next())_t=ye(Ze,ue,ot,_t.value,De),_t!==null&&(c&&_t.alternate!==null&&Ze.delete(_t.key===null?ot:_t.key),re=b(_t,re,ot),Ct===null?Ke=_t:Ct.sibling=_t,Ct=_t);return c&&Ze.forEach(function(Y6){return d(ue,Y6)}),Pt&&_l(ue,ot),Ke}function en(ue,re,fe,De){if(typeof fe=="object"&&fe!==null&&fe.type===C&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:e:{for(var Ke=fe.key;re!==null;){if(re.key===Ke){if(Ke=fe.type,Ke===C){if(re.tag===7){f(ue,re.sibling),De=y(re,fe.props.children),De.return=ue,ue=De;break e}}else if(re.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===L&&lT(Ke)===re.type){f(ue,re.sibling),De=y(re,fe.props),Eh(De,fe),De.return=ue,ue=De;break e}f(ue,re);break}else d(ue,re);re=re.sibling}fe.type===C?(De=Fl(fe.props.children,ue.mode,De,fe.key),De.return=ue,ue=De):(De=$p(fe.type,fe.key,fe.props,null,ue.mode,De),Eh(De,fe),De.return=ue,ue=De)}return M(ue);case v:e:{for(Ke=fe.key;re!==null;){if(re.key===Ke)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){f(ue,re.sibling),De=y(re,fe.children||[]),De.return=ue,ue=De;break e}else{f(ue,re);break}else d(ue,re);re=re.sibling}De=nw(fe,ue.mode,De),De.return=ue,ue=De}return M(ue);case L:return Ke=fe._init,fe=Ke(fe._payload),en(ue,re,fe,De)}if(ie(fe))return lt(ue,re,fe,De);if(z(fe)){if(Ke=z(fe),typeof Ke!="function")throw Error(i(150));return fe=Ke.call(fe),rt(ue,re,fe,De)}if(typeof fe.then=="function")return en(ue,re,ug(fe),De);if(fe.$$typeof===T)return en(ue,re,Qp(ue,fe),De);dg(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(f(ue,re.sibling),De=y(re,fe),De.return=ue,ue=De):(f(ue,re),De=tw(fe,ue.mode,De),De.return=ue,ue=De),M(ue)):f(ue,re)}return function(ue,re,fe,De){try{bh=0;var Ke=en(ue,re,fe,De);return du=null,Ke}catch(Ze){if(Ze===ph||Ze===Jp)throw Ze;var Ct=or(29,Ze,null,ue.mode);return Ct.lanes=De,Ct.return=ue,Ct}finally{}}}var hu=cT(!0),uT=cT(!1),Or=le(null),Ps=null;function Da(c){var d=c.alternate;Y(Un,Un.current&1),Y(Or,c),Ps===null&&(d===null||au.current!==null||d.memoizedState!==null)&&(Ps=c)}function dT(c){if(c.tag===22){if(Y(Un,Un.current),Y(Or,c),Ps===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Ps=c)}}else Ra()}function Ra(){Y(Un,Un.current),Y(Or,Or.current)}function bo(c){B(Or),Ps===c&&(Ps=null),B(Un)}var Un=le(0);function hg(c){for(var d=c;d!==null;){if(d.tag===13){var f=d.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||E1(f)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Lw(c,d,f,m){d=c.memoizedState,f=f(m,d),f=f==null?d:h({},d,f),c.memoizedState=f,c.lanes===0&&(c.updateQueue.baseState=f)}var Iw={enqueueSetState:function(c,d,f){c=c._reactInternals;var m=ur(),y=ba(m);y.payload=d,f!=null&&(y.callback=f),d=Ea(c,y,m),d!==null&&(dr(d,c,m),mh(d,c,m))},enqueueReplaceState:function(c,d,f){c=c._reactInternals;var m=ur(),y=ba(m);y.tag=1,y.payload=d,f!=null&&(y.callback=f),d=Ea(c,y,m),d!==null&&(dr(d,c,m),mh(d,c,m))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var f=ur(),m=ba(f);m.tag=2,d!=null&&(m.callback=d),d=Ea(c,m,f),d!==null&&(dr(d,c,f),mh(d,c,f))}};function hT(c,d,f,m,y,b,M){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,b,M):d.prototype&&d.prototype.isPureReactComponent?!oh(f,m)||!oh(y,b):!0}function fT(c,d,f,m){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(f,m),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(f,m),d.state!==c&&Iw.enqueueReplaceState(d,d.state,null)}function Nl(c,d){var f=d;if("ref"in d){f={};for(var m in d)m!=="ref"&&(f[m]=d[m])}if(c=c.defaultProps){f===d&&(f=h({},f));for(var y in c)f[y]===void 0&&(f[y]=c[y])}return f}var fg=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function pT(c){fg(c)}function gT(c){console.error(c)}function mT(c){fg(c)}function pg(c,d){try{var f=c.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(m){setTimeout(function(){throw m})}}function vT(c,d,f){try{var m=c.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Nw(c,d,f){return f=ba(f),f.tag=3,f.payload={element:null},f.callback=function(){pg(c,d)},f}function CT(c){return c=ba(c),c.tag=3,c}function wT(c,d,f,m){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;c.payload=function(){return y(b)},c.callback=function(){vT(d,f,m)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(c.callback=function(){vT(d,f,m),typeof y!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var N=m.stack;this.componentDidCatch(m.value,{componentStack:N!==null?N:""})})}function YI(c,d,f,m,y){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(d=f.alternate,d!==null&&dh(d,f,y,!0),f=Or.current,f!==null){switch(f.tag){case 13:return Ps===null?a1():f.alternate===null&&En===0&&(En=3),f.flags&=-257,f.flags|=65536,f.lanes=y,m===hw?f.flags|=16384:(d=f.updateQueue,d===null?f.updateQueue=new Set([m]):d.add(m),c1(c,m,y)),!1;case 22:return f.flags|=65536,m===hw?f.flags|=16384:(d=f.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=d):(f=d.retryQueue,f===null?d.retryQueue=new Set([m]):f.add(m)),c1(c,m,y)),!1}throw Error(i(435,f.tag))}return c1(c,m,y),a1(),!1}if(Pt)return d=Or.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=y,m!==sw&&(c=Error(i(422),{cause:m}),uh(_r(c,f)))):(m!==sw&&(d=Error(i(423),{cause:m}),uh(_r(d,f))),c=c.current.alternate,c.flags|=65536,y&=-y,c.lanes|=y,m=_r(m,f),y=Nw(c.stateNode,m,y),gw(c,y),En!==4&&(En=2)),!1;var b=Error(i(520),{cause:m});if(b=_r(b,f),Ah===null?Ah=[b]:Ah.push(b),En!==4&&(En=2),d===null)return!0;m=_r(m,f),f=d;do{switch(f.tag){case 3:return f.flags|=65536,c=y&-y,f.lanes|=c,c=Nw(f.stateNode,m,c),gw(f,c),!1;case 1:if(d=f.type,b=f.stateNode,(f.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ka===null||!ka.has(b))))return f.flags|=65536,y&=-y,f.lanes|=y,y=CT(y),wT(y,c,f,m),gw(f,y),!1}f=f.return}while(f!==null);return!1}var yT=Error(i(461)),Qn=!1;function oi(c,d,f,m){d.child=c===null?uT(d,null,f,m):hu(d,c.child,f,m)}function ST(c,d,f,m,y){f=f.render;var b=d.ref;if("ref"in m){var M={};for(var N in m)N!=="ref"&&(M[N]=m[N])}else M=m;return Ol(d),m=yw(c,d,f,M,b,y),N=Sw(),c!==null&&!Qn?(xw(c,d,y),Eo(c,d,y)):(Pt&&N&&iw(d),d.flags|=1,oi(c,d,m,y),d.child)}function xT(c,d,f,m,y){if(c===null){var b=f.type;return typeof b=="function"&&!ew(b)&&b.defaultProps===void 0&&f.compare===null?(d.tag=15,d.type=b,bT(c,d,b,m,y)):(c=$p(f.type,null,m,d,d.mode,y),c.ref=d.ref,c.return=d,d.child=c)}if(b=c.child,!jw(c,y)){var M=b.memoizedProps;if(f=f.compare,f=f!==null?f:oh,f(M,m)&&c.ref===d.ref)return Eo(c,d,y)}return d.flags|=1,c=vo(b,m),c.ref=d.ref,c.return=d,d.child=c}function bT(c,d,f,m,y){if(c!==null){var b=c.memoizedProps;if(oh(b,m)&&c.ref===d.ref)if(Qn=!1,d.pendingProps=m=b,jw(c,y))(c.flags&131072)!==0&&(Qn=!0);else return d.lanes=c.lanes,Eo(c,d,y)}return Bw(c,d,f,m,y)}function ET(c,d,f){var m=d.pendingProps,y=m.children,b=c!==null?c.memoizedState:null;if(m.mode==="hidden"){if((d.flags&128)!==0){if(m=b!==null?b.baseLanes|f:f,c!==null){for(y=d.child=c.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;d.childLanes=b&~m}else d.childLanes=0,d.child=null;return TT(c,d,m,f)}if((f&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Zp(d,b!==null?b.cachePool:null),b!==null?bE(d,b):vw(),dT(d);else return d.lanes=d.childLanes=536870912,TT(c,d,b!==null?b.baseLanes|f:f,f)}else b!==null?(Zp(d,b.cachePool),bE(d,b),Ra(),d.memoizedState=null):(c!==null&&Zp(d,null),vw(),Ra());return oi(c,d,y,f),d.child}function TT(c,d,f,m){var y=dw();return y=y===null?null:{parent:Wn._currentValue,pool:y},d.memoizedState={baseLanes:f,cachePool:y},c!==null&&Zp(d,null),vw(),dT(d),c!==null&&dh(c,d,m,!0),null}function gg(c,d){var f=d.ref;if(f===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(c===null||c.ref!==f)&&(d.flags|=4194816)}}function Bw(c,d,f,m,y){return Ol(d),f=yw(c,d,f,m,void 0,y),m=Sw(),c!==null&&!Qn?(xw(c,d,y),Eo(c,d,y)):(Pt&&m&&iw(d),d.flags|=1,oi(c,d,f,y),d.child)}function DT(c,d,f,m,y,b){return Ol(d),d.updateQueue=null,f=TE(d,m,f,y),EE(c),m=Sw(),c!==null&&!Qn?(xw(c,d,b),Eo(c,d,b)):(Pt&&m&&iw(d),d.flags|=1,oi(c,d,f,b),d.child)}function RT(c,d,f,m,y){if(Ol(d),d.stateNode===null){var b=nu,M=f.contextType;typeof M=="object"&&M!==null&&(b=yi(M)),b=new f(m,b),d.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Iw,d.stateNode=b,b._reactInternals=d,b=d.stateNode,b.props=m,b.state=d.memoizedState,b.refs={},fw(d),M=f.contextType,b.context=typeof M=="object"&&M!==null?yi(M):nu,b.state=d.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(Lw(d,f,M,m),b.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&Iw.enqueueReplaceState(b,b.state,null),Ch(d,m,b,y),vh(),b.state=d.memoizedState),typeof b.componentDidMount=="function"&&(d.flags|=4194308),m=!0}else if(c===null){b=d.stateNode;var N=d.memoizedProps,ne=Nl(f,N);b.props=ne;var pe=b.context,Te=f.contextType;M=nu,typeof Te=="object"&&Te!==null&&(M=yi(Te));var Re=f.getDerivedStateFromProps;Te=typeof Re=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=d.pendingProps!==N,Te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||pe!==M)&&fT(d,b,m,M),xa=!1;var Ce=d.memoizedState;b.state=Ce,Ch(d,m,b,y),vh(),pe=d.memoizedState,N||Ce!==pe||xa?(typeof Re=="function"&&(Lw(d,f,Re,m),pe=d.memoizedState),(ne=xa||hT(d,f,ne,m,Ce,pe,M))?(Te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(d.flags|=4194308)):(typeof b.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=m,d.memoizedState=pe),b.props=m,b.state=pe,b.context=M,m=ne):(typeof b.componentDidMount=="function"&&(d.flags|=4194308),m=!1)}else{b=d.stateNode,pw(c,d),M=d.memoizedProps,Te=Nl(f,M),b.props=Te,Re=d.pendingProps,Ce=b.context,pe=f.contextType,ne=nu,typeof pe=="object"&&pe!==null&&(ne=yi(pe)),N=f.getDerivedStateFromProps,(pe=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Re||Ce!==ne)&&fT(d,b,m,ne),xa=!1,Ce=d.memoizedState,b.state=Ce,Ch(d,m,b,y),vh();var ye=d.memoizedState;M!==Re||Ce!==ye||xa||c!==null&&c.dependencies!==null&&Xp(c.dependencies)?(typeof N=="function"&&(Lw(d,f,N,m),ye=d.memoizedState),(Te=xa||hT(d,f,Te,m,Ce,ye,ne)||c!==null&&c.dependencies!==null&&Xp(c.dependencies))?(pe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ye,ne),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ye,ne)),typeof b.componentDidUpdate=="function"&&(d.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=1024),d.memoizedProps=m,d.memoizedState=ye),b.props=m,b.state=ye,b.context=ne,m=Te):(typeof b.componentDidUpdate!="function"||M===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=1024),m=!1)}return b=m,gg(c,d),m=(d.flags&128)!==0,b||m?(b=d.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:b.render(),d.flags|=1,c!==null&&m?(d.child=hu(d,c.child,null,y),d.child=hu(d,null,f,y)):oi(c,d,f,y),d.memoizedState=b.state,c=d.child):c=Eo(c,d,y),c}function FT(c,d,f,m){return ch(),d.flags|=256,oi(c,d,f,m),d.child}var Hw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gw(c){return{baseLanes:c,cachePool:gE()}}function Vw(c,d,f){return c=c!==null?c.childLanes&~f:0,d&&(c|=Lr),c}function MT(c,d,f){var m=d.pendingProps,y=!1,b=(d.flags&128)!==0,M;if((M=b)||(M=c!==null&&c.memoizedState===null?!1:(Un.current&2)!==0),M&&(y=!0,d.flags&=-129),M=(d.flags&32)!==0,d.flags&=-33,c===null){if(Pt){if(y?Da(d):Ra(),Pt){var N=bn,ne;if(ne=N){e:{for(ne=N,N=As;ne.nodeType!==8;){if(!N){N=null;break e}if(ne=ls(ne.nextSibling),ne===null){N=null;break e}}N=ne}N!==null?(d.memoizedState={dehydrated:N,treeContext:Ml!==null?{id:Co,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},ne=or(18,null,null,0),ne.stateNode=N,ne.return=d,d.child=ne,Mi=d,bn=null,ne=!0):ne=!1}ne||Pl(d)}if(N=d.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return E1(N)?d.lanes=32:d.lanes=536870912,null;bo(d)}return N=m.children,m=m.fallback,y?(Ra(),y=d.mode,N=mg({mode:"hidden",children:N},y),m=Fl(m,y,f,null),N.return=d,m.return=d,N.sibling=m,d.child=N,y=d.child,y.memoizedState=Gw(f),y.childLanes=Vw(c,M,f),d.memoizedState=Hw,m):(Da(d),zw(d,N))}if(ne=c.memoizedState,ne!==null&&(N=ne.dehydrated,N!==null)){if(b)d.flags&256?(Da(d),d.flags&=-257,d=Ww(c,d,f)):d.memoizedState!==null?(Ra(),d.child=c.child,d.flags|=128,d=null):(Ra(),y=m.fallback,N=d.mode,m=mg({mode:"visible",children:m.children},N),y=Fl(y,N,f,null),y.flags|=2,m.return=d,y.return=d,m.sibling=y,d.child=m,hu(d,c.child,null,f),m=d.child,m.memoizedState=Gw(f),m.childLanes=Vw(c,M,f),d.memoizedState=Hw,d=y);else if(Da(d),E1(N)){if(M=N.nextSibling&&N.nextSibling.dataset,M)var pe=M.dgst;M=pe,m=Error(i(419)),m.stack="",m.digest=M,uh({value:m,source:null,stack:null}),d=Ww(c,d,f)}else if(Qn||dh(c,d,f,!1),M=(f&c.childLanes)!==0,Qn||M){if(M=an,M!==null&&(m=f&-f,m=(m&42)!==0?1:Xd(m),m=(m&(M.suspendedLanes|f))!==0?0:m,m!==0&&m!==ne.retryLane))throw ne.retryLane=m,tu(c,m),dr(M,c,m),yT;N.data==="$?"||a1(),d=Ww(c,d,f)}else N.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=ne.treeContext,bn=ls(N.nextSibling),Mi=d,Pt=!0,Al=null,As=!1,c!==null&&(Pr[kr++]=Co,Pr[kr++]=wo,Pr[kr++]=Ml,Co=c.id,wo=c.overflow,Ml=d),d=zw(d,m.children),d.flags|=4096);return d}return y?(Ra(),y=m.fallback,N=d.mode,ne=c.child,pe=ne.sibling,m=vo(ne,{mode:"hidden",children:m.children}),m.subtreeFlags=ne.subtreeFlags&65011712,pe!==null?y=vo(pe,y):(y=Fl(y,N,f,null),y.flags|=2),y.return=d,m.return=d,m.sibling=y,d.child=m,m=y,y=d.child,N=c.child.memoizedState,N===null?N=Gw(f):(ne=N.cachePool,ne!==null?(pe=Wn._currentValue,ne=ne.parent!==pe?{parent:pe,pool:pe}:ne):ne=gE(),N={baseLanes:N.baseLanes|f,cachePool:ne}),y.memoizedState=N,y.childLanes=Vw(c,M,f),d.memoizedState=Hw,m):(Da(d),f=c.child,c=f.sibling,f=vo(f,{mode:"visible",children:m.children}),f.return=d,f.sibling=null,c!==null&&(M=d.deletions,M===null?(d.deletions=[c],d.flags|=16):M.push(c)),d.child=f,d.memoizedState=null,f)}function zw(c,d){return d=mg({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function mg(c,d){return c=or(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Ww(c,d,f){return hu(d,c.child,null,f),c=zw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function _T(c,d,f){c.lanes|=d;var m=c.alternate;m!==null&&(m.lanes|=d),aw(c.return,d,f)}function Uw(c,d,f,m,y){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:y}:(b.isBackwards=d,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=f,b.tailMode=y)}function AT(c,d,f){var m=d.pendingProps,y=m.revealOrder,b=m.tail;if(oi(c,d,m.children,f),m=Un.current,(m&2)!==0)m=m&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_T(c,f,d);else if(c.tag===19)_T(c,f,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}m&=1}switch(Y(Un,m),y){case"forwards":for(f=d.child,y=null;f!==null;)c=f.alternate,c!==null&&hg(c)===null&&(y=f),f=f.sibling;f=y,f===null?(y=d.child,d.child=null):(y=f.sibling,f.sibling=null),Uw(d,!1,y,f,b);break;case"backwards":for(f=null,y=d.child,d.child=null;y!==null;){if(c=y.alternate,c!==null&&hg(c)===null){d.child=y;break}c=y.sibling,y.sibling=f,f=y,y=c}Uw(d,!0,f,null,b);break;case"together":Uw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Eo(c,d,f){if(c!==null&&(d.dependencies=c.dependencies),Pa|=d.lanes,(f&d.childLanes)===0)if(c!==null){if(dh(c,d,f,!1),(f&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,f=vo(c,c.pendingProps),d.child=f,f.return=d;c.sibling!==null;)c=c.sibling,f=f.sibling=vo(c,c.pendingProps),f.return=d;f.sibling=null}return d.child}function jw(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Xp(c)))}function $I(c,d,f){switch(d.tag){case 3:Oe(d,d.stateNode.containerInfo),Sa(d,Wn,c.memoizedState.cache),ch();break;case 27:case 5:Pe(d);break;case 4:Oe(d,d.stateNode.containerInfo);break;case 10:Sa(d,d.type,d.memoizedProps.value);break;case 13:var m=d.memoizedState;if(m!==null)return m.dehydrated!==null?(Da(d),d.flags|=128,null):(f&d.child.childLanes)!==0?MT(c,d,f):(Da(d),c=Eo(c,d,f),c!==null?c.sibling:null);Da(d);break;case 19:var y=(c.flags&128)!==0;if(m=(f&d.childLanes)!==0,m||(dh(c,d,f,!1),m=(f&d.childLanes)!==0),y){if(m)return AT(c,d,f);d.flags|=128}if(y=d.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(Un,Un.current),m)break;return null;case 22:case 23:return d.lanes=0,ET(c,d,f);case 24:Sa(d,Wn,c.memoizedState.cache)}return Eo(c,d,f)}function PT(c,d,f){if(c!==null)if(c.memoizedProps!==d.pendingProps)Qn=!0;else{if(!jw(c,f)&&(d.flags&128)===0)return Qn=!1,$I(c,d,f);Qn=(c.flags&131072)!==0}else Qn=!1,Pt&&(d.flags&1048576)!==0&&lE(d,qp,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var m=d.elementType,y=m._init;if(m=y(m._payload),d.type=m,typeof m=="function")ew(m)?(c=Nl(m,c),d.tag=1,d=RT(null,d,m,c,f)):(d.tag=0,d=Bw(null,d,m,c,f));else{if(m!=null){if(y=m.$$typeof,y===R){d.tag=11,d=ST(null,d,m,c,f);break e}else if(y===_){d.tag=14,d=xT(null,d,m,c,f);break e}}throw d=ae(m)||m,Error(i(306,d,""))}}return d;case 0:return Bw(c,d,d.type,d.pendingProps,f);case 1:return m=d.type,y=Nl(m,d.pendingProps),RT(c,d,m,y,f);case 3:e:{if(Oe(d,d.stateNode.containerInfo),c===null)throw Error(i(387));m=d.pendingProps;var b=d.memoizedState;y=b.element,pw(c,d),Ch(d,m,null,f);var M=d.memoizedState;if(m=M.cache,Sa(d,Wn,m),m!==b.cache&&lw(d,[Wn],f,!0),vh(),m=M.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:M.cache},d.updateQueue.baseState=b,d.memoizedState=b,d.flags&256){d=FT(c,d,m,f);break e}else if(m!==y){y=_r(Error(i(424)),d),uh(y),d=FT(c,d,m,f);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(bn=ls(c.firstChild),Mi=d,Pt=!0,Al=null,As=!0,f=uT(d,null,m,f),d.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ch(),m===y){d=Eo(c,d,f);break e}oi(c,d,m,f)}d=d.child}return d;case 26:return gg(c,d),c===null?(f=ID(d.type,null,d.pendingProps,null))?d.memoizedState=f:Pt||(f=d.type,c=d.pendingProps,m=_g(de.current).createElement(f),m[qn]=d,m[Xn]=c,li(m,f,c),he(m),d.stateNode=m):d.memoizedState=ID(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Pe(d),c===null&&Pt&&(m=d.stateNode=kD(d.type,d.pendingProps,de.current),Mi=d,As=!0,y=bn,Ia(d.type)?(T1=y,bn=ls(m.firstChild)):bn=y),oi(c,d,d.pendingProps.children,f),gg(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Pt&&((y=m=bn)&&(m=S6(m,d.type,d.pendingProps,As),m!==null?(d.stateNode=m,Mi=d,bn=ls(m.firstChild),As=!1,y=!0):y=!1),y||Pl(d)),Pe(d),y=d.type,b=d.pendingProps,M=c!==null?c.memoizedProps:null,m=b.children,S1(y,b)?m=null:M!==null&&S1(y,M)&&(d.flags|=32),d.memoizedState!==null&&(y=yw(c,d,HI,null,null,f),Gh._currentValue=y),gg(c,d),oi(c,d,m,f),d.child;case 6:return c===null&&Pt&&((c=f=bn)&&(f=x6(f,d.pendingProps,As),f!==null?(d.stateNode=f,Mi=d,bn=null,c=!0):c=!1),c||Pl(d)),null;case 13:return MT(c,d,f);case 4:return Oe(d,d.stateNode.containerInfo),m=d.pendingProps,c===null?d.child=hu(d,null,m,f):oi(c,d,m,f),d.child;case 11:return ST(c,d,d.type,d.pendingProps,f);case 7:return oi(c,d,d.pendingProps,f),d.child;case 8:return oi(c,d,d.pendingProps.children,f),d.child;case 12:return oi(c,d,d.pendingProps.children,f),d.child;case 10:return m=d.pendingProps,Sa(d,d.type,m.value),oi(c,d,m.children,f),d.child;case 9:return y=d.type._context,m=d.pendingProps.children,Ol(d),y=yi(y),m=m(y),d.flags|=1,oi(c,d,m,f),d.child;case 14:return xT(c,d,d.type,d.pendingProps,f);case 15:return bT(c,d,d.type,d.pendingProps,f);case 19:return AT(c,d,f);case 31:return m=d.pendingProps,f=d.mode,m={mode:m.mode,children:m.children},c===null?(f=mg(m,f),f.ref=d.ref,d.child=f,f.return=d,d=f):(f=vo(c.child,m),f.ref=d.ref,d.child=f,f.return=d,d=f),d;case 22:return ET(c,d,f);case 24:return Ol(d),m=yi(Wn),c===null?(y=dw(),y===null&&(y=an,b=cw(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=f),y=b),d.memoizedState={parent:m,cache:y},fw(d),Sa(d,Wn,y)):((c.lanes&f)!==0&&(pw(c,d),Ch(d,null,null,f),vh()),y=c.memoizedState,b=d.memoizedState,y.parent!==m?(y={parent:m,cache:m},d.memoizedState=y,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=y),Sa(d,Wn,m)):(m=b.cache,Sa(d,Wn,m),m!==y.cache&&lw(d,[Wn],f,!0))),oi(c,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function To(c){c.flags|=4}function kT(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!VD(d)){if(d=Or.current,d!==null&&((Et&4194048)===Et?Ps!==null:(Et&62914560)!==Et&&(Et&536870912)===0||d!==Ps))throw gh=hw,mE;c.flags|=8192}}function vg(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Kd():536870912,c.lanes|=d,mu|=d)}function Th(c,d){if(!Pt)switch(c.tailMode){case"hidden":d=c.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?c.tail=null:f.sibling=null;break;case"collapsed":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function vn(c){var d=c.alternate!==null&&c.alternate.child===c.child,f=0,m=0;if(d)for(var y=c.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=c,y=y.sibling;else for(y=c.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=c,y=y.sibling;return c.subtreeFlags|=m,c.childLanes=f,d}function KI(c,d,f){var m=d.pendingProps;switch(rw(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(d),null;case 1:return vn(d),null;case 3:return f=d.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),So(Wn),_e(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(c===null||c.child===null)&&(lh(d)?To(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,dE())),vn(d),null;case 26:return f=d.memoizedState,c===null?(To(d),f!==null?(vn(d),kT(d,f)):(vn(d),d.flags&=-16777217)):f?f!==c.memoizedState?(To(d),vn(d),kT(d,f)):(vn(d),d.flags&=-16777217):(c.memoizedProps!==m&&To(d),vn(d),d.flags&=-16777217),null;case 27:it(d),f=de.current;var y=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==m&&To(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return vn(d),null}c=K.current,lh(d)?cE(d):(c=kD(y,m,f),d.stateNode=c,To(d))}return vn(d),null;case 5:if(it(d),f=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==m&&To(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return vn(d),null}if(c=K.current,lh(d))cE(d);else{switch(y=_g(de.current),c){case 1:c=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:c=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":c=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":c=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":c=y.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?c.multiple=!0:m.size&&(c.size=m.size);break;default:c=typeof m.is=="string"?y.createElement(f,{is:m.is}):y.createElement(f)}}c[qn]=d,c[Xn]=m;e:for(y=d.child;y!==null;){if(y.tag===5||y.tag===6)c.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break e;for(;y.sibling===null;){if(y.return===null||y.return===d)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}d.stateNode=c;e:switch(li(c,f,m),f){case"button":case"input":case"select":case"textarea":c=!!m.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&To(d)}}return vn(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==m&&To(d);else{if(typeof m!="string"&&d.stateNode===null)throw Error(i(166));if(c=de.current,lh(d)){if(c=d.stateNode,f=d.memoizedProps,m=null,y=Mi,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}c[qn]=d,c=!!(c.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||DD(c.nodeValue,f)),c||Pl(d)}else c=_g(c).createTextNode(m),c[qn]=d,d.stateNode=c}return vn(d),null;case 13:if(m=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(y=lh(d),m!==null&&m.dehydrated!==null){if(c===null){if(!y)throw Error(i(318));if(y=d.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[qn]=d}else ch(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;vn(d),y=!1}else y=dE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=y),y=!0;if(!y)return d.flags&256?(bo(d),d):(bo(d),null)}if(bo(d),(d.flags&128)!==0)return d.lanes=f,d;if(f=m!==null,c=c!==null&&c.memoizedState!==null,f){m=d.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)}return f!==c&&f&&(d.child.flags|=8192),vg(d,d.updateQueue),vn(d),null;case 4:return _e(),c===null&&m1(d.stateNode.containerInfo),vn(d),null;case 10:return So(d.type),vn(d),null;case 19:if(B(Un),y=d.memoizedState,y===null)return vn(d),null;if(m=(d.flags&128)!==0,b=y.rendering,b===null)if(m)Th(y,!1);else{if(En!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(b=hg(c),b!==null){for(d.flags|=128,Th(y,!1),c=b.updateQueue,d.updateQueue=c,vg(d,c),d.subtreeFlags=0,c=f,f=d.child;f!==null;)aE(f,c),f=f.sibling;return Y(Un,Un.current&1|2),d.child}c=c.sibling}y.tail!==null&&ke()>yg&&(d.flags|=128,m=!0,Th(y,!1),d.lanes=4194304)}else{if(!m)if(c=hg(b),c!==null){if(d.flags|=128,m=!0,c=c.updateQueue,d.updateQueue=c,vg(d,c),Th(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Pt)return vn(d),null}else 2*ke()-y.renderingStartTime>yg&&f!==536870912&&(d.flags|=128,m=!0,Th(y,!1),d.lanes=4194304);y.isBackwards?(b.sibling=d.child,d.child=b):(c=y.last,c!==null?c.sibling=b:d.child=b,y.last=b)}return y.tail!==null?(d=y.tail,y.rendering=d,y.tail=d.sibling,y.renderingStartTime=ke(),d.sibling=null,c=Un.current,Y(Un,m?c&1|2:c&1),d):(vn(d),null);case 22:case 23:return bo(d),Cw(),m=d.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(d.flags|=8192):m&&(d.flags|=8192),m?(f&536870912)!==0&&(d.flags&128)===0&&(vn(d),d.subtreeFlags&6&&(d.flags|=8192)):vn(d),f=d.updateQueue,f!==null&&vg(d,f.retryQueue),f=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),m=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==f&&(d.flags|=2048),c!==null&&B(Ll),null;case 24:return f=null,c!==null&&(f=c.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),So(Wn),vn(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function qI(c,d){switch(rw(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return So(Wn),_e(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return it(d),null;case 13:if(bo(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));ch()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return B(Un),null;case 4:return _e(),null;case 10:return So(d.type),null;case 22:case 23:return bo(d),Cw(),c!==null&&B(Ll),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return So(Wn),null;case 25:return null;default:return null}}function OT(c,d){switch(rw(d),d.tag){case 3:So(Wn),_e();break;case 26:case 27:case 5:it(d);break;case 4:_e();break;case 13:bo(d);break;case 19:B(Un);break;case 10:So(d.type);break;case 22:case 23:bo(d),Cw(),c!==null&&B(Ll);break;case 24:So(Wn)}}function Dh(c,d){try{var f=d.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&c)===c){m=void 0;var b=f.create,M=f.inst;m=b(),M.destroy=m}f=f.next}while(f!==y)}}catch(N){rn(d,d.return,N)}}function Fa(c,d,f){try{var m=d.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&c)===c){var M=m.inst,N=M.destroy;if(N!==void 0){M.destroy=void 0,y=d;var ne=f,pe=N;try{pe()}catch(Te){rn(y,ne,Te)}}}m=m.next}while(m!==b)}}catch(Te){rn(d,d.return,Te)}}function LT(c){var d=c.updateQueue;if(d!==null){var f=c.stateNode;try{xE(d,f)}catch(m){rn(c,c.return,m)}}}function IT(c,d,f){f.props=Nl(c.type,c.memoizedProps),f.state=c.memoizedState;try{f.componentWillUnmount()}catch(m){rn(c,d,m)}}function Rh(c,d){try{var f=c.ref;if(f!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof f=="function"?c.refCleanup=f(m):f.current=m}}catch(y){rn(c,d,y)}}function ks(c,d){var f=c.ref,m=c.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(y){rn(c,d,y)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){rn(c,d,y)}else f.current=null}function NT(c){var d=c.type,f=c.memoizedProps,m=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(y){rn(c,c.return,y)}}function Yw(c,d,f){try{var m=c.stateNode;m6(m,c.type,f,d),m[Xn]=d}catch(y){rn(c,c.return,y)}}function BT(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Ia(c.type)||c.tag===4}function $w(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||BT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Ia(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Kw(c,d,f){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(c,d):(d=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,d.appendChild(c),f=f._reactRootContainer,f!=null||d.onclick!==null||(d.onclick=Mg));else if(m!==4&&(m===27&&Ia(c.type)&&(f=c.stateNode,d=null),c=c.child,c!==null))for(Kw(c,d,f),c=c.sibling;c!==null;)Kw(c,d,f),c=c.sibling}function Cg(c,d,f){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?f.insertBefore(c,d):f.appendChild(c);else if(m!==4&&(m===27&&Ia(c.type)&&(f=c.stateNode),c=c.child,c!==null))for(Cg(c,d,f),c=c.sibling;c!==null;)Cg(c,d,f),c=c.sibling}function HT(c){var d=c.stateNode,f=c.memoizedProps;try{for(var m=c.type,y=d.attributes;y.length;)d.removeAttributeNode(y[0]);li(d,m,f),d[qn]=c,d[Xn]=f}catch(b){rn(c,c.return,b)}}var Do=!1,Mn=!1,qw=!1,GT=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function XI(c,d){if(c=c.containerInfo,w1=Ig,c=Q2(c),$C(c)){if("selectionStart"in c)var f={start:c.selectionStart,end:c.selectionEnd};else e:{f=(f=c.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var M=0,N=-1,ne=-1,pe=0,Te=0,Re=c,Ce=null;t:for(;;){for(var ye;Re!==f||y!==0&&Re.nodeType!==3||(N=M+y),Re!==b||m!==0&&Re.nodeType!==3||(ne=M+m),Re.nodeType===3&&(M+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)Ce=Re,Re=ye;for(;;){if(Re===c)break t;if(Ce===f&&++pe===y&&(N=M),Ce===b&&++Te===m&&(ne=M),(ye=Re.nextSibling)!==null)break;Re=Ce,Ce=Re.parentNode}Re=ye}f=N===-1||ne===-1?null:{start:N,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(y1={focusedElem:c,selectionRange:f},Ig=!1,Zn=d;Zn!==null;)if(d=Zn,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Zn=c;else for(;Zn!==null;){switch(d=Zn,b=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&b!==null){c=void 0,f=d,y=b.memoizedProps,b=b.memoizedState,m=f.stateNode;try{var lt=Nl(f.type,y,f.elementType===f.type);c=m.getSnapshotBeforeUpdate(lt,b),m.__reactInternalSnapshotBeforeUpdate=c}catch(rt){rn(f,f.return,rt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,f=c.nodeType,f===9)b1(c);else if(f===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":b1(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,Zn=c;break}Zn=d.return}}function VT(c,d,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Ma(c,f),m&4&&Dh(5,f);break;case 1:if(Ma(c,f),m&4)if(c=f.stateNode,d===null)try{c.componentDidMount()}catch(M){rn(f,f.return,M)}else{var y=Nl(f.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(y,d,c.__reactInternalSnapshotBeforeUpdate)}catch(M){rn(f,f.return,M)}}m&64&&LT(f),m&512&&Rh(f,f.return);break;case 3:if(Ma(c,f),m&64&&(c=f.updateQueue,c!==null)){if(d=null,f.child!==null)switch(f.child.tag){case 27:case 5:d=f.child.stateNode;break;case 1:d=f.child.stateNode}try{xE(c,d)}catch(M){rn(f,f.return,M)}}break;case 27:d===null&&m&4&&HT(f);case 26:case 5:Ma(c,f),d===null&&m&4&&NT(f),m&512&&Rh(f,f.return);break;case 12:Ma(c,f);break;case 13:Ma(c,f),m&4&&UT(c,f),m&64&&(c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(f=s6.bind(null,f),b6(c,f))));break;case 22:if(m=f.memoizedState!==null||Do,!m){d=d!==null&&d.memoizedState!==null||Mn,y=Do;var b=Mn;Do=m,(Mn=d)&&!b?_a(c,f,(f.subtreeFlags&8772)!==0):Ma(c,f),Do=y,Mn=b}break;case 30:break;default:Ma(c,f)}}function zT(c){var d=c.alternate;d!==null&&(c.alternate=null,zT(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&U(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var hn=null,Ui=!1;function Ro(c,d,f){for(f=f.child;f!==null;)WT(c,d,f),f=f.sibling}function WT(c,d,f){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Mt,f)}catch{}switch(f.tag){case 26:Mn||ks(f,d),Ro(c,d,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Mn||ks(f,d);var m=hn,y=Ui;Ia(f.type)&&(hn=f.stateNode,Ui=!1),Ro(c,d,f),Ih(f.stateNode),hn=m,Ui=y;break;case 5:Mn||ks(f,d);case 6:if(m=hn,y=Ui,hn=null,Ro(c,d,f),hn=m,Ui=y,hn!==null)if(Ui)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(f.stateNode)}catch(b){rn(f,d,b)}else try{hn.removeChild(f.stateNode)}catch(b){rn(f,d,b)}break;case 18:hn!==null&&(Ui?(c=hn,AD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,f.stateNode),Uh(c)):AD(hn,f.stateNode));break;case 4:m=hn,y=Ui,hn=f.stateNode.containerInfo,Ui=!0,Ro(c,d,f),hn=m,Ui=y;break;case 0:case 11:case 14:case 15:Mn||Fa(2,f,d),Mn||Fa(4,f,d),Ro(c,d,f);break;case 1:Mn||(ks(f,d),m=f.stateNode,typeof m.componentWillUnmount=="function"&&IT(f,d,m)),Ro(c,d,f);break;case 21:Ro(c,d,f);break;case 22:Mn=(m=Mn)||f.memoizedState!==null,Ro(c,d,f),Mn=m;break;default:Ro(c,d,f)}}function UT(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Uh(c)}catch(f){rn(d,d.return,f)}}function QI(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new GT),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new GT),d;default:throw Error(i(435,c.tag))}}function Xw(c,d){var f=QI(c);d.forEach(function(m){var y=o6.bind(null,c,m);f.has(m)||(f.add(m),m.then(y,y))})}function ar(c,d){var f=d.deletions;if(f!==null)for(var m=0;m<f.length;m++){var y=f[m],b=c,M=d,N=M;e:for(;N!==null;){switch(N.tag){case 27:if(Ia(N.type)){hn=N.stateNode,Ui=!1;break e}break;case 5:hn=N.stateNode,Ui=!1;break e;case 3:case 4:hn=N.stateNode.containerInfo,Ui=!0;break e}N=N.return}if(hn===null)throw Error(i(160));WT(b,M,y),hn=null,Ui=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)jT(d,c),d=d.sibling}var as=null;function jT(c,d){var f=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:ar(d,c),lr(c),m&4&&(Fa(3,c,c.return),Dh(3,c),Fa(5,c,c.return));break;case 1:ar(d,c),lr(c),m&512&&(Mn||f===null||ks(f,f.return)),m&64&&Do&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(f=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var y=as;if(ar(d,c),lr(c),m&512&&(Mn||f===null||ks(f,f.return)),m&4){var b=f!==null?f.memoizedState:null;if(m=c.memoizedState,f===null)if(m===null)if(c.stateNode===null){e:{m=c.type,f=c.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[V]||b[qn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),li(b,m,f),b[qn]=c,he(b),m=b;break e;case"link":var M=HD("link","href",y).get(m+(f.href||""));if(M){for(var N=0;N<M.length;N++)if(b=M[N],b.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&b.getAttribute("rel")===(f.rel==null?null:f.rel)&&b.getAttribute("title")===(f.title==null?null:f.title)&&b.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){M.splice(N,1);break t}}b=y.createElement(m),li(b,m,f),y.head.appendChild(b);break;case"meta":if(M=HD("meta","content",y).get(m+(f.content||""))){for(N=0;N<M.length;N++)if(b=M[N],b.getAttribute("content")===(f.content==null?null:""+f.content)&&b.getAttribute("name")===(f.name==null?null:f.name)&&b.getAttribute("property")===(f.property==null?null:f.property)&&b.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&b.getAttribute("charset")===(f.charSet==null?null:f.charSet)){M.splice(N,1);break t}}b=y.createElement(m),li(b,m,f),y.head.appendChild(b);break;default:throw Error(i(468,m))}b[qn]=c,he(b),m=b}c.stateNode=m}else GD(y,c.type,c.stateNode);else c.stateNode=BD(y,m,c.memoizedProps);else b!==m?(b===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):b.count--,m===null?GD(y,c.type,c.stateNode):BD(y,m,c.memoizedProps)):m===null&&c.stateNode!==null&&Yw(c,c.memoizedProps,f.memoizedProps)}break;case 27:ar(d,c),lr(c),m&512&&(Mn||f===null||ks(f,f.return)),f!==null&&m&4&&Yw(c,c.memoizedProps,f.memoizedProps);break;case 5:if(ar(d,c),lr(c),m&512&&(Mn||f===null||ks(f,f.return)),c.flags&32){y=c.stateNode;try{Kc(y,"")}catch(ye){rn(c,c.return,ye)}}m&4&&c.stateNode!=null&&(y=c.memoizedProps,Yw(c,y,f!==null?f.memoizedProps:y)),m&1024&&(qw=!0);break;case 6:if(ar(d,c),lr(c),m&4){if(c.stateNode===null)throw Error(i(162));m=c.memoizedProps,f=c.stateNode;try{f.nodeValue=m}catch(ye){rn(c,c.return,ye)}}break;case 3:if(kg=null,y=as,as=Ag(d.containerInfo),ar(d,c),as=y,lr(c),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Uh(d.containerInfo)}catch(ye){rn(c,c.return,ye)}qw&&(qw=!1,YT(c));break;case 4:m=as,as=Ag(c.stateNode.containerInfo),ar(d,c),lr(c),as=m;break;case 12:ar(d,c),lr(c);break;case 13:ar(d,c),lr(c),c.child.flags&8192&&c.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(n1=ke()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,Xw(c,m)));break;case 22:y=c.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,pe=Do,Te=Mn;if(Do=pe||y,Mn=Te||ne,ar(d,c),Mn=Te,Do=pe,lr(c),m&8192)e:for(d=c.stateNode,d._visibility=y?d._visibility&-2:d._visibility|1,y&&(f===null||ne||Do||Mn||Bl(c)),f=null,d=c;;){if(d.tag===5||d.tag===26){if(f===null){ne=f=d;try{if(b=ne.stateNode,y)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{N=ne.stateNode;var Re=ne.memoizedProps.style,Ce=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;N.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(ye){rn(ne,ne.return,ye)}}}else if(d.tag===6){if(f===null){ne=d;try{ne.stateNode.nodeValue=y?"":ne.memoizedProps}catch(ye){rn(ne,ne.return,ye)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}m&4&&(m=c.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Xw(c,f))));break;case 19:ar(d,c),lr(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,Xw(c,m)));break;case 30:break;case 21:break;default:ar(d,c),lr(c)}}function lr(c){var d=c.flags;if(d&2){try{for(var f,m=c.return;m!==null;){if(BT(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var y=f.stateNode,b=$w(c);Cg(c,b,y);break;case 5:var M=f.stateNode;f.flags&32&&(Kc(M,""),f.flags&=-33);var N=$w(c);Cg(c,N,M);break;case 3:case 4:var ne=f.stateNode.containerInfo,pe=$w(c);Kw(c,pe,ne);break;default:throw Error(i(161))}}catch(Te){rn(c,c.return,Te)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function YT(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;YT(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ma(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)VT(c,d.alternate,d),d=d.sibling}function Bl(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Fa(4,d,d.return),Bl(d);break;case 1:ks(d,d.return);var f=d.stateNode;typeof f.componentWillUnmount=="function"&&IT(d,d.return,f),Bl(d);break;case 27:Ih(d.stateNode);case 26:case 5:ks(d,d.return),Bl(d);break;case 22:d.memoizedState===null&&Bl(d);break;case 30:Bl(d);break;default:Bl(d)}c=c.sibling}}function _a(c,d,f){for(f=f&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var m=d.alternate,y=c,b=d,M=b.flags;switch(b.tag){case 0:case 11:case 15:_a(y,b,f),Dh(4,b);break;case 1:if(_a(y,b,f),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(pe){rn(m,m.return,pe)}if(m=b,y=m.updateQueue,y!==null){var N=m.stateNode;try{var ne=y.shared.hiddenCallbacks;if(ne!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ne.length;y++)SE(ne[y],N)}catch(pe){rn(m,m.return,pe)}}f&&M&64&&LT(b),Rh(b,b.return);break;case 27:HT(b);case 26:case 5:_a(y,b,f),f&&m===null&&M&4&&NT(b),Rh(b,b.return);break;case 12:_a(y,b,f);break;case 13:_a(y,b,f),f&&M&4&&UT(y,b);break;case 22:b.memoizedState===null&&_a(y,b,f),Rh(b,b.return);break;case 30:break;default:_a(y,b,f)}d=d.sibling}}function Qw(c,d){var f=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==f&&(c!=null&&c.refCount++,f!=null&&hh(f))}function Zw(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&hh(c))}function Os(c,d,f,m){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)$T(c,d,f,m),d=d.sibling}function $T(c,d,f,m){var y=d.flags;switch(d.tag){case 0:case 11:case 15:Os(c,d,f,m),y&2048&&Dh(9,d);break;case 1:Os(c,d,f,m);break;case 3:Os(c,d,f,m),y&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&hh(c)));break;case 12:if(y&2048){Os(c,d,f,m),c=d.stateNode;try{var b=d.memoizedProps,M=b.id,N=b.onPostCommit;typeof N=="function"&&N(M,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ne){rn(d,d.return,ne)}}else Os(c,d,f,m);break;case 13:Os(c,d,f,m);break;case 23:break;case 22:b=d.stateNode,M=d.alternate,d.memoizedState!==null?b._visibility&2?Os(c,d,f,m):Fh(c,d):b._visibility&2?Os(c,d,f,m):(b._visibility|=2,fu(c,d,f,m,(d.subtreeFlags&10256)!==0)),y&2048&&Qw(M,d);break;case 24:Os(c,d,f,m),y&2048&&Zw(d.alternate,d);break;default:Os(c,d,f,m)}}function fu(c,d,f,m,y){for(y=y&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var b=c,M=d,N=f,ne=m,pe=M.flags;switch(M.tag){case 0:case 11:case 15:fu(b,M,N,ne,y),Dh(8,M);break;case 23:break;case 22:var Te=M.stateNode;M.memoizedState!==null?Te._visibility&2?fu(b,M,N,ne,y):Fh(b,M):(Te._visibility|=2,fu(b,M,N,ne,y)),y&&pe&2048&&Qw(M.alternate,M);break;case 24:fu(b,M,N,ne,y),y&&pe&2048&&Zw(M.alternate,M);break;default:fu(b,M,N,ne,y)}d=d.sibling}}function Fh(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var f=c,m=d,y=m.flags;switch(m.tag){case 22:Fh(f,m),y&2048&&Qw(m.alternate,m);break;case 24:Fh(f,m),y&2048&&Zw(m.alternate,m);break;default:Fh(f,m)}d=d.sibling}}var Mh=8192;function pu(c){if(c.subtreeFlags&Mh)for(c=c.child;c!==null;)KT(c),c=c.sibling}function KT(c){switch(c.tag){case 26:pu(c),c.flags&Mh&&c.memoizedState!==null&&I6(as,c.memoizedState,c.memoizedProps);break;case 5:pu(c);break;case 3:case 4:var d=as;as=Ag(c.stateNode.containerInfo),pu(c),as=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Mh,Mh=16777216,pu(c),Mh=d):pu(c));break;default:pu(c)}}function qT(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function _h(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var m=d[f];Zn=m,QT(m,c)}qT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)XT(c),c=c.sibling}function XT(c){switch(c.tag){case 0:case 11:case 15:_h(c),c.flags&2048&&Fa(9,c,c.return);break;case 3:_h(c);break;case 12:_h(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,wg(c)):_h(c);break;default:_h(c)}}function wg(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var m=d[f];Zn=m,QT(m,c)}qT(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Fa(8,d,d.return),wg(d);break;case 22:f=d.stateNode,f._visibility&2&&(f._visibility&=-3,wg(d));break;default:wg(d)}c=c.sibling}}function QT(c,d){for(;Zn!==null;){var f=Zn;switch(f.tag){case 0:case 11:case 15:Fa(8,f,d);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:hh(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Zn=m;else e:for(f=c;Zn!==null;){m=Zn;var y=m.sibling,b=m.return;if(zT(m),m===f){Zn=null;break e}if(y!==null){y.return=b,Zn=y;break e}Zn=b}}}var ZI={getCacheForType:function(c){var d=yi(Wn),f=d.data.get(c);return f===void 0&&(f=c(),d.data.set(c,f)),f}},JI=typeof WeakMap=="function"?WeakMap:Map,Vt=0,an=null,wt=null,Et=0,zt=0,cr=null,Aa=!1,gu=!1,Jw=!1,Fo=0,En=0,Pa=0,Hl=0,e1=0,Lr=0,mu=0,Ah=null,ji=null,t1=!1,n1=0,yg=1/0,Sg=null,ka=null,ai=0,Oa=null,vu=null,Cu=0,i1=0,r1=null,ZT=null,Ph=0,s1=null;function ur(){if((Vt&2)!==0&&Et!==0)return Et&-Et;if(j.T!==null){var c=su;return c!==0?c:h1()}return Op()}function JT(){Lr===0&&(Lr=(Et&536870912)===0||Pt?xl():536870912);var c=Or.current;return c!==null&&(c.flags|=32),Lr}function dr(c,d,f){(c===an&&(zt===2||zt===9)||c.cancelPendingCommit!==null)&&(wu(c,0),La(c,Et,Lr,!1)),bl(c,f),((Vt&2)===0||c!==an)&&(c===an&&((Vt&2)===0&&(Hl|=f),En===4&&La(c,Et,Lr,!1)),Ls(c))}function eD(c,d,f){if((Vt&6)!==0)throw Error(i(327));var m=!f&&(d&124)===0&&(d&c.expiredLanes)===0||is(c,d),y=m?n6(c,d):l1(c,d,!0),b=m;do{if(y===0){gu&&!m&&La(c,d,0,!1);break}else{if(f=c.current.alternate,b&&!e6(f)){y=l1(c,d,!1),b=!1;continue}if(y===2){if(b=d,c.errorRecoveryDisabledLanes&b)var M=0;else M=c.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){d=M;e:{var N=c;y=Ah;var ne=N.current.memoizedState.isDehydrated;if(ne&&(wu(N,M).flags|=256),M=l1(N,M,!1),M!==2){if(Jw&&!ne){N.errorRecoveryDisabledLanes|=b,Hl|=b,y=4;break e}b=ji,ji=y,b!==null&&(ji===null?ji=b:ji.push.apply(ji,b))}y=M}if(b=!1,y!==2)continue}}if(y===1){wu(c,0),La(c,d,0,!0);break}e:{switch(m=c,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:La(m,d,Lr,!Aa);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(y=n1+300-ke(),10<y)){if(La(m,d,Lr,!Aa),Ms(m,0,!0)!==0)break e;m.timeoutHandle=MD(tD.bind(null,m,f,ji,Sg,t1,d,Lr,Hl,mu,Aa,b,2,-0,0),y);break e}tD(m,f,ji,Sg,t1,d,Lr,Hl,mu,Aa,b,0,-0,0)}}break}while(!0);Ls(c)}function tD(c,d,f,m,y,b,M,N,ne,pe,Te,Re,Ce,ye){if(c.timeoutHandle=-1,Re=d.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(Hh={stylesheets:null,count:0,unsuspend:L6},KT(d),Re=N6(),Re!==null)){c.cancelPendingCommit=Re(lD.bind(null,c,d,b,f,m,y,M,N,ne,Te,1,Ce,ye)),La(c,b,M,!pe);return}lD(c,d,b,f,m,y,M,N,ne)}function e6(c){for(var d=c;;){var f=d.tag;if((f===0||f===11||f===15)&&d.flags&16384&&(f=d.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var y=f[m],b=y.getSnapshot;y=y.value;try{if(!sr(b(),y))return!1}catch{return!1}}if(f=d.child,d.subtreeFlags&16384&&f!==null)f.return=d,d=f;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function La(c,d,f,m){d&=~e1,d&=~Hl,c.suspendedLanes|=d,c.pingedLanes&=~d,m&&(c.warmLanes|=d),m=c.expirationTimes;for(var y=d;0<y;){var b=31-xt(y),M=1<<b;m[b]=-1,y&=~M}f!==0&&Pp(c,f,d)}function xg(){return(Vt&6)===0?(kh(0),!1):!0}function o1(){if(wt!==null){if(zt===0)var c=wt.return;else c=wt,yo=kl=null,bw(c),du=null,bh=0,c=wt;for(;c!==null;)OT(c.alternate,c),c=c.return;wt=null}}function wu(c,d){var f=c.timeoutHandle;f!==-1&&(c.timeoutHandle=-1,C6(f)),f=c.cancelPendingCommit,f!==null&&(c.cancelPendingCommit=null,f()),o1(),an=c,wt=f=vo(c.current,null),Et=d,zt=0,cr=null,Aa=!1,gu=is(c,d),Jw=!1,mu=Lr=e1=Hl=Pa=En=0,ji=Ah=null,t1=!1,(d&8)!==0&&(d|=d&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=d;0<m;){var y=31-xt(m),b=1<<y;d|=c[y],m&=~b}return Fo=d,Up(),f}function nD(c,d){pt=null,j.H=cg,d===ph||d===Jp?(d=wE(),zt=3):d===mE?(d=wE(),zt=4):zt=d===yT?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,cr=d,wt===null&&(En=1,pg(c,_r(d,c.current)))}function iD(){var c=j.H;return j.H=cg,c===null?cg:c}function rD(){var c=j.A;return j.A=ZI,c}function a1(){En=4,Aa||(Et&4194048)!==Et&&Or.current!==null||(gu=!0),(Pa&134217727)===0&&(Hl&134217727)===0||an===null||La(an,Et,Lr,!1)}function l1(c,d,f){var m=Vt;Vt|=2;var y=iD(),b=rD();(an!==c||Et!==d)&&(Sg=null,wu(c,d)),d=!1;var M=En;e:do try{if(zt!==0&&wt!==null){var N=wt,ne=cr;switch(zt){case 8:o1(),M=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(d=!0);var pe=zt;if(zt=0,cr=null,yu(c,N,ne,pe),f&&gu){M=0;break e}break;default:pe=zt,zt=0,cr=null,yu(c,N,ne,pe)}}t6(),M=En;break}catch(Te){nD(c,Te)}while(!0);return d&&c.shellSuspendCounter++,yo=kl=null,Vt=m,j.H=y,j.A=b,wt===null&&(an=null,Et=0,Up()),M}function t6(){for(;wt!==null;)sD(wt)}function n6(c,d){var f=Vt;Vt|=2;var m=iD(),y=rD();an!==c||Et!==d?(Sg=null,yg=ke()+500,wu(c,d)):gu=is(c,d);e:do try{if(zt!==0&&wt!==null){d=wt;var b=cr;t:switch(zt){case 1:zt=0,cr=null,yu(c,d,b,1);break;case 2:case 9:if(vE(b)){zt=0,cr=null,oD(d);break}d=function(){zt!==2&&zt!==9||an!==c||(zt=7),Ls(c)},b.then(d,d);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:vE(b)?(zt=0,cr=null,oD(d)):(zt=0,cr=null,yu(c,d,b,7));break;case 5:var M=null;switch(wt.tag){case 26:M=wt.memoizedState;case 5:case 27:var N=wt;if(!M||VD(M)){zt=0,cr=null;var ne=N.sibling;if(ne!==null)wt=ne;else{var pe=N.return;pe!==null?(wt=pe,bg(pe)):wt=null}break t}}zt=0,cr=null,yu(c,d,b,5);break;case 6:zt=0,cr=null,yu(c,d,b,6);break;case 8:o1(),En=6;break e;default:throw Error(i(462))}}i6();break}catch(Te){nD(c,Te)}while(!0);return yo=kl=null,j.H=m,j.A=y,Vt=f,wt!==null?0:(an=null,Et=0,Up(),En)}function i6(){for(;wt!==null&&!dt();)sD(wt)}function sD(c){var d=PT(c.alternate,c,Fo);c.memoizedProps=c.pendingProps,d===null?bg(c):wt=d}function oD(c){var d=c,f=d.alternate;switch(d.tag){case 15:case 0:d=DT(f,d,d.pendingProps,d.type,void 0,Et);break;case 11:d=DT(f,d,d.pendingProps,d.type.render,d.ref,Et);break;case 5:bw(d);default:OT(f,d),d=wt=aE(d,Fo),d=PT(f,d,Fo)}c.memoizedProps=c.pendingProps,d===null?bg(c):wt=d}function yu(c,d,f,m){yo=kl=null,bw(d),du=null,bh=0;var y=d.return;try{if(YI(c,y,d,f,Et)){En=1,pg(c,_r(f,c.current)),wt=null;return}}catch(b){if(y!==null)throw wt=y,b;En=1,pg(c,_r(f,c.current)),wt=null;return}d.flags&32768?(Pt||m===1?c=!0:gu||(Et&536870912)!==0?c=!1:(Aa=c=!0,(m===2||m===9||m===3||m===6)&&(m=Or.current,m!==null&&m.tag===13&&(m.flags|=16384))),aD(d,c)):bg(d)}function bg(c){var d=c;do{if((d.flags&32768)!==0){aD(d,Aa);return}c=d.return;var f=KI(d.alternate,d,Fo);if(f!==null){wt=f;return}if(d=d.sibling,d!==null){wt=d;return}wt=d=c}while(d!==null);En===0&&(En=5)}function aD(c,d){do{var f=qI(c.alternate,c);if(f!==null){f.flags&=32767,wt=f;return}if(f=c.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!d&&(c=c.sibling,c!==null)){wt=c;return}wt=c=f}while(c!==null);En=6,wt=null}function lD(c,d,f,m,y,b,M,N,ne){c.cancelPendingCommit=null;do Eg();while(ai!==0);if((Vt&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(b=d.lanes|d.childLanes,b|=ZC,Yc(c,f,b,M,N,ne),c===an&&(wt=an=null,Et=0),vu=d,Oa=c,Cu=f,i1=b,r1=y,ZT=m,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,a6(It,function(){return fD(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||m){m=j.T,j.T=null,y=W.p,W.p=2,M=Vt,Vt|=4;try{XI(c,d,f)}finally{Vt=M,W.p=y,j.T=m}}ai=1,cD(),uD(),dD()}}function cD(){if(ai===1){ai=0;var c=Oa,d=vu,f=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||f){f=j.T,j.T=null;var m=W.p;W.p=2;var y=Vt;Vt|=4;try{jT(d,c);var b=y1,M=Q2(c.containerInfo),N=b.focusedElem,ne=b.selectionRange;if(M!==N&&N&&N.ownerDocument&&X2(N.ownerDocument.documentElement,N)){if(ne!==null&&$C(N)){var pe=ne.start,Te=ne.end;if(Te===void 0&&(Te=pe),"selectionStart"in N)N.selectionStart=pe,N.selectionEnd=Math.min(Te,N.value.length);else{var Re=N.ownerDocument||document,Ce=Re&&Re.defaultView||window;if(Ce.getSelection){var ye=Ce.getSelection(),lt=N.textContent.length,rt=Math.min(ne.start,lt),en=ne.end===void 0?rt:Math.min(ne.end,lt);!ye.extend&&rt>en&&(M=en,en=rt,rt=M);var ue=q2(N,rt),re=q2(N,en);if(ue&&re&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==re.node||ye.focusOffset!==re.offset)){var fe=Re.createRange();fe.setStart(ue.node,ue.offset),ye.removeAllRanges(),rt>en?(ye.addRange(fe),ye.extend(re.node,re.offset)):(fe.setEnd(re.node,re.offset),ye.addRange(fe))}}}}for(Re=[],ye=N;ye=ye.parentNode;)ye.nodeType===1&&Re.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Re.length;N++){var De=Re[N];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Ig=!!w1,y1=w1=null}finally{Vt=y,W.p=m,j.T=f}}c.current=d,ai=2}}function uD(){if(ai===2){ai=0;var c=Oa,d=vu,f=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||f){f=j.T,j.T=null;var m=W.p;W.p=2;var y=Vt;Vt|=4;try{VT(c,d.alternate,d)}finally{Vt=y,W.p=m,j.T=f}}ai=3}}function dD(){if(ai===4||ai===3){ai=0,st();var c=Oa,d=vu,f=Cu,m=ZT;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ai=5:(ai=0,vu=Oa=null,hD(c,c.pendingLanes));var y=c.pendingLanes;if(y===0&&(ka=null),Qd(f),d=d.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Mt,d,void 0,(d.current.flags&128)===128)}catch{}if(m!==null){d=j.T,y=W.p,W.p=2,j.T=null;try{for(var b=c.onRecoverableError,M=0;M<m.length;M++){var N=m[M];b(N.value,{componentStack:N.stack})}}finally{j.T=d,W.p=y}}(Cu&3)!==0&&Eg(),Ls(c),y=c.pendingLanes,(f&4194090)!==0&&(y&42)!==0?c===s1?Ph++:(Ph=0,s1=c):Ph=0,kh(0)}}function hD(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,hh(d)))}function Eg(c){return cD(),uD(),dD(),fD()}function fD(){if(ai!==5)return!1;var c=Oa,d=i1;i1=0;var f=Qd(Cu),m=j.T,y=W.p;try{W.p=32>f?32:f,j.T=null,f=r1,r1=null;var b=Oa,M=Cu;if(ai=0,vu=Oa=null,Cu=0,(Vt&6)!==0)throw Error(i(331));var N=Vt;if(Vt|=4,XT(b.current),$T(b,b.current,M,f),Vt=N,kh(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Mt,b)}catch{}return!0}finally{W.p=y,j.T=m,hD(c,d)}}function pD(c,d,f){d=_r(f,d),d=Nw(c.stateNode,d,2),c=Ea(c,d,2),c!==null&&(bl(c,2),Ls(c))}function rn(c,d,f){if(c.tag===3)pD(c,c,f);else for(;d!==null;){if(d.tag===3){pD(d,c,f);break}else if(d.tag===1){var m=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ka===null||!ka.has(m))){c=_r(f,c),f=CT(2),m=Ea(d,f,2),m!==null&&(wT(f,m,d,c),bl(m,2),Ls(m));break}}d=d.return}}function c1(c,d,f){var m=c.pingCache;if(m===null){m=c.pingCache=new JI;var y=new Set;m.set(d,y)}else y=m.get(d),y===void 0&&(y=new Set,m.set(d,y));y.has(f)||(Jw=!0,y.add(f),c=r6.bind(null,c,d,f),d.then(c,c))}function r6(c,d,f){var m=c.pingCache;m!==null&&m.delete(d),c.pingedLanes|=c.suspendedLanes&f,c.warmLanes&=~f,an===c&&(Et&f)===f&&(En===4||En===3&&(Et&62914560)===Et&&300>ke()-n1?(Vt&2)===0&&wu(c,0):e1|=f,mu===Et&&(mu=0)),Ls(c)}function gD(c,d){d===0&&(d=Kd()),c=tu(c,d),c!==null&&(bl(c,d),Ls(c))}function s6(c){var d=c.memoizedState,f=0;d!==null&&(f=d.retryLane),gD(c,f)}function o6(c,d){var f=0;switch(c.tag){case 13:var m=c.stateNode,y=c.memoizedState;y!==null&&(f=y.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(d),gD(c,f)}function a6(c,d){return Lt(c,d)}var Tg=null,Su=null,u1=!1,Dg=!1,d1=!1,Gl=0;function Ls(c){c!==Su&&c.next===null&&(Su===null?Tg=Su=c:Su=Su.next=c),Dg=!0,u1||(u1=!0,c6())}function kh(c,d){if(!d1&&Dg){d1=!0;do for(var f=!1,m=Tg;m!==null;){if(c!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var M=m.suspendedLanes,N=m.pingedLanes;b=(1<<31-xt(42|c)+1)-1,b&=y&~(M&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(f=!0,wD(m,b))}else b=Et,b=Ms(m,m===an?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||is(m,b)||(f=!0,wD(m,b));m=m.next}while(f);d1=!1}}function l6(){mD()}function mD(){Dg=u1=!1;var c=0;Gl!==0&&(v6()&&(c=Gl),Gl=0);for(var d=ke(),f=null,m=Tg;m!==null;){var y=m.next,b=vD(m,d);b===0?(m.next=null,f===null?Tg=y:f.next=y,y===null&&(Su=f)):(f=m,(c!==0||(b&3)!==0)&&(Dg=!0)),m=y}kh(c)}function vD(c,d){for(var f=c.suspendedLanes,m=c.pingedLanes,y=c.expirationTimes,b=c.pendingLanes&-62914561;0<b;){var M=31-xt(b),N=1<<M,ne=y[M];ne===-1?((N&f)===0||(N&m)!==0)&&(y[M]=va(N,d)):ne<=d&&(c.expiredLanes|=N),b&=~N}if(d=an,f=Et,f=Ms(c,c===d?f:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,f===0||c===d&&(zt===2||zt===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&We(m),c.callbackNode=null,c.callbackPriority=0;if((f&3)===0||is(c,f)){if(d=f&-f,d===c.callbackPriority)return d;switch(m!==null&&We(m),Qd(f)){case 2:case 8:f=Ft;break;case 32:f=It;break;case 268435456:f=Kn;break;default:f=It}return m=CD.bind(null,c),f=Lt(f,m),c.callbackPriority=d,c.callbackNode=f,d}return m!==null&&m!==null&&We(m),c.callbackPriority=2,c.callbackNode=null,2}function CD(c,d){if(ai!==0&&ai!==5)return c.callbackNode=null,c.callbackPriority=0,null;var f=c.callbackNode;if(Eg()&&c.callbackNode!==f)return null;var m=Et;return m=Ms(c,c===an?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(eD(c,m,d),vD(c,ke()),c.callbackNode!=null&&c.callbackNode===f?CD.bind(null,c):null)}function wD(c,d){if(Eg())return null;eD(c,d,!0)}function c6(){w6(function(){(Vt&6)!==0?Lt(vt,l6):mD()})}function h1(){return Gl===0&&(Gl=xl()),Gl}function yD(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Np(""+c)}function SD(c,d){var f=d.ownerDocument.createElement("input");return f.name=d.name,f.value=d.value,c.id&&f.setAttribute("form",c.id),d.parentNode.insertBefore(f,d),c=new FormData(c),f.parentNode.removeChild(f),c}function u6(c,d,f,m,y){if(d==="submit"&&f&&f.stateNode===y){var b=yD((y[Xn]||null).action),M=m.submitter;M&&(d=(d=M[Xn]||null)?yD(d.formAction):M.getAttribute("formAction"),d!==null&&(b=d,M=null));var N=new Vp("action","action",null,m,y);c.push({event:N,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gl!==0){var ne=M?SD(y,M):new FormData(y);Pw(f,{pending:!0,data:ne,method:y.method,action:b},null,ne)}}else typeof b=="function"&&(N.preventDefault(),ne=M?SD(y,M):new FormData(y),Pw(f,{pending:!0,data:ne,method:y.method,action:b},b,ne))},currentTarget:y}]})}}for(var f1=0;f1<QC.length;f1++){var p1=QC[f1],d6=p1.toLowerCase(),h6=p1[0].toUpperCase()+p1.slice(1);os(d6,"on"+h6)}os(eE,"onAnimationEnd"),os(tE,"onAnimationIteration"),os(nE,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(MI,"onTransitionRun"),os(_I,"onTransitionStart"),os(AI,"onTransitionCancel"),os(iE,"onTransitionEnd"),Be("onMouseEnter",["mouseout","mouseover"]),Be("onMouseLeave",["mouseout","mouseover"]),Be("onPointerEnter",["pointerout","pointerover"]),Be("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oh));function xD(c,d){d=(d&4)!==0;for(var f=0;f<c.length;f++){var m=c[f],y=m.event;m=m.listeners;e:{var b=void 0;if(d)for(var M=m.length-1;0<=M;M--){var N=m[M],ne=N.instance,pe=N.currentTarget;if(N=N.listener,ne!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=pe;try{b(y)}catch(Te){fg(Te)}y.currentTarget=null,b=ne}else for(M=0;M<m.length;M++){if(N=m[M],ne=N.instance,pe=N.currentTarget,N=N.listener,ne!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=pe;try{b(y)}catch(Te){fg(Te)}y.currentTarget=null,b=ne}}}}function yt(c,d){var f=d[Zd];f===void 0&&(f=d[Zd]=new Set);var m=c+"__bubble";f.has(m)||(bD(d,c,2,!1),f.add(m))}function g1(c,d,f){var m=0;d&&(m|=4),bD(f,c,m,d)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function m1(c){if(!c[Rg]){c[Rg]=!0,ve.forEach(function(f){f!=="selectionchange"&&(f6.has(f)||g1(f,!1,c),g1(f,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Rg]||(d[Rg]=!0,g1("selectionchange",!1,d))}}function bD(c,d,f,m){switch($D(d)){case 2:var y=G6;break;case 8:y=V6;break;default:y=_1}f=y.bind(null,d,f,c),y=void 0,!BC||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(y=!0),m?y!==void 0?c.addEventListener(d,f,{capture:!0,passive:y}):c.addEventListener(d,f,!0):y!==void 0?c.addEventListener(d,f,{passive:y}):c.addEventListener(d,f,!1)}function v1(c,d,f,m,y){var b=m;if((d&1)===0&&(d&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var N=m.stateNode.containerInfo;if(N===y)break;if(M===4)for(M=m.return;M!==null;){var ne=M.tag;if((ne===3||ne===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;N!==null;){if(M=q(N),M===null)return;if(ne=M.tag,ne===5||ne===6||ne===26||ne===27){m=b=M;continue e}N=N.parentNode}}m=m.return}_2(function(){var pe=b,Te=IC(f),Re=[];e:{var Ce=rE.get(c);if(Ce!==void 0){var ye=Vp,lt=c;switch(c){case"keypress":if(Hp(f)===0)break e;case"keydown":case"keyup":ye=aI;break;case"focusin":lt="focus",ye=zC;break;case"focusout":lt="blur",ye=zC;break;case"beforeblur":case"afterblur":ye=zC;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=k2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=uI;break;case eE:case tE:case nE:ye=ZL;break;case iE:ye=hI;break;case"scroll":case"scrollend":ye=$L;break;case"wheel":ye=pI;break;case"copy":case"cut":case"paste":ye=eI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=L2;break;case"toggle":case"beforetoggle":ye=mI}var rt=(d&4)!==0,en=!rt&&(c==="scroll"||c==="scrollend"),ue=rt?Ce!==null?Ce+"Capture":null:Ce;rt=[];for(var re=pe,fe;re!==null;){var De=re;if(fe=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||fe===null||ue===null||(De=Jd(re,ue),De!=null&&rt.push(Lh(re,De,fe))),en)break;re=re.return}0<rt.length&&(Ce=new ye(Ce,lt,null,f,Te),Re.push({event:Ce,listeners:rt}))}}if((d&7)===0){e:{if(Ce=c==="mouseover"||c==="pointerover",ye=c==="mouseout"||c==="pointerout",Ce&&f!==LC&&(lt=f.relatedTarget||f.fromElement)&&(q(lt)||lt[Ca]))break e;if((ye||Ce)&&(Ce=Te.window===Te?Te:(Ce=Te.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,ye?(lt=f.relatedTarget||f.toElement,ye=pe,lt=lt?q(lt):null,lt!==null&&(en=s(lt),rt=lt.tag,lt!==en||rt!==5&&rt!==27&&rt!==6)&&(lt=null)):(ye=null,lt=pe),ye!==lt)){if(rt=k2,De="onMouseLeave",ue="onMouseEnter",re="mouse",(c==="pointerout"||c==="pointerover")&&(rt=L2,De="onPointerLeave",ue="onPointerEnter",re="pointer"),en=ye==null?Ce:ge(ye),fe=lt==null?Ce:ge(lt),Ce=new rt(De,re+"leave",ye,f,Te),Ce.target=en,Ce.relatedTarget=fe,De=null,q(Te)===pe&&(rt=new rt(ue,re+"enter",lt,f,Te),rt.target=fe,rt.relatedTarget=en,De=rt),en=De,ye&&lt)t:{for(rt=ye,ue=lt,re=0,fe=rt;fe;fe=xu(fe))re++;for(fe=0,De=ue;De;De=xu(De))fe++;for(;0<re-fe;)rt=xu(rt),re--;for(;0<fe-re;)ue=xu(ue),fe--;for(;re--;){if(rt===ue||ue!==null&&rt===ue.alternate)break t;rt=xu(rt),ue=xu(ue)}rt=null}else rt=null;ye!==null&&ED(Re,Ce,ye,rt,!1),lt!==null&&en!==null&&ED(Re,en,lt,rt,!0)}}e:{if(Ce=pe?ge(pe):window,ye=Ce.nodeName&&Ce.nodeName.toLowerCase(),ye==="select"||ye==="input"&&Ce.type==="file")var Ke=W2;else if(V2(Ce))if(U2)Ke=DI;else{Ke=EI;var Ct=bI}else ye=Ce.nodeName,!ye||ye.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?pe&&OC(pe.elementType)&&(Ke=W2):Ke=TI;if(Ke&&(Ke=Ke(c,pe))){z2(Re,Ke,f,Te);break e}Ct&&Ct(c,Ce,pe),c==="focusout"&&pe&&Ce.type==="number"&&pe.memoizedProps.value!=null&&kC(Ce,"number",Ce.value)}switch(Ct=pe?ge(pe):window,c){case"focusin":(V2(Ct)||Ct.contentEditable==="true")&&(Zc=Ct,KC=pe,ah=null);break;case"focusout":ah=KC=Zc=null;break;case"mousedown":qC=!0;break;case"contextmenu":case"mouseup":case"dragend":qC=!1,Z2(Re,f,Te);break;case"selectionchange":if(FI)break;case"keydown":case"keyup":Z2(Re,f,Te)}var Ze;if(UC)e:{switch(c){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Qc?H2(c,f)&&(ot="onCompositionEnd"):c==="keydown"&&f.keyCode===229&&(ot="onCompositionStart");ot&&(I2&&f.locale!=="ko"&&(Qc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Qc&&(Ze=A2()):(ya=Te,HC="value"in ya?ya.value:ya.textContent,Qc=!0)),Ct=Fg(pe,ot),0<Ct.length&&(ot=new O2(ot,c,null,f,Te),Re.push({event:ot,listeners:Ct}),Ze?ot.data=Ze:(Ze=G2(f),Ze!==null&&(ot.data=Ze)))),(Ze=CI?wI(c,f):yI(c,f))&&(ot=Fg(pe,"onBeforeInput"),0<ot.length&&(Ct=new O2("onBeforeInput","beforeinput",null,f,Te),Re.push({event:Ct,listeners:ot}),Ct.data=Ze)),u6(Re,c,pe,f,Te)}xD(Re,d)})}function Lh(c,d,f){return{instance:c,listener:d,currentTarget:f}}function Fg(c,d){for(var f=d+"Capture",m=[];c!==null;){var y=c,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Jd(c,f),y!=null&&m.unshift(Lh(c,y,b)),y=Jd(c,d),y!=null&&m.push(Lh(c,y,b))),c.tag===3)return m;c=c.return}return[]}function xu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function ED(c,d,f,m,y){for(var b=d._reactName,M=[];f!==null&&f!==m;){var N=f,ne=N.alternate,pe=N.stateNode;if(N=N.tag,ne!==null&&ne===m)break;N!==5&&N!==26&&N!==27||pe===null||(ne=pe,y?(pe=Jd(f,b),pe!=null&&M.unshift(Lh(f,pe,ne))):y||(pe=Jd(f,b),pe!=null&&M.push(Lh(f,pe,ne)))),f=f.return}M.length!==0&&c.push({event:d,listeners:M})}var p6=/\r\n?/g,g6=/\u0000|\uFFFD/g;function TD(c){return(typeof c=="string"?c:""+c).replace(p6,`
`).replace(g6,"")}function DD(c,d){return d=TD(d),TD(c)===d}function Mg(){}function Jt(c,d,f,m,y,b){switch(f){case"children":typeof m=="string"?d==="body"||d==="textarea"&&m===""||Kc(c,m):(typeof m=="number"||typeof m=="bigint")&&d!=="body"&&Kc(c,""+m);break;case"className":Qt(c,"class",m);break;case"tabIndex":Qt(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Qt(c,f,m);break;case"style":F2(c,m,b);break;case"data":if(d!=="object"){Qt(c,"data",m);break}case"src":case"href":if(m===""&&(d!=="a"||f!=="href")){c.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(f);break}m=Np(""+m),c.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(f==="formAction"?(d!=="input"&&Jt(c,d,"name",y.name,y,null),Jt(c,d,"formEncType",y.formEncType,y,null),Jt(c,d,"formMethod",y.formMethod,y,null),Jt(c,d,"formTarget",y.formTarget,y,null)):(Jt(c,d,"encType",y.encType,y,null),Jt(c,d,"method",y.method,y,null),Jt(c,d,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(f);break}m=Np(""+m),c.setAttribute(f,m);break;case"onClick":m!=null&&(c.onclick=Mg);break;case"onScroll":m!=null&&yt("scroll",c);break;case"onScrollEnd":m!=null&&yt("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}f=Np(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,""+m):c.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,""):c.removeAttribute(f);break;case"capture":case"download":m===!0?c.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,m):c.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(f,m):c.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(f):c.setAttribute(f,m);break;case"popover":yt("beforetoggle",c),yt("toggle",c),Xt(c,"popover",m);break;case"xlinkActuate":on(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":on(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":on(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":on(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":on(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":on(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":on(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":on(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":on(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Xt(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=jL.get(f)||f,Xt(c,f,m))}}function C1(c,d,f,m,y,b){switch(f){case"style":F2(c,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"children":typeof m=="string"?Kc(c,m):(typeof m=="number"||typeof m=="bigint")&&Kc(c,""+m);break;case"onScroll":m!=null&&yt("scroll",c);break;case"onScrollEnd":m!=null&&yt("scrollend",c);break;case"onClick":m!=null&&(c.onclick=Mg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!we.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),d=f.slice(2,y?f.length-7:void 0),b=c[Xn]||null,b=b!=null?b[f]:null,typeof b=="function"&&c.removeEventListener(d,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(f in c?c[f]=null:c.hasAttribute(f)&&c.removeAttribute(f)),c.addEventListener(d,m,y);break e}f in c?c[f]=m:m===!0?c.setAttribute(f,""):Xt(c,f,m)}}}function li(c,d,f){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",c),yt("load",c);var m=!1,y=!1,b;for(b in f)if(f.hasOwnProperty(b)){var M=f[b];if(M!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Jt(c,d,b,M,f,null)}}y&&Jt(c,d,"srcSet",f.srcSet,f,null),m&&Jt(c,d,"src",f.src,f,null);return;case"input":yt("invalid",c);var N=b=M=y=null,ne=null,pe=null;for(m in f)if(f.hasOwnProperty(m)){var Te=f[m];if(Te!=null)switch(m){case"name":y=Te;break;case"type":M=Te;break;case"checked":ne=Te;break;case"defaultChecked":pe=Te;break;case"value":b=Te;break;case"defaultValue":N=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,d));break;default:Jt(c,d,m,Te,f,null)}}E2(c,b,N,ne,pe,M,y,!1),Lp(c);return;case"select":yt("invalid",c),m=M=b=null;for(y in f)if(f.hasOwnProperty(y)&&(N=f[y],N!=null))switch(y){case"value":b=N;break;case"defaultValue":M=N;break;case"multiple":m=N;default:Jt(c,d,y,N,f,null)}d=b,f=M,c.multiple=!!m,d!=null?$c(c,!!m,d,!1):f!=null&&$c(c,!!m,f,!0);return;case"textarea":yt("invalid",c),b=y=m=null;for(M in f)if(f.hasOwnProperty(M)&&(N=f[M],N!=null))switch(M){case"value":m=N;break;case"defaultValue":y=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Jt(c,d,M,N,f,null)}D2(c,m,y,b),Lp(c);return;case"option":for(ne in f)if(f.hasOwnProperty(ne)&&(m=f[ne],m!=null))switch(ne){case"selected":c.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Jt(c,d,ne,m,f,null)}return;case"dialog":yt("beforetoggle",c),yt("toggle",c),yt("cancel",c),yt("close",c);break;case"iframe":case"object":yt("load",c);break;case"video":case"audio":for(m=0;m<Oh.length;m++)yt(Oh[m],c);break;case"image":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"embed":case"source":case"link":yt("error",c),yt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in f)if(f.hasOwnProperty(pe)&&(m=f[pe],m!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Jt(c,d,pe,m,f,null)}return;default:if(OC(d)){for(Te in f)f.hasOwnProperty(Te)&&(m=f[Te],m!==void 0&&C1(c,d,Te,m,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(m=f[N],m!=null&&Jt(c,d,N,m,f,null))}function m6(c,d,f,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,M=null,N=null,ne=null,pe=null,Te=null;for(ye in f){var Re=f[ye];if(f.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ne=Re;default:m.hasOwnProperty(ye)||Jt(c,d,ye,null,m,Re)}}for(var Ce in m){var ye=m[Ce];if(Re=f[Ce],m.hasOwnProperty(Ce)&&(ye!=null||Re!=null))switch(Ce){case"type":b=ye;break;case"name":y=ye;break;case"checked":pe=ye;break;case"defaultChecked":Te=ye;break;case"value":M=ye;break;case"defaultValue":N=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,d));break;default:ye!==Re&&Jt(c,d,Ce,ye,m,Re)}}PC(c,M,N,ne,pe,Te,b,y);return;case"select":ye=M=N=Ce=null;for(b in f)if(ne=f[b],f.hasOwnProperty(b)&&ne!=null)switch(b){case"value":break;case"multiple":ye=ne;default:m.hasOwnProperty(b)||Jt(c,d,b,null,m,ne)}for(y in m)if(b=m[y],ne=f[y],m.hasOwnProperty(y)&&(b!=null||ne!=null))switch(y){case"value":Ce=b;break;case"defaultValue":N=b;break;case"multiple":M=b;default:b!==ne&&Jt(c,d,y,b,m,ne)}d=N,f=M,m=ye,Ce!=null?$c(c,!!f,Ce,!1):!!m!=!!f&&(d!=null?$c(c,!!f,d,!0):$c(c,!!f,f?[]:"",!1));return;case"textarea":ye=Ce=null;for(N in f)if(y=f[N],f.hasOwnProperty(N)&&y!=null&&!m.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Jt(c,d,N,null,m,y)}for(M in m)if(y=m[M],b=f[M],m.hasOwnProperty(M)&&(y!=null||b!=null))switch(M){case"value":Ce=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Jt(c,d,M,y,m,b)}T2(c,Ce,ye);return;case"option":for(var lt in f)if(Ce=f[lt],f.hasOwnProperty(lt)&&Ce!=null&&!m.hasOwnProperty(lt))switch(lt){case"selected":c.selected=!1;break;default:Jt(c,d,lt,null,m,Ce)}for(ne in m)if(Ce=m[ne],ye=f[ne],m.hasOwnProperty(ne)&&Ce!==ye&&(Ce!=null||ye!=null))switch(ne){case"selected":c.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Jt(c,d,ne,Ce,m,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in f)Ce=f[rt],f.hasOwnProperty(rt)&&Ce!=null&&!m.hasOwnProperty(rt)&&Jt(c,d,rt,null,m,Ce);for(pe in m)if(Ce=m[pe],ye=f[pe],m.hasOwnProperty(pe)&&Ce!==ye&&(Ce!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,d));break;default:Jt(c,d,pe,Ce,m,ye)}return;default:if(OC(d)){for(var en in f)Ce=f[en],f.hasOwnProperty(en)&&Ce!==void 0&&!m.hasOwnProperty(en)&&C1(c,d,en,void 0,m,Ce);for(Te in m)Ce=m[Te],ye=f[Te],!m.hasOwnProperty(Te)||Ce===ye||Ce===void 0&&ye===void 0||C1(c,d,Te,Ce,m,ye);return}}for(var ue in f)Ce=f[ue],f.hasOwnProperty(ue)&&Ce!=null&&!m.hasOwnProperty(ue)&&Jt(c,d,ue,null,m,Ce);for(Re in m)Ce=m[Re],ye=f[Re],!m.hasOwnProperty(Re)||Ce===ye||Ce==null&&ye==null||Jt(c,d,Re,Ce,m,ye)}var w1=null,y1=null;function _g(c){return c.nodeType===9?c:c.ownerDocument}function RD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FD(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function S1(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var x1=null;function v6(){var c=window.event;return c&&c.type==="popstate"?c===x1?!1:(x1=c,!0):(x1=null,!1)}var MD=typeof setTimeout=="function"?setTimeout:void 0,C6=typeof clearTimeout=="function"?clearTimeout:void 0,_D=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof _D<"u"?function(c){return _D.resolve(null).then(c).catch(y6)}:MD;function y6(c){setTimeout(function(){throw c})}function Ia(c){return c==="head"}function AD(c,d){var f=d,m=0,y=0;do{var b=f.nextSibling;if(c.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(0<m&&8>m){f=m;var M=c.ownerDocument;if(f&1&&Ih(M.documentElement),f&2&&Ih(M.body),f&4)for(f=M.head,Ih(f),M=f.firstChild;M;){var N=M.nextSibling,ne=M.nodeName;M[V]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=N}}if(y===0){c.removeChild(b),Uh(d);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:m=f.charCodeAt(0)-48;else m=0;f=b}while(f);Uh(d)}function b1(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var f=d;switch(d=d.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":b1(f),U(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}c.removeChild(f)}}function S6(c,d,f,m){for(;c.nodeType===1;){var y=f;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[V])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(b=c.getAttribute("rel"),b==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(b!==y.rel||c.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||c.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||c.getAttribute("title")!==(y.title==null?null:y.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(b=c.getAttribute("src"),(b!==(y.src==null?null:y.src)||c.getAttribute("type")!==(y.type==null?null:y.type)||c.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&c.getAttribute("name")===b)return c}else return c;if(c=ls(c.nextSibling),c===null)break}return null}function x6(c,d,f){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=ls(c.nextSibling),c===null))return null;return c}function E1(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function b6(c,d){var f=c.ownerDocument;if(c.data!=="$?"||f.readyState==="complete")d();else{var m=function(){d(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function ls(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var T1=null;function PD(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var f=c.data;if(f==="$"||f==="$!"||f==="$?"){if(d===0)return c;d--}else f==="/$"&&d++}c=c.previousSibling}return null}function kD(c,d,f){switch(d=_g(f),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Ih(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);U(c)}var Ir=new Map,OD=new Set;function Ag(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Mo=W.d;W.d={f:E6,r:T6,D:D6,C:R6,L:F6,m:M6,X:A6,S:_6,M:P6};function E6(){var c=Mo.f(),d=xg();return c||d}function T6(c){var d=Z(c);d!==null&&d.tag===5&&d.type==="form"?eT(d):Mo.r(c)}var bu=typeof document>"u"?null:document;function LD(c,d,f){var m=bu;if(m&&typeof d=="string"&&d){var y=Mr(d);y='link[rel="'+c+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),OD.has(y)||(OD.add(y),c={rel:c,crossOrigin:f,href:d},m.querySelector(y)===null&&(d=m.createElement("link"),li(d,"link",c),he(d),m.head.appendChild(d)))}}function D6(c){Mo.D(c),LD("dns-prefetch",c,null)}function R6(c,d){Mo.C(c,d),LD("preconnect",c,d)}function F6(c,d,f){Mo.L(c,d,f);var m=bu;if(m&&c&&d){var y='link[rel="preload"][as="'+Mr(d)+'"]';d==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+Mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+Mr(f.imageSizes)+'"]')):y+='[href="'+Mr(c)+'"]';var b=y;switch(d){case"style":b=Eu(c);break;case"script":b=Tu(c)}Ir.has(b)||(c=h({rel:"preload",href:d==="image"&&f&&f.imageSrcSet?void 0:c,as:d},f),Ir.set(b,c),m.querySelector(y)!==null||d==="style"&&m.querySelector(Nh(b))||d==="script"&&m.querySelector(Bh(b))||(d=m.createElement("link"),li(d,"link",c),he(d),m.head.appendChild(d)))}}function M6(c,d){Mo.m(c,d);var f=bu;if(f&&c){var m=d&&typeof d.as=="string"?d.as:"script",y='link[rel="modulepreload"][as="'+Mr(m)+'"][href="'+Mr(c)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Tu(c)}if(!Ir.has(b)&&(c=h({rel:"modulepreload",href:c},d),Ir.set(b,c),f.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Bh(b)))return}m=f.createElement("link"),li(m,"link",c),he(m),f.head.appendChild(m)}}}function _6(c,d,f){Mo.S(c,d,f);var m=bu;if(m&&c){var y=be(m).hoistableStyles,b=Eu(c);d=d||"default";var M=y.get(b);if(!M){var N={loading:0,preload:null};if(M=m.querySelector(Nh(b)))N.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},f),(f=Ir.get(b))&&D1(c,f);var ne=M=m.createElement("link");he(ne),li(ne,"link",c),ne._p=new Promise(function(pe,Te){ne.onload=pe,ne.onerror=Te}),ne.addEventListener("load",function(){N.loading|=1}),ne.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Pg(M,d,m)}M={type:"stylesheet",instance:M,count:1,state:N},y.set(b,M)}}}function A6(c,d){Mo.X(c,d);var f=bu;if(f&&c){var m=be(f).hoistableScripts,y=Tu(c),b=m.get(y);b||(b=f.querySelector(Bh(y)),b||(c=h({src:c,async:!0},d),(d=Ir.get(y))&&R1(c,d),b=f.createElement("script"),he(b),li(b,"link",c),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function P6(c,d){Mo.M(c,d);var f=bu;if(f&&c){var m=be(f).hoistableScripts,y=Tu(c),b=m.get(y);b||(b=f.querySelector(Bh(y)),b||(c=h({src:c,async:!0,type:"module"},d),(d=Ir.get(y))&&R1(c,d),b=f.createElement("script"),he(b),li(b,"link",c),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function ID(c,d,f,m){var y=(y=de.current)?Ag(y):null;if(!y)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(d=Eu(f.href),f=be(y).hoistableStyles,m=f.get(d),m||(m={type:"style",instance:null,count:0,state:null},f.set(d,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){c=Eu(f.href);var b=be(y).hoistableStyles,M=b.get(c);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(c,M),(b=y.querySelector(Nh(c)))&&!b._p&&(M.instance=b,M.state.loading=5),Ir.has(c)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ir.set(c,f),b||k6(y,c,f,M.state))),d&&m===null)throw Error(i(528,""));return M}if(d&&m!==null)throw Error(i(529,""));return null;case"script":return d=f.async,f=f.src,typeof f=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Tu(f),f=be(y).hoistableScripts,m=f.get(d),m||(m={type:"script",instance:null,count:0,state:null},f.set(d,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Eu(c){return'href="'+Mr(c)+'"'}function Nh(c){return'link[rel="stylesheet"]['+c+"]"}function ND(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function k6(c,d,f,m){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?m.loading=1:(d=c.createElement("link"),m.preload=d,d.addEventListener("load",function(){return m.loading|=1}),d.addEventListener("error",function(){return m.loading|=2}),li(d,"link",f),he(d),c.head.appendChild(d))}function Tu(c){return'[src="'+Mr(c)+'"]'}function Bh(c){return"script[async]"+c}function BD(c,d,f){if(d.count++,d.instance===null)switch(d.type){case"style":var m=c.querySelector('style[data-href~="'+Mr(f.href)+'"]');if(m)return d.instance=m,he(m),m;var y=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),he(m),li(m,"style",y),Pg(m,f.precedence,c),d.instance=m;case"stylesheet":y=Eu(f.href);var b=c.querySelector(Nh(y));if(b)return d.state.loading|=4,d.instance=b,he(b),b;m=ND(f),(y=Ir.get(y))&&D1(m,y),b=(c.ownerDocument||c).createElement("link"),he(b);var M=b;return M._p=new Promise(function(N,ne){M.onload=N,M.onerror=ne}),li(b,"link",m),d.state.loading|=4,Pg(b,f.precedence,c),d.instance=b;case"script":return b=Tu(f.src),(y=c.querySelector(Bh(b)))?(d.instance=y,he(y),y):(m=f,(y=Ir.get(b))&&(m=h({},f),R1(m,y)),c=c.ownerDocument||c,y=c.createElement("script"),he(y),li(y,"link",m),c.head.appendChild(y),d.instance=y);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(m=d.instance,d.state.loading|=4,Pg(m,f.precedence,c));return d.instance}function Pg(c,d,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,M=0;M<m.length;M++){var N=m[M];if(N.dataset.precedence===d)b=N;else if(b!==y)break}b?b.parentNode.insertBefore(c,b.nextSibling):(d=f.nodeType===9?f.head:f,d.insertBefore(c,d.firstChild))}function D1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function R1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var kg=null;function HD(c,d,f){if(kg===null){var m=new Map,y=kg=new Map;y.set(f,m)}else y=kg,m=y.get(f),m||(m=new Map,y.set(f,m));if(m.has(c))return m;for(m.set(c,null),f=f.getElementsByTagName(c),y=0;y<f.length;y++){var b=f[y];if(!(b[V]||b[qn]||c==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(d)||"";M=c+M;var N=m.get(M);N?N.push(b):m.set(M,[b])}}return m}function GD(c,d,f){c=c.ownerDocument||c,c.head.insertBefore(f,d==="title"?c.querySelector("head > title"):null)}function O6(c,d,f){if(f===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function VD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Hh=null;function L6(){}function I6(c,d,f){if(Hh===null)throw Error(i(475));var m=Hh;if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=Eu(f.href),b=c.querySelector(Nh(y));if(b){c=b._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(m.count++,m=Og.bind(m),c.then(m,m)),d.state.loading|=4,d.instance=b,he(b);return}b=c.ownerDocument||c,f=ND(f),(y=Ir.get(y))&&D1(f,y),b=b.createElement("link"),he(b);var M=b;M._p=new Promise(function(N,ne){M.onload=N,M.onerror=ne}),li(b,"link",f),d.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(m.count++,d=Og.bind(m),c.addEventListener("load",d),c.addEventListener("error",d))}}function N6(){if(Hh===null)throw Error(i(475));var c=Hh;return c.stylesheets&&c.count===0&&F1(c,c.stylesheets),0<c.count?function(d){var f=setTimeout(function(){if(c.stylesheets&&F1(c,c.stylesheets),c.unsuspend){var m=c.unsuspend;c.unsuspend=null,m()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(f)}}:null}function Og(){if(this.count--,this.count===0){if(this.stylesheets)F1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Lg=null;function F1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Lg=new Map,d.forEach(B6,c),Lg=null,Og.call(c))}function B6(c,d){if(!(d.state.loading&4)){var f=Lg.get(c);if(f)var m=f.get(null);else{f=new Map,Lg.set(c,f);for(var y=c.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var M=y[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(f.set(M.dataset.precedence,M),m=M)}m&&f.set(null,m)}y=d.instance,M=y.getAttribute("data-precedence"),b=f.get(M)||m,b===m&&f.set(null,y),f.set(M,y),this.count++,m=Og.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(y,c.firstChild)),d.state.loading|=4}}var Gh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function H6(c,d,f,m,y,b,M,N){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.hiddenUpdates=qd(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function zD(c,d,f,m,y,b,M,N,ne,pe,Te,Re){return c=new H6(c,d,f,M,N,ne,pe,Re),d=1,b===!0&&(d|=24),b=or(3,null,null,d),c.current=b,b.stateNode=c,d=cw(),d.refCount++,c.pooledCache=d,d.refCount++,b.memoizedState={element:m,isDehydrated:f,cache:d},fw(b),c}function WD(c){return c?(c=nu,c):nu}function UD(c,d,f,m,y,b){y=WD(y),m.context===null?m.context=y:m.pendingContext=y,m=ba(d),m.payload={element:f},b=b===void 0?null:b,b!==null&&(m.callback=b),f=Ea(c,m,d),f!==null&&(dr(f,c,d),mh(f,c,d))}function jD(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var f=c.retryLane;c.retryLane=f!==0&&f<d?f:d}}function M1(c,d){jD(c,d),(c=c.alternate)&&jD(c,d)}function YD(c){if(c.tag===13){var d=tu(c,67108864);d!==null&&dr(d,c,67108864),M1(c,67108864)}}var Ig=!0;function G6(c,d,f,m){var y=j.T;j.T=null;var b=W.p;try{W.p=2,_1(c,d,f,m)}finally{W.p=b,j.T=y}}function V6(c,d,f,m){var y=j.T;j.T=null;var b=W.p;try{W.p=8,_1(c,d,f,m)}finally{W.p=b,j.T=y}}function _1(c,d,f,m){if(Ig){var y=A1(m);if(y===null)v1(c,d,m,Ng,f),KD(c,m);else if(W6(y,c,d,f,m))m.stopPropagation();else if(KD(c,m),d&4&&-1<z6.indexOf(c)){for(;y!==null;){var b=Z(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Vi(b.pendingLanes);if(M!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;M;){var ne=1<<31-xt(M);N.entanglements[1]|=ne,M&=~ne}Ls(b),(Vt&6)===0&&(yg=ke()+500,kh(0))}}break;case 13:N=tu(b,2),N!==null&&dr(N,b,2),xg(),M1(b,2)}if(b=A1(m),b===null&&v1(c,d,m,Ng,f),b===y)break;y=b}y!==null&&m.stopPropagation()}else v1(c,d,m,null,f)}}function A1(c){return c=IC(c),P1(c)}var Ng=null;function P1(c){if(Ng=null,c=q(c),c!==null){var d=s(c);if(d===null)c=null;else{var f=d.tag;if(f===13){if(c=o(d),c!==null)return c;c=null}else if(f===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ng=c,null}function $D(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case vt:return 2;case Ft:return 8;case It:case mn:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var k1=!1,Na=null,Ba=null,Ha=null,Vh=new Map,zh=new Map,Ga=[],z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KD(c,d){switch(c){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Vh.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":zh.delete(d.pointerId)}}function Wh(c,d,f,m,y,b){return c===null||c.nativeEvent!==b?(c={blockedOn:d,domEventName:f,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},d!==null&&(d=Z(d),d!==null&&YD(d)),c):(c.eventSystemFlags|=m,d=c.targetContainers,y!==null&&d.indexOf(y)===-1&&d.push(y),c)}function W6(c,d,f,m,y){switch(d){case"focusin":return Na=Wh(Na,c,d,f,m,y),!0;case"dragenter":return Ba=Wh(Ba,c,d,f,m,y),!0;case"mouseover":return Ha=Wh(Ha,c,d,f,m,y),!0;case"pointerover":var b=y.pointerId;return Vh.set(b,Wh(Vh.get(b)||null,c,d,f,m,y)),!0;case"gotpointercapture":return b=y.pointerId,zh.set(b,Wh(zh.get(b)||null,c,d,f,m,y)),!0}return!1}function qD(c){var d=q(c.target);if(d!==null){var f=s(d);if(f!==null){if(d=f.tag,d===13){if(d=o(f),d!==null){c.blockedOn=d,_C(c.priority,function(){if(f.tag===13){var m=ur();m=Xd(m);var y=tu(f,m);y!==null&&dr(y,f,m),M1(f,m)}});return}}else if(d===3&&f.stateNode.current.memoizedState.isDehydrated){c.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Bg(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var f=A1(c.nativeEvent);if(f===null){f=c.nativeEvent;var m=new f.constructor(f.type,f);LC=m,f.target.dispatchEvent(m),LC=null}else return d=Z(f),d!==null&&YD(d),c.blockedOn=f,!1;d.shift()}return!0}function XD(c,d,f){Bg(c)&&f.delete(d)}function U6(){k1=!1,Na!==null&&Bg(Na)&&(Na=null),Ba!==null&&Bg(Ba)&&(Ba=null),Ha!==null&&Bg(Ha)&&(Ha=null),Vh.forEach(XD),zh.forEach(XD)}function Hg(c,d){c.blockedOn===d&&(c.blockedOn=null,k1||(k1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U6)))}var Gg=null;function QD(c){Gg!==c&&(Gg=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gg===c&&(Gg=null);for(var d=0;d<c.length;d+=3){var f=c[d],m=c[d+1],y=c[d+2];if(typeof m!="function"){if(P1(m||f)===null)continue;break}var b=Z(f);b!==null&&(c.splice(d,3),d-=3,Pw(b,{pending:!0,data:y,method:f.method,action:m},m,y))}}))}function Uh(c){function d(ne){return Hg(ne,c)}Na!==null&&Hg(Na,c),Ba!==null&&Hg(Ba,c),Ha!==null&&Hg(Ha,c),Vh.forEach(d),zh.forEach(d);for(var f=0;f<Ga.length;f++){var m=Ga[f];m.blockedOn===c&&(m.blockedOn=null)}for(;0<Ga.length&&(f=Ga[0],f.blockedOn===null);)qD(f),f.blockedOn===null&&Ga.shift();if(f=(c.ownerDocument||c).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var y=f[m],b=f[m+1],M=y[Xn]||null;if(typeof b=="function")M||QD(f);else if(M){var N=null;if(b&&b.hasAttribute("formAction")){if(y=b,M=b[Xn]||null)N=M.formAction;else if(P1(y)!==null)continue}else N=M.action;typeof N=="function"?f[m+1]=N:(f.splice(m,3),m-=3),QD(f)}}}function O1(c){this._internalRoot=c}Vg.prototype.render=O1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var f=d.current,m=ur();UD(f,m,c,d,null,null)},Vg.prototype.unmount=O1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;UD(c.current,2,null,c,null,null),xg(),d[Ca]=null}};function Vg(c){this._internalRoot=c}Vg.prototype.unstable_scheduleHydration=function(c){if(c){var d=Op();c={blockedOn:null,target:c,priority:d};for(var f=0;f<Ga.length&&d!==0&&d<Ga[f].priority;f++);Ga.splice(f,0,c),f===0&&qD(c)}};var ZD=t.version;if(ZD!=="19.1.0")throw Error(i(527,ZD,"19.1.0"));W.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(d),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var j6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{Mt=zg.inject(j6),ft=zg}catch{}}return Yh.createRoot=function(c,d){if(!r(c))throw Error(i(299));var f=!1,m="",y=pT,b=gT,M=mT,N=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(m=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(b=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(N=d.unstable_transitionCallbacks)),d=zD(c,1,!1,null,null,f,m,y,b,M,N,null),c[Ca]=d.current,m1(c),new O1(d)},Yh.hydrateRoot=function(c,d,f){if(!r(c))throw Error(i(299));var m=!1,y="",b=pT,M=gT,N=mT,ne=null,pe=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(b=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ne=f.unstable_transitionCallbacks),f.formState!==void 0&&(pe=f.formState)),d=zD(c,1,!0,d,f??null,m,y,b,M,N,ne,pe),d.context=WD(null),f=d.current,m=ur(),m=Xd(m),y=ba(m),y.callback=null,Ea(f,y,m),f=m,d.current.lanes=f,bl(d,f),Ls(d),c[Ca]=d.current,m1(c),new Vg(d)},Yh.version="19.1.0",Yh}var lR;function t8(){if(lR)return I1.exports;lR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),I1.exports=e8(),I1.exports}var n8=t8();const i8=cp(n8);var D=xx();const te=cp(D),gA=$6({__proto__:null,default:te},[D]);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cR="popstate";function r8(e={}){function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return cS("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Mf(r)}return o8(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s8(){return Math.random().toString(36).substring(2,10)}function uR(e,t){return{usr:e.state,key:e.key,idx:t}}function cS(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Md(t):t,state:n,key:t&&t.key||i||s8()}}function Mf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Md(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function o8(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let S=h(),x=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:x})}function g(S,x){a="PUSH";let E=cS(w.location,S,x);u=h()+1;let T=uR(E,u),R=w.createHref(E);try{o.pushState(T,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function v(S,x){a="REPLACE";let E=cS(w.location,S,x);u=h();let T=uR(E,u),R=w.createHref(E);o.replaceState(T,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function C(S){return a8(S)}let w={get action(){return a},get location(){return e(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(cR,p),l=S,()=>{r.removeEventListener(cR,p),l=null}},createHref(S){return t(r,S)},createURL:C,encodeLocation(S){let x=C(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(S){return o.go(S)}};return w}function a8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pn(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Mf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function mA(e,t,n="/"){return l8(e,t,n,!1)}function l8(e,t,n,i){let r=typeof t=="string"?Md(t):t,s=Zo(r.pathname||"/",n);if(s==null)return null;let o=vA(e);c8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=y8(s);a=C8(o[l],u,i)}return a}function vA(e,t=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(pn(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=Bo([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(pn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),vA(s.children,t,h,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:m8(u,s.index),routesMeta:h})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let a of CA(s.path))r(s,o,a)}),t}function CA(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=CA(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function c8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var u8=/^:[\w-]+$/,d8=3,h8=2,f8=1,p8=10,g8=-2,dR=e=>e==="*";function m8(e,t){let n=e.split("/"),i=n.length;return n.some(dR)&&(i+=g8),t&&(i+=h8),n.filter(r=>!dR(r)).reduce((r,s)=>r+(u8.test(s)?d8:s===""?f8:p8),i)}function v8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function C8(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=S0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!p&&u&&n&&!i[i.length-1].route.index&&(p=S0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Bo([s,p.pathname]),pathnameBase:E8(Bo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Bo([s,p.pathnameBase]))}return o}function S0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=w8(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let C=a[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=a[g];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function w8(e,t=!1,n=!0){bs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function y8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function S8(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Md(e):e;return{pathname:n?n.startsWith("/")?n:x8(n,t):t,search:T8(i),hash:D8(r)}}function x8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function V1(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bx(e){let t=b8(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ex(e,t,n,i=!1){let r;typeof e=="string"?r=Md(e):(r={...e},pn(!r.pathname||!r.pathname.includes("?"),V1("?","pathname","search",r)),pn(!r.pathname||!r.pathname.includes("#"),V1("#","pathname","hash",r)),pn(!r.search||!r.search.includes("#"),V1("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=S8(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Bo=e=>e.join("/").replace(/\/\/+/g,"/"),E8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wA=["POST","PUT","PATCH","DELETE"];new Set(wA);var F8=["GET",...wA];new Set(F8);var _d=D.createContext(null);_d.displayName="DataRouter";var Vv=D.createContext(null);Vv.displayName="DataRouterState";D.createContext(!1);var yA=D.createContext({isTransitioning:!1});yA.displayName="ViewTransition";var M8=D.createContext(new Map);M8.displayName="Fetchers";var _8=D.createContext(null);_8.displayName="Await";var Ts=D.createContext(null);Ts.displayName="Navigation";var up=D.createContext(null);up.displayName="Location";var Ds=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var Tx=D.createContext(null);Tx.displayName="RouteError";function A8(e,{relative:t}={}){pn(Ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Ts),{hash:r,pathname:s,search:o}=dp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Bo([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Ad(){return D.useContext(up)!=null}function ir(){return pn(Ad(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(up).location}var SA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xA(e){D.useContext(Ts).static||D.useLayoutEffect(e)}function vl(){let{isDataRoute:e}=D.useContext(Ds);return e?Y8():P8()}function P8(){pn(Ad(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(_d),{basename:t,navigator:n}=D.useContext(Ts),{matches:i}=D.useContext(Ds),{pathname:r}=ir(),s=JSON.stringify(bx(i)),o=D.useRef(!1);return xA(()=>{o.current=!0}),D.useCallback((l,u={})=>{if(bs(o.current,SA),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Ex(l,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bo([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,r,e])}var k8=D.createContext(null);function O8(e){let t=D.useContext(Ds).outlet;return t&&D.createElement(k8.Provider,{value:e},t)}function dp(e,{relative:t}={}){let{matches:n}=D.useContext(Ds),{pathname:i}=ir(),r=JSON.stringify(bx(n));return D.useMemo(()=>Ex(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function L8(e,t){return bA(e,t)}function bA(e,t,n,i){pn(Ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=D.useContext(Ts),{matches:s}=D.useContext(Ds),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";EA(l,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=ir(),g;if(t){let x=typeof t=="string"?Md(t):t;pn(u==="/"||x.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=p;let v=g.pathname||"/",C=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=mA(e,{pathname:C});bs(h||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),bs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=G8(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Bo([u,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Bo([u,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return t&&S?D.createElement(up.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function I8(){let e=j8(),t=R8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:r},n):null,o)}var N8=D.createElement(I8,null),B8=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(Ds.Provider,{value:this.props.routeContext},D.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H8({routeContext:e,match:t,children:n}){let i=D.useContext(_d);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Ds.Provider,{value:e},n)}function G8(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n?.errors;if(s!=null){let l=r.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);pn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let u=r[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:p}=n,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,u,h)=>{let p,g=!1,v=null,C=null;n&&(p=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||N8,o&&(a<0&&h===0?(EA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):a===h&&(g=!0,C=u.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,h+1)),S=()=>{let x;return p?x=v:g?x=C:u.route.Component?x=D.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,D.createElement(H8,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?D.createElement(B8,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function Dx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V8(e){let t=D.useContext(_d);return pn(t,Dx(e)),t}function z8(e){let t=D.useContext(Vv);return pn(t,Dx(e)),t}function W8(e){let t=D.useContext(Ds);return pn(t,Dx(e)),t}function Rx(e){let t=W8(e),n=t.matches[t.matches.length-1];return pn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function U8(){return Rx("useRouteId")}function j8(){let e=D.useContext(Tx),t=z8("useRouteError"),n=Rx("useRouteError");return e!==void 0?e:t.errors?.[n]}function Y8(){let{router:e}=V8("useNavigate"),t=Rx("useNavigate"),n=D.useRef(!1);return xA(()=>{n.current=!0}),D.useCallback(async(r,s={})=>{bs(n.current,SA),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var hR={};function EA(e,t,n){!t&&!hR[e]&&(hR[e]=!0,bs(!1,n))}D.memo($8);function $8({routes:e,future:t,state:n}){return bA(e,void 0,n,t)}function fR({to:e,replace:t,state:n,relative:i}){pn(Ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(Ts);bs(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(Ds),{pathname:o}=ir(),a=vl(),l=Ex(e,bx(s),o,i==="path"),u=JSON.stringify(l);return D.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:i})},[a,u,i,t,n]),null}function TA(e){return O8(e.context)}function xi(e){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K8({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){pn(!Ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Md(n));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:g="default"}=n,v=D.useMemo(()=>{let C=Zo(l,o);return C==null?null:{location:{pathname:C,search:u,hash:h,state:p,key:g},navigationType:i}},[o,l,u,h,p,g,i]);return bs(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement(Ts.Provider,{value:a},D.createElement(up.Provider,{children:t,value:v}))}function q8({children:e,location:t}){return L8(uS(e),t)}function uS(e,t=[]){let n=[];return D.Children.forEach(e,(i,r)=>{if(!D.isValidElement(i))return;let s=[...t,r];if(i.type===D.Fragment){n.push.apply(n,uS(i.props.children,s));return}pn(i.type===xi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=uS(i.props.children,s)),n.push(o)}),n}var Km="get",qm="application/x-www-form-urlencoded";function zv(e){return e!=null&&typeof e.tagName=="string"}function X8(e){return zv(e)&&e.tagName.toLowerCase()==="button"}function Q8(e){return zv(e)&&e.tagName.toLowerCase()==="form"}function Z8(e){return zv(e)&&e.tagName.toLowerCase()==="input"}function J8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eN(e,t){return e.button===0&&(!t||t==="_self")&&!J8(e)}var Ug=null;function tN(){if(Ug===null)try{new FormData(document.createElement("form"),0),Ug=!1}catch{Ug=!0}return Ug}var nN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z1(e){return e!=null&&!nN.has(e)?(bs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):e}function iN(e,t){let n,i,r,s,o;if(Q8(e)){let a=e.getAttribute("action");i=a?Zo(a,t):null,n=e.getAttribute("method")||Km,r=z1(e.getAttribute("enctype"))||qm,s=new FormData(e)}else if(X8(e)||Z8(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?Zo(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Km,r=z1(e.getAttribute("formenctype"))||z1(a.getAttribute("enctype"))||qm,s=new FormData(a,e),!tN()){let{name:u,type:h,value:p}=e;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(zv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Km,i=null,r=qm,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Zo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function sN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function aN(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await sN(s,n);return o.links?o.links():[]}return[]}));return dN(i.flat(1).filter(oN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function pR(e,t,n,i,r,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function lN(e,t,{includeHydrateFallback:n}={}){return cN(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cN(e){return[...new Set(e)]}function uN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function dN(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(uN(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function DA(){let e=D.useContext(_d);return Fx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hN(){let e=D.useContext(Vv);return Fx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mx=D.createContext(void 0);Mx.displayName="FrameworkContext";function RA(){let e=D.useContext(Mx);return Fx(e,"You must render this element inside a <HydratedRouter> element"),e}function fN(e,t){let n=D.useContext(Mx),[i,r]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,g=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=x=>{x.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),D.useEffect(()=>{if(i){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[i]);let v=()=>{r(!0)},C=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:$h(a,v),onBlur:$h(l,C),onMouseEnter:$h(u,v),onMouseLeave:$h(h,C),onTouchStart:$h(p,v)}]:[!1,g,{}]}function $h(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pN({page:e,...t}){let{router:n}=DA(),i=D.useMemo(()=>mA(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?D.createElement(mN,{page:e,matches:i,...t}):null}function gN(e){let{manifest:t,routeModules:n}=RA(),[i,r]=D.useState([]);return D.useEffect(()=>{let s=!1;return aN(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),i}function mN({page:e,matches:t,...n}){let i=ir(),{manifest:r,routeModules:s}=RA(),{basename:o}=DA(),{loaderData:a,matches:l}=hN(),u=D.useMemo(()=>pR(e,t,l,r,i,"data"),[e,t,l,r,i]),h=D.useMemo(()=>pR(e,t,l,r,i,"assets"),[e,t,l,r,i]),p=D.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,w=!1;if(t.forEach(x=>{let E=r.routes[x.route.id];!E||!E.hasLoader||(!u.some(T=>T.route.id===x.route.id)&&x.route.id in a&&s[x.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:C.add(x.route.id))}),C.size===0)return[];let S=rN(e,o,"data");return w&&C.size>0&&S.searchParams.set("_routes",t.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[o,a,i,r,u,t,e,s]),g=D.useMemo(()=>lN(h,r),[h,r]),v=gN(h);return D.createElement(D.Fragment,null,p.map(C=>D.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>D.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:w})=>D.createElement("link",{key:C,...w})))}function vN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FA&&(window.__reactRouterVersion="7.7.1")}catch{}function CN({basename:e,children:t,window:n}){let i=D.useRef();i.current==null&&(i.current=r8({window:n,v5Compat:!0}));let r=i.current,[s,o]=D.useState({action:r.action,location:r.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>r.listen(a),[r,a]),D.createElement(K8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x0=D.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p,...g},v){let{basename:C}=D.useContext(Ts),w=typeof u=="string"&&MA.test(u),S,x=!1;if(typeof u=="string"&&w&&(S=u,FA))try{let A=new URL(window.location.href),O=u.startsWith("//")?new URL(A.protocol+u):new URL(u),I=Zo(O.pathname,C);O.origin===A.origin&&I!=null?u=I+O.search+O.hash:x=!0}catch{bs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=A8(u,{relative:r}),[T,R,F]=fN(i,g),P=xN(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:p});function _(A){t&&t(A),A.defaultPrevented||P(A)}let L=D.createElement("a",{...g,...F,href:S||E,onClick:x||s?t:_,ref:vN(v,R),target:l,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?D.createElement(D.Fragment,null,L,D.createElement(pN,{page:E})):L});x0.displayName="Link";var wN=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let p=dp(o,{relative:u.relative}),g=ir(),v=D.useContext(Vv),{navigator:C,basename:w}=D.useContext(Ts),S=v!=null&&RN(p)&&a===!0,x=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,E=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&w&&(T=Zo(T,w)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=E===x||!r&&E.startsWith(x)&&E.charAt(R)==="/",P=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),_={isActive:F,isPending:P,isTransitioning:S},L=F?t:void 0,A;typeof i=="function"?A=i(_):A=[i,F?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(_):s;return D.createElement(x0,{...u,"aria-current":L,className:A,ref:h,style:O,to:o,viewTransition:a},typeof l=="function"?l(_):l)});wN.displayName="NavLink";var yN=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:o=Km,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,...g},v)=>{let C=TN(),w=DN(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&MA.test(a),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,F=R?.getAttribute("formmethod")||o;C(R||T.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:r,state:s,relative:u,preventScrollReset:h,viewTransition:p})};return D.createElement("form",{ref:v,method:S,action:w,onSubmit:i?l:E,...g,"data-discover":!x&&e==="render"?"true":void 0})});yN.displayName="Form";function SN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(e){let t=D.useContext(_d);return pn(t,SN(e)),t}function xN(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=vl(),l=ir(),u=dp(e,{relative:s});return D.useCallback(h=>{if(eN(h,t)){h.preventDefault();let p=n!==void 0?n:Mf(l)===Mf(u);a(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,u,n,i,t,e,r,s,o])}var bN=0,EN=()=>`__${String(++bN)}__`;function TN(){let{router:e}=_A("useSubmit"),{basename:t}=D.useContext(Ts),n=U8();return D.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=iN(i,t);if(r.navigate===!1){let h=r.fetcherKey||EN();await e.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function DN(e,{relative:t}={}){let{basename:n}=D.useContext(Ts),i=D.useContext(Ds);pn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...dp(e||".",{relative:t})},o=ir();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Bo([n,s.pathname])),Mf(s)}function RN(e,{relative:t}={}){let n=D.useContext(yA);pn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_A("useViewTransitionState"),r=dp(e,{relative:t});if(!n.isTransitioning)return!1;let s=Zo(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Zo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return S0(r.pathname,o)!=null||S0(r.pathname,s)!=null}var Wv=pA();const AA=cp(Wv),hp=D.createContext();function FN({children:e}){const[t,n]=D.useState(null),[i,r]=D.useState(!0),s=l=>{n(l),localStorage.setItem("user",JSON.stringify(l))},o=()=>{n(null),localStorage.removeItem("user")};D.useEffect(()=>{const l=localStorage.getItem("user");l&&n(JSON.parse(l)),r(!1)},[]);const a={user:t,login:s,logout:o,loading:i};return G.jsx(hp.Provider,{value:a,children:!i&&e})}const PA=e=>D.createElement("svg",{width:196,height:28,viewBox:"0 0 196 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("g",{clipPath:"url(#clip0_2866_25701)"},D.createElement("path",{d:"M104.478 9.83496H109.364C109.364 6.40518 110.791 4.68933 113.037 4.68933C115.284 4.68933 116.676 6.29974 116.676 8.22456C116.676 10.1494 115.57 11.3744 114.821 12.1451C114.108 12.9158 106.582 20.7551 105.974 21.3858C105.369 22.0165 104.476 22.7853 104.476 24.4667C104.476 26.148 105.474 27.6511 107.508 27.6511H119.386C120.456 27.6511 122.133 26.8804 122.133 24.6066V22.8908H111.324C111.324 22.8908 119.243 14.5953 120.171 13.6501C121.955 11.8997 122.133 9.86947 122.133 8.22456C122.133 3.35883 118.459 0.174438 113.215 0.174438C107.971 0.174438 104.476 3.14986 104.476 9.83496",fill:"#FFB81C"}),D.createElement("path",{d:"M122.097 17.3253L133.869 1.43596C134.44 0.665265 135.333 0.176392 136.366 0.176392C138.078 0.176392 139.434 1.5414 139.434 3.18632V17.3962H144V18.9357C144 20.966 142.466 21.6657 141.503 21.6657H139.434V25.3409C139.434 26.3551 138.648 28 136.402 28H134.69V21.6657H124.309C122.775 21.6657 121.527 20.4407 121.527 18.9357C121.562 18.3414 121.742 17.7816 122.097 17.3253ZM127.199 17.3943H134.69V7.27944L127.199 17.3943Z",fill:"#FFB81C"}),D.createElement("path",{d:"M99.8393 27.4402C99.5189 27.5457 97.7702 28 95.916 28C91.7777 28 89.6031 26.2497 89.6031 22.5745V0.385376H91.9223C94.3471 0.385376 95.1325 1.75039 95.1325 3.67521V5.35463H99.8413V6.64871C99.8413 8.50451 98.5224 9.5532 96.5959 9.5532H95.1325V21.5929C95.1325 22.9234 95.5956 23.8686 97.4869 23.8686C98.6279 23.8686 99.6635 23.5542 99.8413 23.4832C99.8413 23.974 99.8413 27.4383 99.8413 27.4383M85.5001 8.9608C86.6763 8.9608 87.8896 9.31163 88.0322 9.34614V5.35655C87.8544 5.32204 85.5704 4.83125 83.431 4.83125C79.7929 4.83125 77.2236 6.30171 77.2236 10.1859V27.4402H82.753V11.271C82.753 9.83502 83.6439 8.9608 85.5001 8.9608ZM53.8615 11.131C53.8615 8.92629 52.5779 4.90027 45.2295 4.90027C41.4488 4.90027 39.9502 5.87993 39.4148 6.23077C38.8443 5.91636 37.0956 4.90027 33.565 4.90027C26.752 4.90027 24.933 8.22461 24.933 10.9911V27.5112H30.4975V11.34C30.4975 10.3948 31.0328 8.9953 33.565 8.9953C35.5619 8.9953 36.6326 9.97497 36.6326 11.34V27.5092H42.1971V11.34C42.1971 9.97497 43.2678 8.9953 45.2646 8.9953C47.4412 8.9953 48.3673 10.0804 48.3673 11.34V23.7995C48.3673 26.2497 49.8308 27.6147 52.1128 27.6147H53.9319V11.131H53.8596H53.8615ZM65.6334 4.86576C72.5891 4.86576 75.0861 8.08657 75.0861 12.3906V19.3901C75.0861 24.2903 71.8759 28 65.2407 28C58.6054 28 55.3953 25.0591 55.3953 21.1059C55.3953 17.9561 57.5719 15.8913 62.3158 14.5953C62.9938 14.4208 65.313 13.7211 66.3466 13.4412C68.7361 12.7414 69.5216 12.2161 69.5216 11.2019C69.5216 10.1168 68.2027 8.96271 65.4908 8.96271C62.2455 8.96271 61.2451 10.922 61.2099 12.3235H56.1807C56.1807 7.98305 58.8204 4.86768 65.6334 4.86768V4.86576ZM64.8128 23.8705C66.9523 23.8705 69.5567 22.54 69.5567 19.1811V16.522C69.5567 16.522 65.3482 17.7126 64.17 18.0615C62.0657 18.6923 61.0673 19.7409 61.0673 21.1059C61.0321 22.5055 62.2083 23.8705 64.8128 23.8705Z",fill:"#63666A"}),D.createElement("path",{d:"M11.0216 28C3.35279 28 0 23.3797 0 17.5343V11.2345C0 3.14988 5.49225 0 11.9497 0C19.7611 0 23.1862 4.16597 23.1862 8.33002C23.1862 14.4208 16.8362 15.8894 14.054 16.6946C13.2334 16.94 10.2733 17.7797 9.59531 17.9886C6.99084 18.7229 6.24252 19.5645 6.24252 20.5078C6.24252 22.1182 7.66882 23.5177 11.0216 23.5177C13.9465 23.5177 16.086 22.538 16.4435 19.5626H22.5434C21.9006 24.252 19.0128 27.9981 11.0216 27.9981M11.6996 4.51489C8.31164 4.51489 6.09989 6.75413 6.09989 10.5347V14.5243C6.09989 14.5243 10.7012 13.1938 12.5925 12.634C14.1986 12.1432 17.0512 11.1636 17.0512 8.67895C17.0863 6.50873 15.2673 4.51298 11.7016 4.51298L11.6996 4.51489Z",fill:"#FFB81C"})),D.createElement("g",{clipPath:"url(#clip1_2866_25701)"},D.createElement("path",{d:"M150 27.7016V10.2882H153.411V27.7016H150Z",fill:"#19289B"}),D.createElement("path",{d:"M170.632 18.4185V26.5695C169.748 27.0532 168.803 27.4031 167.786 27.6398C166.768 27.8765 165.648 27.9897 164.426 27.9897C161.723 27.9897 159.627 27.2281 158.158 25.705C156.679 24.1818 155.939 22.0206 155.939 19.2316C155.939 16.4425 156.679 14.0858 158.168 12.4494C159.648 10.813 161.713 10 164.344 10C166.285 10 167.837 10.4837 168.967 11.4511C170.108 12.4185 170.673 13.7153 170.673 15.331V15.6501H167.447C167.405 14.5798 167.097 13.7667 166.532 13.2007C165.967 12.6449 165.166 12.3671 164.138 12.3671C162.679 12.3671 161.539 12.9743 160.696 14.1784C159.853 15.3825 159.432 17.0292 159.432 19.1184C159.432 21.2075 159.874 22.7204 160.758 23.7702C161.641 24.8302 162.946 25.3551 164.672 25.3551C165.124 25.3551 165.566 25.3242 165.998 25.2624C166.44 25.2007 166.861 25.1184 167.282 24.9949V21.1973H164.241V18.4185H170.621H170.632Z",fill:"#19289B"}),D.createElement("path",{d:"M182.972 23.8937C182.879 25.1801 182.407 26.1784 181.564 26.8885C180.721 27.6089 179.591 27.9589 178.184 27.9589C176.54 27.9589 175.266 27.4134 174.351 26.3225C173.437 25.2316 172.985 23.6981 172.985 21.7427C172.985 19.6844 173.447 18.0892 174.382 16.9571C175.317 15.8251 176.632 15.259 178.348 15.259C179.93 15.259 181.153 15.8045 182.026 16.9057C182.889 18.0069 183.321 19.5609 183.321 21.5781C183.321 21.7942 183.321 21.9692 183.321 22.0721C183.321 22.1853 183.321 22.2779 183.3 22.3705H176.108C176.118 23.4717 176.303 24.2745 176.642 24.8199C176.981 25.3551 177.495 25.6227 178.173 25.6227C178.708 25.6227 179.139 25.4786 179.447 25.2007C179.766 24.9125 179.982 24.4803 180.105 23.904H182.982L182.972 23.8937ZM176.19 20.127H180.013C180.002 19.2419 179.838 18.5832 179.519 18.151C179.201 17.7187 178.738 17.4923 178.122 17.4923C177.567 17.4923 177.115 17.729 176.776 18.1921C176.437 18.6553 176.242 19.3036 176.19 20.127Z",fill:"#19289B"}),D.createElement("path",{d:"M185.715 27.7015V17.8834C185.715 17.5334 185.715 17.1732 185.684 16.7924C185.653 16.4117 185.643 16 185.602 15.5575H188.695L188.756 17.3791C189.178 16.6484 189.671 16.1132 190.246 15.7736C190.822 15.434 191.52 15.2693 192.352 15.2693C193.585 15.2693 194.5 15.6501 195.096 16.4117C195.692 17.1732 195.99 18.3259 195.99 19.8902V27.7118H192.794V20.3842C192.794 19.4785 192.65 18.8302 192.363 18.4391C192.075 18.048 191.613 17.8525 190.965 17.8525C190.318 17.8525 189.845 18.0686 189.465 18.5111C189.085 18.9434 188.9 19.53 188.9 20.2504V27.7221H185.694L185.715 27.7015Z",fill:"#19289B"})),D.createElement("defs",null,D.createElement("clipPath",{id:"clip0_2866_25701"},D.createElement("rect",{width:144,height:28,fill:"white"})),D.createElement("clipPath",{id:"clip1_2866_25701"},D.createElement("rect",{width:46,height:18,fill:"white",transform:"translate(150 10)"})))),b0=({id:e,labelName:t,placeholder:n,disabled:i=!1,readonly:r=!1,required:s=!1,type:o="text",value:a,name:l,error:u,onChange:h,onInput:p,onKeyDown:g})=>{const v=D.useId(),C=e||v;return G.jsxs("div",{className:"input-wrapper",children:[t&&G.jsx("label",{htmlFor:C,children:t}),G.jsx("input",{id:C,type:o,name:l,value:a,onChange:h,onKeyDown:g,onInput:p,placeholder:n,disabled:i,readOnly:r,required:s}),u&&G.jsx("span",{className:"error",children:u})]})},fi=({type:e="button",disabled:t,onClick:n,children:i,className:r=""})=>G.jsx("button",{type:e,disabled:t,onClick:n,className:`btn ${r}`,children:i}),gR=({id:e,name:t,value:n,labelName:i,optionLabel:r,checked:s,onChange:o})=>{const a=D.useId(),l=e||a;return G.jsxs("div",{className:"radio-wrapper",children:[i&&G.jsx("div",{className:"label-wrapper",children:G.jsx("span",{className:"radio-label",children:i})}),G.jsxs("label",{htmlFor:l,className:"radio",children:[G.jsx("input",{id:l,type:"radio",name:t,value:n,checked:s,onChange:o}),G.jsx("span",{}),r]})]})};function MN(){const[e,t]=D.useState(""),[n,i]=D.useState(""),[r,s]=D.useState("admin"),o=vl(),{login:a}=D.useContext(hp),l=u=>{u.preventDefault(),e&&n&&(a({id:1,name:e,role:r}),o(r==="admin"?"/iGenManagement":"/home"))};return G.jsx("div",{className:"login-container",children:G.jsxs("div",{className:"login-box",children:[G.jsxs("div",{className:"login-title-wrap",children:[G.jsx(PA,{}),G.jsx("h1",{children:"  "})]}),G.jsxs("form",{onSubmit:l,children:[G.jsx("div",{className:"form-group",children:G.jsx(b0,{id:"userNameID",labelName:"",placeholder:" ",value:e,onChange:u=>t(u.target.value),required:!0})}),G.jsx("div",{className:"form-group",children:G.jsx(b0,{id:"passwordID",labelName:"",placeholder:" ",value:n,onChange:u=>i(u.target.value),required:!0})}),G.jsxs("div",{className:"form-group",children:[G.jsx("p",{children:" "}),G.jsxs("div",{className:"role-selector",children:[G.jsx(gR,{name:"role",value:"user",optionLabel:"",checked:r==="user",onChange:()=>s("user")}),G.jsx(gR,{name:"role",value:"admin",optionLabel:"",checked:r==="admin",onChange:()=>s("admin")})]})]}),G.jsx(fi,{className:"rounded2 full size-md",type:"submit",children:""})]})]})})}const _N=()=>G.jsx(G.Fragment,{children:"iGen"}),jg=e=>D.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("rect",{width:28,height:28,fill:"white",fillOpacity:.01}),D.createElement("path",{d:"M3 14L14.25 7.50481L14.25 20.4952L3 14Z",fill:"#535354"})),AN=e=>D.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M17.5117 10L13.8653 13.6464C13.67 13.8417 13.67 14.1583 13.8653 14.3536L17.5117 18",stroke:"#888888",strokeLinecap:"round"}),D.createElement("path",{d:"M13.5117 10L9.86527 13.6464C9.67001 13.8417 9.67001 14.1583 9.86527 14.3536L13.5117 18",stroke:"#888888",strokeLinecap:"round"})),PN=e=>D.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M16 10L12.3536 13.6464C12.1583 13.8417 12.1583 14.1583 12.3536 14.3536L16 18",stroke:"#888888",strokeLinecap:"round"})),kN=e=>D.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M12 10L15.6464 13.6464C15.8417 13.8417 15.8417 14.1583 15.6464 14.3536L12 18",stroke:"#888888",strokeLinecap:"round"})),ON=e=>D.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M10.4883 10L14.1347 13.6464C14.33 13.8417 14.33 14.1583 14.1347 14.3536L10.4883 18",stroke:"#888888",strokeLinecap:"round"}),D.createElement("path",{d:"M14.4883 10L18.1347 13.6464C18.33 13.8417 18.33 14.1583 18.1347 14.3536L14.4883 18",stroke:"#888888",strokeLinecap:"round"})),kA=({currentPage:e,totalItems:t,pageSize:n,onPageChange:i,type:r="list"})=>{const s=Math.ceil(t/n),o=u=>{u>=1&&u<=s&&i(u)},l=(()=>{const h=[];if(s<=7)for(let p=1;p<=s;p++)h.push(p);else{const p=Math.max(2,e-2),g=Math.min(s-1,e+2);h.push(1),p>2&&h.push("left-ellipsis");for(let v=p;v<=g;v++)h.push(v);g<s-1&&h.push("right-ellipsis"),h.push(s)}return h})();return G.jsxs("div",{className:`pagination-wrapper ${r==="list"?"list":""}`,children:[l>5&&G.jsxs("button",{onClick:()=>o(1),disabled:e===1,className:"first",children:[r==="generator"&&G.jsx(jg,{}),r==="list"&&G.jsx(AN,{}),G.jsx("span",{className:"sr-only",children:""})]}),G.jsxs("button",{onClick:()=>o(e-1),disabled:e===1,className:"prev",children:[r==="generator"&&G.jsx(jg,{}),r==="list"&&G.jsx(PN,{}),G.jsx("span",{className:"sr-only",children:""})]}),l.map((u,h)=>u==="left-ellipsis"||u==="right-ellipsis"?G.jsx("span",{className:"pagination-ellipsis",children:"..."},u+h):G.jsx("button",{onClick:()=>o(u),className:`pagination-number ${e===u?"active":""}`,children:u},u)),G.jsxs("button",{onClick:()=>o(e+1),disabled:e===s,className:r==="generator"?"next":"",children:[r==="generator"&&G.jsx(jg,{}),r==="list"&&G.jsx(kN,{}),G.jsx("span",{className:"sr-only",children:""})]}),l>5&&G.jsxs("button",{onClick:()=>o(s),disabled:e===s,className:"last",children:[r==="generator"&&G.jsx(jg,{}),r==="list"&&G.jsx(ON,{}),G.jsx("span",{className:"sr-only",children:""})]})]})},LN=e=>D.createElement("svg",{width:18,height:19,viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M8.99996 10.379L12.7125 6.6665L13.773 7.727L8.99996 12.5L4.22696 7.727L5.28746 6.6665L8.99996 10.379Z",fill:"#BBBBBB"})),Io=({label:e,value:t,onChange:n,options:i,openDirection:r="bottom",colVer:s=!0})=>{const[o,a]=D.useState(!1),l=D.useRef(null),u=i.find(h=>h.value===t?.value)||{};return D.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),G.jsxs("div",{className:`
        select-wrapper
        ${s?"col-ver":""}
      `,children:[e&&G.jsx("div",{className:"label-wrapper",children:G.jsx("div",{children:G.jsx("label",{className:"select-label",children:e})})}),G.jsxs("div",{ref:l,className:"select-inner",children:[G.jsxs("button",{type:"button",onClick:()=>a(!o),className:"select-button",children:[G.jsx("span",{className:"select-button-label",children:u.label||""}),G.jsx(LN,{className:`${o?"open":""}`})]}),o&&G.jsx("ul",{className:`select-dropdown ${r==="top"?"dropdown-top":"dropdown-bottom"}`,children:i.map(h=>G.jsx("li",{className:`select-option ${t===h.value?"selected":""}`,onClick:()=>{n(h),a(!1)},children:h.label},h.value))})]})]})},IN=({pageSize:e,onPageSizeChange:t,width:n})=>{const i=[{value:10,label:10},{value:20,label:20},{value:30,label:30},{value:40,label:40},{value:50,label:50}],r=i.find(s=>s.value===e);return G.jsxs("div",{className:"pagination-select-wrapper",children:[G.jsx(Io,{value:r,onChange:s=>t(s.value),options:i,width:n}),G.jsx("span",{className:"text-black text-[14px] font-normal ml-[8px] min-w-[80px]",children:"  "})]})};var gc=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:i}=this,r=a=>{const l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&r(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function NN(e,t){return t}function OA(e){return e?.getLocaleTextFunc()??NN}function BN(e,t,n,i){const r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function Ho(e){return e==null||e===""?null:e}function Ge(e){return e!=null&&e!==""}function un(e){return!Ge(e)}function dS(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function _f(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function HN(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var LA=new Set(["__proto__","constructor","prototype"]);function GN(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(i=>!LA.has(i)))t(n,e[n])}}function Ni(e,t,n=!0,i=!1){Ge(t)&&GN(t,(r,s)=>{let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),mR(s)&&mR(o)&&!Array.isArray(o)?Ni(o,s,n,i):(n||s!==void 0)&&(e[r]=s))})}function df(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]]}return r}function mR(e){return typeof e=="object"&&e!==null}var _x=class Vl{static applyGlobalGridOptions(t){if(!Vl.gridOptions)return{...t};let n={};return Ni(n,Vl.gridOptions,!0,!0),Vl.mergeStrategy==="deep"?Ni(n,t,!0,!0):n={...n,...t},Vl.gridOptions.context&&(n.context=Vl.gridOptions.context),t.context&&(Vl.mergeStrategy==="deep"&&n.context&&Ni(t.context,n.context,!0,!0),n.context=t.context),n}};_x.gridOptions=void 0;_x.mergeStrategy="shallow";var E0=_x;function VN(e,t="shallow"){E0.gridOptions=e,E0.mergeStrategy=t}function zN(e){return E0.gridOptions?.[e]}var IA={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Rs(e,t,n){n==null||typeof n=="string"&&n==""?NA(e,t):Fs(e,t,n)}function Fs(e,t,n){e.setAttribute(BA(t),n.toString())}function NA(e,t){e.removeAttribute(BA(t))}function BA(e){return`aria-${e}`}function mc(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function WN(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function UN(e){return e.getAttribute("aria-label")}function fd(e,t){Rs(e,"label",t)}function Af(e,t){Rs(e,"labelledby",t)}function HA(e,t){Rs(e,"live",t)}function jN(e,t){Rs(e,"atomic",t)}function YN(e,t){Rs(e,"relevant",t)}function $N(e,t){Rs(e,"invalid",t)}function KN(e,t){Rs(e,"disabled",t)}function GA(e,t){Rs(e,"hidden",t)}function hS(e,t){Fs(e,"expanded",t)}function qN(e,t){Fs(e,"setsize",t)}function XN(e,t){Fs(e,"posinset",t)}function QN(e,t){Fs(e,"rowcount",t)}function VA(e,t){Fs(e,"rowindex",t)}function ZN(e,t){Fs(e,"rowspan",t)}function JN(e,t){Fs(e,"colcount",t)}function zA(e,t){Fs(e,"colindex",t)}function e7(e,t){Fs(e,"colspan",t)}function t7(e,t){Fs(e,"sort",t)}function n7(e){NA(e,"sort")}function fS(e,t){Rs(e,"selected",t)}function i7(e,t){Rs(e,"controls",t)}function r7(e,t){i7(e,t.id),Af(t,e.id)}function vR(e,t){Rs(e,"owns",t)}function Uv(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var W1,U1,j1,Y1,pS,gS,$1;function Ac(){return W1===void 0&&(W1=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),W1}function WA(){return U1===void 0&&(U1=/(firefox)/i.test(navigator.userAgent)),U1}function UA(){return j1===void 0&&(j1=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),j1}function ic(){return Y1===void 0&&(Y1=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Y1}function mS(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!WA())?null:t.toString()}function s7(){if($1!==void 0)return $1;if(!document.body)return-1;let e=1e6;const t=WA()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),$1=e,e}function o7(){return gS==null&&jA(),gS}function jA(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(gS=n,pS=n===0)}function YA(){return pS==null&&jA(),pS}var a7="[tabindex], input, select, button, textarea, [href]",$A="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Ax(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,$A),s=so(e);return i&&!r&&s}function yn(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||GA(e,!t)}function l7(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||GA(e,!t)}function Pf(e,t){const n="disabled",i=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(e);const r=e.querySelectorAll("input")??[];for(const s of r)i(s)}function rc(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Pc(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:p,marginRight:g,marginBottom:v,marginLeft:C,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(C||"0"),boxSizing:w}}function Px(e){const t=Pc(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function kf(e){const t=Pc(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function KA(e){const{height:t,marginBottom:n,marginTop:i}=Pc(e);return Math.floor(t+n+i)}function T0(e){const{width:t,marginLeft:n,marginRight:i}=Pc(e);return Math.floor(t+n+i)}function qA(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=Pc(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function D0(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function R0(e,t,n){n&&(t*=-1),e.scrollLeft=t}function br(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Jo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function XA(e){return!!e.offsetParent}function so(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!XA(e)||window.getComputedStyle(e).visibility!=="visible")}function kx(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Xm(e){return()=>{const t=e();return t?QA(t)||ZA(t):!0}}function QA(e){return e.clientWidth<e.scrollWidth}function ZA(e){return e.clientHeight<e.scrollHeight}function F0(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):no(e,t)}function no(e,t){t=Ox(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function hf(e,t){t=Ox(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Ox(e){return typeof e=="number"?`${e}px`:e}function Lx(e){return e instanceof Node||e instanceof HTMLElement}function wr(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function ca(e,t,n){const r=lP(e).ResizeObserver,s=r?new r(n):null;return s?.observe(t),()=>s?.disconnect()}function ua(e,t){const n=lP(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var JA="data-ref",K1;function CR(){return K1??(K1=document.createTextNode(" ")),K1.cloneNode()}function Ln(e){const{attrs:t,children:n,cls:i,ref:r,role:s,tag:o}=e,a=document.createElement(o);if(i&&(a.className=i),r&&a.setAttribute(JA,r),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const u of n)u&&(typeof u=="string"?(a.appendChild(document.createTextNode(u)),l=!1):typeof u=="function"?a.appendChild(u()):(l&&(a.appendChild(CR()),l=!1),a.append(Ln(u)),a.appendChild(CR())))}return a}var wR={};function Ix(e,t){wR[t]||(e(),wR[t]=!0)}function vc(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function ff(e,...t){Ix(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function ju(e,...t){Ix(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var c7={pending:!1,funcs:[]},u7={pending:!1,funcs:[]};function vS(e,t="setTimeout",n){const i=t==="raf"?u7:c7;if(i.funcs.push(e),i.pending)return;i.pending=!0;const r=()=>{const s=i.funcs.slice();i.funcs.length=0,i.pending=!1,s.forEach(o=>o())};t==="raf"?ua(n,r):window.setTimeout(r,0)}function pi(e,t,n){let i;return function(...r){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r)},n)}}function yR(e,t){let n=0;return function(...i){const r=this,s=Date.now();s-n<t||(n=s,e.apply(r,i))}}function d7(e,t,n=100,i){const r=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-r>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var eP="https://www.ag-grid.com",ze="34.1.1",SR=2e3,xR=100,tP="_version_",nP=null,Yu=`${eP}/javascript-data-grid`;function h7(e){nP=e}function f7(e){Yu=e}function iP(e,t,n){return nP?.getConsoleMessage(e,t)??[v7(e,t,n)]}function Nx(e,t,n,i){e(`error #${t}`,...iP(t,n,i))}function p7(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function g7(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=p7(e)),t}function M0(e){return e===void 0?"undefined":e===null?"null":e}function CS(e,t){return`${e}?${t.toString()}`}function m7(e,t,n){const i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let r=CS(e,t);for(const[s,o]of i){if(s===tP)continue;const a=r.length-n;if(a<=0)break;const l="...",u=a+l.length,h=o.length-u>xR?o.slice(0,o.length-u)+l:o.slice(0,xR)+l;t.set(s,h),r=CS(e,t)}return r}function rP(e,t){const n=new URLSearchParams;if(n.append(tP,ze),t)for(const s of Object.keys(t))n.append(s,g7(t[s]));const i=`${Yu}/errors/${e}`,r=CS(i,n);return r.length<=SR?r:m7(i,n,SR)}var v7=(e,t,n)=>{const i=rP(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Me(...e){Nx(ff,e[0],e[1])}function Ht(...e){Nx(ju,e[0],e[1])}function rf(e,t,n){Nx(ju,e,t,n)}function C7(e,t){const n=t[0];return`error #${n} `+iP(n,t[1],e).join(" ")}function io(...e){return C7(void 0,e)}function sP(e,t){return e.get("rowModelType")===t}function Hn(e,t){return sP(e,"clientSide")}function kc(e,t){return sP(e,"serverSide")}function vi(e,t){return e.get("domLayout")===t}function sc(e){return A0(e)!==void 0}function oP(e){return typeof e.get("getRowHeight")=="function"}function w7(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function al(e,t,n=!1,i){const{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),oP(r)){if(n)return{height:i,estimated:!0};const l={node:t,data:t.data},u=r.getCallback("getRowHeight")(l);if(wS(u))return u===0&&Me(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&r.get("masterDetail"))return y7(r);const o=r.get("rowHeight");return{height:o&&wS(o)?o:i,estimated:!1}}function y7(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return wS(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function oc(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||un(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(Me(24),t.getDefaultRowHeight())}function wS(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function aP(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function Cc(e,t,n,i){const r=e.getDomDataKey();let s=t[r];un(s)&&(s={},t[r]=s),s[n]=i}function ti(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&Ge(r)?i=r():n&&(i=n.ownerDocument),i&&Ge(i)?i:document}function lP(e){return ti(e).defaultView||window}function Of(e){return e.eGridDiv.getRootNode()}function xn(e){return Of(e).activeElement}function Bx(e){let t=null,n=null;try{t=ti(e).fullscreenElement}catch{}finally{t||(t=Of(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function S7(e){return Bx(e)?.clientWidth??(window.innerWidth||-1)}function x7(e){return Bx(e)?.clientHeight??(window.innerHeight||-1)}function b7(e,t,n){const r=e.getBoundingClientRect().height,s=S7(n)-2,o=x7(n)-2;if(!e.offsetParent)return;const l=qA(e.offsetParent),{clientY:u,clientX:h}=t;let p=u-l.top-r/2,g=h-l.left-10;const v=ti(n),C=v.defaultView||window,w=C.pageYOffset||v.documentElement.scrollTop,S=C.pageXOffset||v.documentElement.scrollLeft;s>0&&g+e.clientWidth>s+S&&(g=s+S-e.clientWidth),g<0&&(g=0),o>0&&p+e.clientHeight>o+w&&(p=o+w-e.clientHeight),p<0&&(p=0),e.style.left=`${g}px`,e.style.top=`${p}px`}function cP(e){const t=xn(e);return t===null||t===ti(e).body}function $u(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function uP(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||vi(e,"print"))}function Us(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function yS(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function dP(e){return e.get("grandTotalRow")}function hP(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function fP(e,t,n){return!!t.group&&!t.footer&&hP(e,n)}function pd(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(Ix(()=>Me(25,{id:i}),"getRowIdString"),i=String(i)),i}}function E7(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function T7(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Ku(e){return e?.checkboxes??!0}function Qm(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function _0(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function q1(e){return e?.hideDisabledCheckboxes??!1}function D7(e){return typeof e.get("rowSelection")!="string"}function ll(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function pP(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function R7(e){const t=pP(e);return t===!0||t==="enableSelection"}function F7(e){const t=pP(e);return t===!0||t==="enableDeselection"}function SS(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function A0(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function P0(e){return A0(e)==="multiRow"}function M7(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function k0(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function gP(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Lf(e){const t=k0(e);return t==="descendants"||t==="filteredDescendants"}function bR(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function _7(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function yr(e){return e.get("columnMenu")==="legacy"}function A7(e){return!yr(e)}function P7(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function k7(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const s=t[r];typeof s<"u"&&(i[r]=s)}),i}function O7(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Je(e,t){return e.addGridCommonParams(t)}function mP(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Zm(e,t){return e[t]??e.gridOptions?.[t]??zN(t)??IA[t]}var vP="__ag_Grid_Stop_Propagation",L7=["touchstart","touchend","touchmove","touchcancel","scroll"],I7=["wheel"],X1={};function wc(e){e[vP]=!0}function Go(e){return e[vP]===!0}var CP=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof X1[n]=="boolean")return X1[n];const i=document.createElement(e[n]||"div");return n="on"+n,X1[n]=n in i}})();function wP(e,t,n){let i=t;for(;i;){const r=aP(e,i,n);if(r)return r;i=i.parentElement}return null}function N7(e,t){return!t||!e?!1:H7(t).indexOf(e)>=0}function B7(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function H7(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():B7(t)}function G7(e,t,n,i){const r=yP(n);let s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s)}var yP=e=>{const t=L7.includes(e),n=I7.includes(e);if(t)return!0;if(n)return!1},xe=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new gc),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return V7(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?G7(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return OA(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function V7(e){return e.__addEventListener!==void 0}var z7=/[&<>"']/g,W7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Pd(e){return e?.toString().toString()??null}function Jm(e){return Pd(e)?.replace(z7,t=>W7[t])??null}var U7={resizable:!0,sortable:!0},j7=0;function SP(){return j7++}function cl(e){return e instanceof Oc}var Oc=class extends xe{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=SP(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new gc,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Jm(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ge(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=Ge(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const i=e.recreateColDef(this.colDef);this.setColDef(i,i,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Je(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??U7[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Je(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return un(this.sort)}isSorting(){return Ge(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Me(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Je(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(un(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(un(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&Ni(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function bi(e){return e instanceof e0}var e0=class extends xe{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=SP(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)cl(t)?e(t):bi(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{cl(t)?e.push(t):bi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){const a=i[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{bi(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Y7={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function ER(e,t,n){const i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var $7=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=dS(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const r=String(i);return e&&n>0&&Me(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},O0=Object.freeze([]);function Nt(e){if(e?.length)return e[e.length-1]}function Lc(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function Yg(e,t){if(e)for(const n of e)t(n)}function Xr(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function TR(e,t,n){for(let i=0;i<t.length;i++)Xr(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var jv="ag-Grid-AutoColumn",xP="ag-Grid-SelectionColumn",bP="ag-Grid-RowNumbersColumn";function EP(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];cl(s)?t.push(s):bi(s)&&n(s.getChildren())}};return n(e),t}function Po(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function L0(e,t,n){const i={};if(!t)return;Vo(null,t,s=>{i[s.getInstanceId()]=s}),n&&Vo(null,n,s=>{i[s.getInstanceId()]=null});const r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r)}function Hx(e){return e.getId().startsWith(jv)}function Cl(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(xP)??!1}function il(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(bP)??!1}function K7(e){return Cl(e)||il(e)}function I0(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function q7(e,t){return Lc(e,t,(n,i)=>n.getColId()===i.getColId())}function X7(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function qu(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function TP(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var Q7=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),Ge(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),Ge(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function Z7(e,t=null,n,i,r){const s=new $7,{existingCols:o,existingGroups:a,existingColKeys:l}=J7(i);s.addExistingKeys(l);const u=DP(e,t,0,n,o,s,a,r),{colGroupSvc:h}=e,p=h?.findMaxDepth(u,0)??0,g=h?h.balanceColumnTree(u,0,p,s):u;return Vo(null,g,(C,w)=>{bi(C)&&C.setupExpandable(),C.originalParent=w}),{columnTree:g,treeDepth:p}}function J7(e){const t=[],n=[],i=[];return e&&Vo(null,e,r=>{if(bi(r)){const s=r;n.push(s)}else{const s=r;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function DP(e,t,n,i,r,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let h=0;h<u.length;h++){const p=t[h];l&&s9(p)?u[h]=l.createProvidedColumnGroup(i,p,n,r,s,o,a):u[h]=e9(e,i,p,r,s,a)}return u}function e9(e,t,n,i,r,s){const o=n9(n,i);o&&i?.splice(o.idx,1);let a=o?.column;if(a){const l=xS(e,n,a.getColId());a.setColDef(l,n,s),t9(e,a,l,s)}else{const l=r.getUniqueKey(n.colId,n.field),u=xS(e,n,l);a=new Oc(u,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function RP(e,t,n,i,r,s,o,a){const{sortSvc:l,pinnedCols:u,colFlex:h}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),s!==void 0&&u?.setColPinned(t,s),o!==void 0&&h?.setColFlex(t,o)}function t9(e,t,n,i){RP(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function n9(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function xS(e,t,n,i){const{gos:r,dataTypeSvc:s}=e,o={},a=r.get("defaultColDef");Ni(o,a,!1,!0);const l=i9(e,o,t,n);l&&r9(e,l,o);const u=o.cellDataType;Ni(o,t,!1,!0),u!==void 0&&(o.cellDataType=u);const h=r.get("autoGroupColumnDef"),p=Us(r);return t.rowGroup&&h&&p&&Ni(o,{sort:h.sort,initialSort:h.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),r.validateColDef(o,n,i),o}function i9(e,t,n,i){const r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?I0(s):void 0}function r9(e,t,n){if(!t.length)return;const i=Object.assign({},Y7),r=e.gos.get("columnTypes")||{};for(const s of Object.keys(r)){const o=r[s];s in i?Me(34,{key:s}):(o.type&&Me(35),i[s]=o)}t.forEach(s=>{const o=i[s.trim()];o?Ni(n,o,!1,!0):Me(36,{t:s})})}function s9(e){return e.children!==void 0}function Vo(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];bi(r)&&Vo(r,r.getChildren(),n),n(r,e)}}function FP(e,t){const n=[],i=[],r=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?r.push(o):a==="left"||a===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function MP(e,t){let n=!0;return Vo(null,t,i=>{if(!bi(i))return;const r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];r.getLeafColumns().forEach(g=>{const v=e.indexOf(g);a.push(v)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,p=r.getLeafColumns().length-1;h>p&&(n=!1)}),n}function _P(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function AP(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=_P(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function o9(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=_P(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function a9(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function gd(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function ws(e,t,n){const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:h,environment:p,valueColsSvc:g,eventSvc:v,gos:C}=e,w=i.getColDefCols()??[],S=a?.getColumns();if(!w?.length&&!S?.length)return!1;if(t?.state&&!t.state.forEach)return Me(32),!1;const x=(F,P,_,L,A)=>{if(!F)return;const O=Q7(P,t.defaultState),I=O("flex").value1;if(RP(e,F,O("hide").value1,O("sort").value1,O("sortIndex").value1,O("pinned").value1,I,n),I==null){const z=O("width").value1;if(z!=null){const J=F.getColDef().minWidth??p.getDefaultColumnMinWidth();J!=null&&z>=J&&F.setActualWidth(z,n)}}A||!F.isPrimary()||(g?.syncColumnWithState(F,n,O),r?.syncColumnWithState(F,n,O,_),s?.syncColumnWithState(F,n,O,L))},E=(F,P,_)=>{const L=PP(e,n),A=P.slice(),O={},I={},z=[],J=[],ae=[];let ie=0;const j=r?.columns.slice()??[],W=s?.columns.slice()??[];F.forEach(H=>{const le=H.colId;if(le.startsWith(jv)){z.push(H),ae.push(H);return}if(Cl(le)){J.push(H),ae.push(H);return}const Y=_(le);Y?(x(Y,H,O,I,!1),Xr(A,Y)):(ae.push(H),ie+=1)});const Q=H=>x(H,null,O,I,!1);A.forEach(Q),r?.sortColumns(DR.bind(r,O,j)),s?.sortColumns(DR.bind(s,I,W)),i.refreshCols(!1);const ce=(H,le,B=[])=>{le.forEach(Y=>{const K=H(Y.colId);Xr(B,K),x(K,Y,null,null,!0)}),B.forEach(Q)};return ce(H=>o?.getColumn(H)??null,z,o?.getColumns()?.slice()),ce(H=>a?.getColumn(H)??null,J,a?.getColumns()?.slice()),c9(t,i,C),u.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),L(),{unmatchedAndAutoStates:ae,unmatchedCount:ie}};l?.start();let{unmatchedAndAutoStates:T,unmatchedCount:R}=E(t.state||[],w,F=>i.getColDefCol(F));if(T.length>0||Ge(t.defaultState)){const F=h?.getPivotResultCols()?.list??[];R=E(T,F,P=>h?.getPivotResultCol(P)??null).unmatchedCount}return l?.finish(),R===0}function l9(e,t){const{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),u=EP(l),h=[];let p=1e3,g=1e3;const v=E=>{const T=kP(E);un(T.rowGroupIndex)&&T.rowGroup&&(T.rowGroupIndex=p++),un(T.pivotIndex)&&T.pivot&&(T.pivotIndex=g++),h.push(T)};i?.getColumns()?.forEach(v),r?.getColumns()?.forEach(v),u?.forEach(v),ws(e,{state:h},t);const C=i?.getColumns()??[],x=[...r?.getColumns()??[],...C,...a].map(E=>({colId:E.colId}));ws(e,{state:x,applyOrder:!0},t),s.dispatchEvent(Je(o,{type:"columnsReset",source:t}))}function PP(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},u=N0(e),h={};return u.forEach(p=>{h[p.colId]=p}),()=>{const p=(P,_,L,A)=>{const O=_.map(A),I=L.map(A);if(Lc(O,I))return;const J=new Set(_);L.forEach(ie=>{J.delete(ie)||J.add(ie)});const ae=[...J];a.dispatchEvent({type:P,columns:ae,column:ae.length===1?ae[0]:null,source:t})},g=P=>{const _=[];return s.forAllCols(L=>{const A=h[L.getColId()];A&&P(A,L)&&_.push(L)}),_},v=P=>P.getColId();p("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],v),p("columnPivotChanged",l.pivotColumns,i?.columns??[],v);const w=g((P,_)=>{const L=P.aggFunc!=null,A=L!=_.isValueActive(),O=L&&P.aggFunc!=_.getAggFunc();return A||O});w.length>0&&a9(a,"columnValueChanged",w,t),gd(a,g((P,_)=>P.width!=_.getActualWidth()),!0,t),AP(a,g((P,_)=>P.pinned!=_.getPinned()),t),o9(a,g((P,_)=>P.hide==_.isVisible()),t);const R=g((P,_)=>P.sort!=_.getSort()||P.sortIndex!=_.getSortIndex());R.length>0&&o?.dispatchSortChangedEvents(t,R);const F=N0(e);d9(u,F,t,s,a)}}function N0(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(un(r)||!t.isAlive())return[];const s=n?.columns,o=i?.columns,a=[],l=h=>{const p=h.isRowGroupActive()&&s?s.indexOf(h):null,g=h.isPivotActive()&&o?o.indexOf(h):null,v=h.isValueActive()?h.getAggFunc():null,C=h.getSort()!=null?h.getSort():null,w=h.getSortIndex()!=null?h.getSortIndex():null;a.push({colId:h.getColId(),width:h.getActualWidth(),hide:!h.isVisible(),pinned:h.getPinned(),sort:C,sortIndex:w,aggFunc:v,rowGroup:h.isRowGroupActive(),rowGroupIndex:p,pivot:h.isPivotActive(),pivotIndex:g,flex:h.getFlex()??null})};t.forAllCols(h=>l(h));const u=new Map(t.getCols().map((h,p)=>[h.getColId(),p]));return a.sort((h,p)=>{const g=u.has(h.colId)?u.get(h.colId):-1,v=u.has(p.colId)?u.get(p.colId):-1;return g-v}),a}function kP(e){const t=(C,w)=>C??w??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),h=t(n.rowGroup,n.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(n.pivotIndex,n.initialPivotIndex),g=t(n.pivot,n.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const v=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:g,pivotIndex:p,aggFunc:v}}function c9(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),u9(t.cols,i,t,n)}function u9(e,t,n,i){if(e==null)return;let r=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(r.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(jv)?r.splice(o++,0,a):r.push(a)}),r=FP(r,i),!MP(r,n.getColTree())){Me(39);return}e.list=r}function d9(e,t,n,i,r){const s={};t.forEach(h=>s[h.colId]=h);const o={};e.forEach(h=>{s[h.colId]&&(o[h.colId]=!0)});const a=e.filter(h=>o[h.colId]),l=t.filter(h=>o[h.colId]),u=[];l.forEach((h,p)=>{const g=a&&a[p];if(g&&g.colId!==h.colId){const v=i.getCol(g.colId);v&&u.push(v)}}),u.length&&r.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:n})}var DR=(e,t,n,i)=>{const r=e[n.getId()],s=e[i.getId()],o=r!=null,a=s!=null;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(i),h=l>=0,p=u>=0;return h&&p?l-u:h?-1:1},h9=class extends xe{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(qu(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),qu(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,u=this.colDefs?PP(t,e):void 0;n?.expire();const h=this.colDefCols?.list,p=this.colDefCols?.tree,g=Z7(t,this.colDefs,!0,p,e);L0(t,this.colDefCols?.tree,g.columnTree);const v=g.columnTree,C=g.treeDepth,w=EP(v),S={};w.forEach(x=>S[x.getId()]=x),this.colDefCols={tree:v,treeDepth:C,list:w,map:S},r?.extractCols(e,h),s?.extractCols(e,h),o?.extractCols(e,h),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:h,eventSvc:p}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,r],g);const v=w7(this.gos,this.showingPivotResult);(!e||v)&&this.restoreColOrder(g),this.positionLockedCols(g),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(g),u.clear(),h.clear(),!Lc(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:{...i},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,i=this.isPivotMode()&&!this.showingPivotResult,r=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const u=Hx(l);if(i){const h=o?.includes(l);return u||h||r&&Cl(l)||s&&il(l)}else return u||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){ws(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(p=>e.map[p.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=p=>{const g=p.getOriginalParent();return g?g.getChildren().length>1?!0:i(g):!1};if(!n.some(p=>i(p))){const p=new Set(n);for(const g of e.list)p.has(g)||n.push(g);e.list=n;return}const r=new Map;for(let p=0;p<n.length;p++){const g=n[p];r.set(g,p)}const s=e.list.filter(p=>!r.has(p));if(s.length===0){e.list=n;return}const o=(p,g)=>{const v=g?g.getOriginalParent():p.getOriginalParent();if(!v)return null;let C=null,w=null;for(const S of v.getChildren())if(!(S===g||S===p)){if(S instanceof Oc){const x=r.get(S);if(x==null)continue;(C==null||C<x)&&(C=x,w=S);continue}S.forEachLeafColumn(x=>{const E=r.get(x);E!=null&&(C==null||C<E)&&(C=E,w=x)})}return w??o(p,v)},a=[],l=new Map;for(const p of s){const g=o(p,null);if(g==null){a.push(p);continue}const v=l.get(g);v===void 0?l.set(g,p):Array.isArray(v)?v.push(p):l.set(g,[v,p])}const u=new Array(e.list.length);let h=u.length-1;for(let p=a.length-1;p>=0;p--)u[h--]=a[p];for(let p=n.length-1;p>=0;p--){const g=n[p],v=l.get(g);if(v)if(Array.isArray(v))for(let C=v.length-1;C>=0;C--){const w=v[C];u[h--]=w}else u[h--]=v;u[h--]=g}e.list=u}positionLockedCols(e){e.list=FP(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=qu(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){L0(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;Yg(this.colDefCols?.list,e),Yg(n?.columns?.list,e),Yg(i?.columns?.list,e),Yg(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(TP(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},OP=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},kd=class extends xe{};function fp(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var pp=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},f9=0,qe=null,nn=class extends xe{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=f9++,this.cssManager=new pp(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(JA):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===qe)this[t]=i??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,s=>{const o=s.getGui();if(o)for(const a of i.attributes??[])o.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);r.addItems(s)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null;let a=null;if(o){const l=n&&r?n[r]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=kx(e):i=Ln(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const s=t[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),Lx(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;l7(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;yn(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function LP(e){return typeof e=="object"&&!!e.component}var bt=class sf{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new sf(n=>{let i=t.length;const r=new Array(i);t.forEach((s,o)=>{s.then(a=>{r[o]=a,i--,i===0&&n(r)})})}):sf.resolve()}static resolve(t=null){return new sf(n=>n(t))}then(t){return new sf(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function p9(e){return e?e.prototype&&"getGui"in e.prototype:!1}function IP(e,t,n,i){const{name:r}=n;let s,o,a,l,u,h;if(t){const p=t,g=p[r+"Selector"],v=g?g(i):null,C=w=>{typeof w=="string"?s=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};v?(C(v.component),l=v.params,u=v.popup,h=v.popupPosition):C(p[r])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:h}}var g9=class extends xe{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:g}=IP(this.beans.frameworkOverrides,e,t,i),v,C;const w=T=>{const R=this.registry.getUserComponent(s,T);R&&(l=R.componentFromFramework?void 0:R.component,u=R.componentFromFramework?R.component:void 0,v=R.params,C=R.processParams)};if(a!=null&&w(a),l==null&&u==null&&n!=null&&w(n),l&&o&&!p9(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!u){const{validation:T}=this.beans;r&&(a!==n||!n)?a?T?.isProvidedUserComp(a)||Ht(50,{compName:a}):n?T||Ht(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Ht(216,{name:s}):n&&!T&&Ht(146,{comp:n});return}const S=this.mergeParams(e,t,i,h,v,C),x=l==null,E=l??u;return{componentFromFramework:x,componentClass:E,params:S,type:t,popupFromSelector:p,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(E,x,S,t)}}newAgStackInstance(e,t,n,i){const r=!t;let s;r?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const o=s.init?.(n);return o==null?bt.resolve(s):o.then(()=>s)}mergeParams(e,t,n,i=null,r,s){const o={...n,...r},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const u=l(n);Ni(o,u)}else typeof l=="object"&&Ni(o,l);return Ni(o,i),s?s(o):o}},m9={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},v9={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},C9={name:"headerComponent",optionalMethods:["refresh"]},w9={name:"innerHeaderComponent"},y9={name:"innerHeaderGroupComponent"},S9={name:"headerGroupComponent"},x9={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},b9={name:"loadingCellRenderer",cellRenderer:!0},E9={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},T9={name:"loadingOverlayComponent",optionalMethods:["refresh"]},D9={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},R9={name:"tooltipComponent"},Gx={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},F9={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},M9={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},_9={name:"loadingCellRenderer",cellRenderer:!0},A9={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},P9={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function k9(e,t){return e.getCompDetailsFromGridOptions(v9,"agDragAndDropImage",t,!0)}function O9(e,t,n){return e.getCompDetails(t,C9,"agColumnHeader",n)}function L9(e,t,n){return e.getCompDetails(t,w9,void 0,n)}function I9(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,S9,"agColumnGroupHeader",t)}function N9(e,t,n){return e.getCompDetails(t,y9,void 0,n)}function B9(e,t){return e.getCompDetailsFromGridOptions(M9,void 0,t,!0)}function H9(e,t){return e.getCompDetailsFromGridOptions(_9,"agLoadingCellRenderer",t,!0)}function G9(e,t){return e.getCompDetailsFromGridOptions(A9,"agGroupRowRenderer",t,!0)}function V9(e,t){return e.getCompDetailsFromGridOptions(P9,"agDetailCellRenderer",t,!0)}function RR(e,t,n){return e.getCompDetails(t,x9,void 0,n)}function FR(e,t,n){return e.getCompDetails(t,b9,"agSkeletonCellRenderer",n,!0)}function NP(e,t,n){return e.getCompDetails(t,E9,"agCellEditor",n,!0)}function z9(e,t,n,i){const r=t.filter;return LP(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,Gx,i,n,!0)}function W9(e,t,n){return e.getCompDetails(t,m9,"agDateInput",n,!0)}function U9(e,t){return e.getCompDetailsFromGridOptions(T9,"agLoadingOverlay",t,!0)}function j9(e,t){return e.getCompDetailsFromGridOptions(D9,"agNoRowsOverlay",t,!0)}function Y9(e,t){return e.getCompDetails(t.colDef,R9,"agTooltipComponent",t,!0)}function $9(e,t,n,i){return e.getCompDetails(t,F9,i,n)}function BP(e,t){return IP(e,t,Gx)}function Q1(e,t,n){return e.mergeParams(t,Gx,n)}function If(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var HP=new Set,B0={},ac={},t0,GP=!1,VP=!1,K9=!1;function q9(e){const[t,n]=e.version.split(".")||[],[i,r]=t0.split(".")||[];return t===i&&n===r}function X9(e){t0||(t0=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?q9(e)||ju(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${t0}.`)):ju(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||ju(`${n.message}`)}}function Nf(e,t,n=!1){n||(GP=!0),X9(e);const i=e.rowModels??["all"];HP.add(e);let r;t!==void 0?(VP=!0,ac[t]===void 0&&(ac[t]={}),r=ac[t]):r=B0,i.forEach(s=>{r[s]===void 0&&(r[s]={}),r[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Nf(s,t,n))}function Q9(e){delete ac[e]}function bS(e,t,n){const i=r=>!!B0[r]?.[e]||!!ac[t]?.[r]?.[e];return i(n)||i("all")}function Vx(){return VP}function Z9(e,t){const n=ac[e]??{};return[...Object.values(B0.all??{}),...Object.values(n.all??{}),...Object.values(B0[t]??{}),...Object.values(n[t]??{})]}function J9(){return new Set(HP)}function eB(e,t){const n=ac[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function tB(){return GP}function nB(){return K9}var iB=class{static register(e){Nf(e,void 0)}static registerModules(e){e.forEach(t=>Nf(t,void 0))}},rB=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function sB(e){return typeof e=="object"&&!!e.getComp}var oB=class extends rB{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),Q9(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},aB=class extends xe{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new zP,this.rowValidations=new WP,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:u},h)=>{u!==Qr&&(l[h.getColId()]=u)});return n&&o(n,s),r&&o(r,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const i=new Map;t.forEach((r,s)=>i.set(s,{...r})),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const i=this._getEdit(e);i&&(i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,i)=>{for(const r of n.keys())t.push({rowNode:i,column:r,...n.get(r)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){const s=this.getEditRow(n,t);return s?i?r?this.getEdit(e)?.state==="editing":s.has(i)??!1:s.size!==0?r?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{editorValue:void 0,pendingValue:Qr,sourceValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},zP=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},WP=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function lB(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function UP(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function cB(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ge(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function uB(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function dB(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function hB(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,s=i?.getPinnedBottomRowCount(),o=i?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function ea(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function of(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function fB(e,t,n){const{rowModel:i,pinnedRowModel:r}=e;let s;return s??(s=i?.getRowNode(t)),n?s??(s=r?.getPinnedRowById(t,n)):(s??(s=r?.getPinnedRowById(t,"top")),s??(s=r?.getPinnedRowById(t,"bottom"))),s}function H0(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(n===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=i?void 0:o.getRow(n);return jP(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function MR(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(pB(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=i?void 0:o.getRow(n);return jP(e,a)??{rowIndex:n+1,rowPinned:i}}function jP(e,t,n=!1){const{gos:i,rowRenderer:r}=e;if(!t?.sticky||!uP(i))return;const s=r.getStickyTopRowCtrls(),o=r.getStickyBottomRowCtrls(),a=!o.some(p=>p.rowNode.rowIndex===t.rowIndex),l=a?s:o,u=(n?-1:1)*(a?-1:1);let h;for(let p=0;p<l.length;p++)if(l[p].rowNode.rowIndex===t.rowIndex){h=l[p+u];break}return h?{rowIndex:h.rowNode.rowIndex,rowPinned:null}:void 0}function pB(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:s}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:s.getLastRow()<=i}function zx(e,t={}){const{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:s}=t;if(r)return r;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(i?l=fB(e,i,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function cn(e,t={}){const{cellCtrl:n,colId:i,columnId:r,column:s}=t;if(n)return n;const o=e.colModel.getCol(i??r??ES(s)),a=t.rowCtrl??zx(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const u=t.rowNode??a?.rowNode;if(u)return e.rowRenderer.getCellCtrls([u],[o])?.[0]}function _R(e){const{editSvc:t}=e;t?.isBatchEditing()?Xu(e):t?.stopEditing(void 0,{source:"api"})}function gB(e,t,n){const{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(mS(a)===null){_R(t);return}let l=n.some(u=>u.contains(a))&&ik(i,a);l||(l=!!r&&(r.getActivePopups().some(u=>u.contains(a))||r.isElementWithinCustomPopup(a))),l||_R(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function ES(e){if(e)return typeof e=="string"?e:e.getColId()}var Qr=Symbol("unedited");function YP(e,t={}){const n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const r of i){const s=r.comp?.getCellEditor();s&&n.push({ctrl:r,editor:If(s)})}return n}var mB=(e,t={})=>YP(e,t).map(n=>n.editor);function vB(e,t,n,i,r,s){t.length===0&&n?.rowNode&&n?.column&&md(e,n,{key:i,event:r,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:u,column:h}=n??{};for(const p of t){const{rowNode:g,column:v}=p,C=cn(e,p);if(!C){if(g&&v){const S=o.getValue(v,g,void 0,"api"),T=(n?.rowNode===g&&n?.column===v&&i||void 0)??a?.getCellDataValue(p,!1)??o.getValueForDisplay(v,g)?.value??S??Qr;l?.setEdit(p,{pendingValue:T,sourceValue:S,state:"editing"})}continue}const w=s&&u===C.rowNode&&C.column===h;md(e,{rowNode:u,column:C.column},{key:w?i:null,event:w?r:null,cellStartedEdit:w})}}function rl({pendingValue:e,sourceValue:t}){return e===Qr&&(e=t),e!==t}function md(e,t,n){const{key:i,event:r,cellStartedEdit:s,silent:o}=n??{},a=cn(e,t),l=a?.comp?.getCellEditor(),u=KP(e,t,i,s),h=e.editModelSvc?.getEdit(t);let p=i?.length===1?i:u.value;if(p===void 0&&(p=h?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:p,state:"editing"}),l){l.refresh?.(u);return}const g=t.column.getColDef(),v=NP(e.userCompFactory,g,u),C=v?.popupFromSelector!=null?v.popupFromSelector:!!g.cellEditorPopup,w=v?.popupPositionFromSelector!=null?v.popupPositionFromSelector:g.cellEditorPopupPosition;qP(v.params,r),a&&(a.editCompDetails=v,a.comp?.setEditDetails(v,C,w,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,r,"cellEditingStarted"))}function $P(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function KP(e,t,n,i){const{valueSvc:r,gos:s,editSvc:o}=e,a=cn(e,t),l=t.rowNode?.rowIndex??void 0,u=o?.isBatchEditing(),h=e.colModel.getCol(t.column.getId()),{rowNode:p,column:g}=t,v=a.comp?.getCellEditor(),C=o?.getCellDataValue(t,!1)??(v?$P(v)?.editorValue:void 0),w=C===Qr?r.getValueForDisplay(h,p)?.value:C;return Je(s,{value:w,eventKey:n??null,column:g,colDef:g.getColDef(),rowIndex:l,node:p,data:p.data,cellStartedEdit:i??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:S=>{o.stopEditing(t,{source:u?"ui":"api",suppressNavigateAfterEdit:S}),G0(e,t)},eGridCell:a?.eGui,parseValue:S=>r.parseValue(h,p,S,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function TS(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===Qr)||!rl(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:o})})})}function CB(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:s}=t,o=KP(e,t,i,r),a=s.getColDef(),l=NP(e.userCompFactory,a,o);n.refresh(qP(l.params,i))}function qP(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Xl(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const i=cn(e,n);if(!i)return;const r=i.comp.getCellEditor();if(!r)return;const{editorValue:s,editorValueExists:o}=$P(r);n0(e,n,t,s,void 0,!o)})}function n0(e,t,n,i,r,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:u}=t;if(!(l&&u))return;const p=!!cn(e,t)?.comp?.getCellEditor();let g=o.getEdit(t,!0);g?.sourceValue||(g=o.setEdit(t,{sourceValue:a.getValue(u,l,void 0,"api"),pendingValue:Qr,state:p?"editing":"changed"})),o.setEdit(t,{editorValue:s?g.sourceValue:i,state:p?"editing":"changed"}),n&&wB(e,t)}function wB(e,t){const{editModelSvc:n}=e,i=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:i?.editorValue})}function Xu(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(i=>G0(e,i,n))}function G0(e,t,n){const{editSvc:i,editModelSvc:r}=e,{rowNode:s,column:o}=t,a=cn(e,t);if(!a){r?.hasEdits(t)&&s&&o&&r?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const u=l?.getCellEditor()?.getValidationErrors?.(),h=r?.getCellValidationModel();u?.length?h?.setCellValidation(t,{errorMessages:u}):h?.clearCellValidation(t),r?.getEdit(t)&&r?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const p=r?.getEdit(t);p?.state==="changed"&&!n?.silent&&i?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:rl(p),newValue:p?.pendingValue,oldValue:p?.sourceValue})}function yc(e){const t=YP(e),n=new zP,{ariaAnnounce:i,localeSvc:r,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",u=OA(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(const p of t){const{ctrl:g,editor:v}=p,{rowNode:C,column:w}=g,S=v.getValidationErrors?.()??[],x=v.getValidationElement?.(!1)||!v.isPopup?.()&&g.eGui;if(x){const E=S!=null&&S.length>0,T=E?S.join(". "):"";$N(x,E),E&&i.announceValue(`${u} ${S}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(T):x.classList.toggle("invalid",E)}S?.length>0&&n.setCellValidation({rowNode:C,column:w},{errorMessages:S})}Xl(e,!1),s?.setCellValidationModel(n);const h=new Set;for(const{ctrl:p}of t)h.add(p.rowCtrl);if(a){const p=yB(e);s?.setRowValidationModel(p)}for(const p of h.values()){p.rowEditStyleFeature?.applyRowStyles();for(const g of p.getAllCellCtrls())g.tooltipFeature?.refreshTooltip(!0),g.editorTooltipFeature?.refreshTooltip(!0),g.editStyleFeature?.applyCellStyles?.()}}var yB=e=>{const t=new WP,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(const r of i.keys()){const s=i.get(r);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=r;for(const h of s.keys()){const p=s.get(h);if(!p)continue;const{editorValue:g,pendingValue:v,sourceValue:C}=p,w=g??(v===Qr?void 0:v)??C;o.push({column:h,colId:h.getColId(),rowIndex:a,rowPinned:l,oldValue:C,newValue:w})}const u=n?.({editorsState:o})??[];u.length>0&&t.setRowValidation({rowNode:r},{errorMessages:u})}return t};function SB(e){yc(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:s??null})})}),n}var xB="ag-column-first",bB="ag-column-last";function XP(e,t,n,i){return un(e)?[]:TB(e.headerClass,e,t,n,i)}function QP(e,t,n){e.toggleCss(xB,n.isColAtEdge(t,"first")),e.toggleCss(bB,n.isColAtEdge(t,"last"))}function EB(e,t,n,i){return Je(t,{colDef:e,column:n,columnGroup:i})}function TB(e,t,n,i,r){if(un(e))return[];let s;if(typeof e=="function"){const o=EB(t,n,i,r);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function gp(e){return!!(e.rowPinned&&e.pinnedSibling)}function Hr(e,t,n,i){const r=t==="top";if(!n)return Hr(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Hr(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===i){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var me={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},DS=!1,V0=0;function DB(e){V0>0||(e.addEventListener("keydown",z0),e.addEventListener("mousedown",z0))}function RB(e){V0>0||(e.removeEventListener("keydown",z0),e.removeEventListener("mousedown",z0))}function z0(e){const t=DS,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(DS=n)}function FB(e){const t=ti(e);return DB(t),V0++,()=>{V0--,RB(t)}}function MB(){return DS}function _B(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===me.TAB){const r=i.shiftKey;Ic(e,n,!1,r)||vd(e,r)&&i.preventDefault()}}})}function Qu(e,t,n=!1){const i=a7;let r=$A;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>so(l)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((l,u)=>l.filter(h=>u.indexOf(h)===-1))(s,o):s}function Sc(e,t=!1,n=!1,i=!1){const r=Qu(e,i?".ag-tab-guard":null,n),s=t?Nt(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Ic(e,t,n,i){const r=Qu(t,n?':not([tabindex="-1"])':null),s=xn(e);let o;n?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}function ZP(e,t=5){let n=0;for(;e&&mS(e)===null&&++n<=t;)e=e.parentElement;return mS(e)===null?null:e}function AB(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function lc(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function Yv(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function vd(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function PB(e,t,n,{rowNode:i,column:r},s){return Je(e.gos,{type:n,node:i,data:i.data,value:s,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function kB(e,t=!1){return e===me.DELETE?!0:!t&&e===me.BACKSPACE?UA():!1}var OB=class extends xe{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case me.ENTER:this.onEnterKeyDown(e);break;case me.F2:this.onF2KeyDown(e);break;case me.ESCAPE:this.onEscapeKeyDown(e);break;case me.TAB:this.onTabKeyDown(e);break;case me.BACKSPACE:case me.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case me.DOWN:case me.UP:case me.RIGHT:case me.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===me.LEFT||e.key===me.RIGHT?n?.ensureColumnVisible(i.column):n?.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),kB(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&ll(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:u}=n,h=this.beans.valueSvc.getDeleteValue(u,r);r.setDataValue(u,h,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,s=i?.isEditing(t),o=t.rowNode,a=i?.isRowEditing(o),l=u=>{i?.startEditing(u,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(yc(n),i?.checkNavWithValidation(void 0,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?i?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const u=e.shiftKey?me.UP:me.DOWN;r?.navigateToNextCell(null,u,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===me.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(yc(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===me.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&sc(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function JP(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function AR({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var LB=class extends xe{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Go(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:u}=a;n&&o&&n.getCellRangeCount(u)>1&&n.intersectLastRange(!0);const h=a.createEvent(e,"cellClicked");t.dispatchEvent(h);const p=l.getColDef();if(p.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{p.onCellClicked(h)})},0),r?.getState(a)!=="editing"){const g=i?.isEditing(),v=r?.getCellValidationModel().getCellValidationMap().size??0,C=r?.getRowValidationModel().getRowValidationMap().size??0;if(g&&(v>0||C>0))return;i?.shouldStartEditing(a,e)?i?.startEditing(a,{event:e}):i?.shouldStopEditing(a,e)&&i?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),u=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const h=o?.isEditing(),p=a?.getCellValidationModel().getCellValidationMap().size??0,g=a?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(p>0||g>0))return;o?.startEditing(i,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:h,gos:p,editSvc:g}=o;if(this.isRightClickInExistingRange(e))return;const v=l&&!l.isEmpty(),C=this.containsWidget(r),{cellPosition:w,column:S}=s,x=il(S);if(u&&x&&!u.handleMouseDownOnCell(w,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!v){const E=g?.isEditing(s),R=p.get("enableCellTextSelection")&&e.defaultPrevented,F=(Ac()||R)&&!E&&!Ax(r)&&!C;s.focusCell(F,e)}if(i&&v&&!h.isCellFocused(w)){e.preventDefault();const E=h.getFocusedCell();if(E){const{column:T,rowIndex:R,rowPinned:F}=E;g?.isEditing(E)&&g?.stopEditing(E),h.setFocusedCell({column:T,rowIndex:R,rowPinned:F,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!C){if(l){x&&e.preventDefault();const E=AR(this.beans,e)&&x;if(i)l.extendLatestRangeToCell(w);else if(!E){const T=t||n;l.setRangeToCell(w,T)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=AR(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return rc(e,"ag-selection-checkbox",3)||rc(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},IB=class extends xe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Lc(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||un(r)||s!==r.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Nt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=oc(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},NB="ag-cell",BB="ag-cell-auto-height",HB="ag-cell-normal-height",GB="ag-cell-focus",VB="ag-cell-first-right-pinned",zB="ag-cell-last-left-pinned",WB="ag-cell-not-inline-editing",UB="ag-cell-wrap-text",W0="cellCtrl";function ek(e,t){return wP(e,t,W0)}var jB=0,Zu=class extends xe{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:r}=e;this.instanceId=r+"-"+jB++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new IB(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new LB(this,e,this.column),this.keyboardListener=new OB(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&ll(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),il(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),yc(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGui=t,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=FR(n,s,o);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const u=new bt(h=>{l=h});return this.addManagedListeners(r,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:u}}return{loadingComp:a,onReady:bt.resolve()}}showValue(e,t){const{beans:n,column:i,rowNode:r,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const u=r.stub&&r.groupData?.[i.getId()]==null,h=i.getColDef();if(u||this.isCellRenderer()){const p=this.createCellRendererParams();!u||il(i)?l=RR(o,h,p):l=FR(o,h,p)}if(!l&&!u&&n.findSvc?.isMatch(r,i)){const p=this.createCellRendererParams();l=RR(o,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},p)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){const p=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});p&&(p.compDetails?l=p.compDetails:p.valueToDisplay&&(a=p.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&ua(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&gp(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=_0(t),r=Cl(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Ku(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return Je(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i).value,setValue:h=>l?.setDataValue({rowNode:i,column:n},h)||o.setValue(i,n,h),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(h,p,g,v)=>this.registerRowDragger(h,p,v),setTooltip:(h,p)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(h,p),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,s=e||r||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!u&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Cc(this.beans.gos,t,W0,this),e.addDestroyFunc(()=>Cc(this.beans.gos,t,W0,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:s}=this;return PB(s,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;QP(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);zA(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const r=()=>{if(!this.isAlive())return;const s=i.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(il(this.column)&&(e=!0),wr(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(VB,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(zB,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(Yv(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(GB,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){const s=Qu(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ho(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(NB,!0),e.toggleCss(WB,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(BB,t),e.toggleCss(HB,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(UB,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(xn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},tk="__ag_grid_instance";function nk(e,t){t[tk]=e.gridInstanceId}function Bf(e,t){return ik(e,t.target)}function ik(e,t){let n=t;for(;n;){const i=n[tk];if(Ge(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function YB(e,t){return ek(e,t.target)?.getFocusedCellPosition()??null}function PR(e,t){const n=vi(e.gos,"normal"),i=t;let r,s;i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),u=a.getHScrollPosition();r+=u.left,s+=l.top}return{x:r,y:s}}var $B=class extends xe{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),Xr(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&a?.onGridExit?.(u),o===null&&s!==null&&a?.onGridEnter?.(u),this.enterDragTargetIfExists(s,e,n,i,t),s&&l){const{comp:h,promise:p}=l;h?h.setIcon(s.getIconName?s.getIconName():null,!1):p.then(g=>{g&&g.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const h=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(a,l)=>{for(const u of l){const{width:h,height:p,left:g,right:v,top:C,bottom:w}=u.getBoundingClientRect();if(h===0||p===0)return!1;const S=a.clientX>=g&&a.clientX<v,x=a.clientY>=C&&a.clientY<w;if(!S||!x)return!1}return!0};for(const a of n)if(r(e,a)){i=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=Of(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,h=t.clientX-o.left,p=t.clientY-o.top;return Je(u,{event:t,x:h,y:p,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&b7(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=k9(n,Je(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),nk(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=Bx(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):Me(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},KB=class extends xe{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),Xr(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");i&&!o&&(s=a=>{Ax(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Of(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),r=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),o=u=>{u.key===me.ESCAPE&&this.cancelDrag(e.eElement)},a=Of(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=Ge(n)?n:4;return JP(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){Ac()&&ti(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&Bf(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function rk(e,t){return e+"_"+t}function _n(e){return e instanceof Hf}var Hf=class extends xe{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return rk(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{_n(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Nt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{cl(t)?e.push(t):_n(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{cl(t)?e.push(t):_n(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(_n(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},RS="row-group-",Wx="t-",Ux="b-",qB=0,xc=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=qB++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Ht(13),null):this.rowPinned==="top"?Wx+this.rowIndex:this.rowPinned==="bottom"?Ux+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=pd(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(RS)&&Ht(14,{groupPrefix:RS})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;const l=r.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:p},data:g,rowIndex:v,rowPinned:C}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:C,column:a,colDef:a.colDef,data:g,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const p=o.setDataValue({rowNode:this,column:a},t,n);if(p!=null)return p}const u=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const h=this.pinnedSibling;return h&&u&&h.dispatchCellChangedEvent(a,t,l),u}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new gc),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new gc),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Me(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function XB(e,t,n){return Je(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var QB=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function ZB(e,t){const n=new xc(t);return Object.keys(e).forEach(i=>{QB.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var sk={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},JB=new Set(Object.values(sk));function za(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function eH(e,t,n,i,r,s){return t.refresh?.({...n,model:i,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;ok(a,l,i,r,s)}})}function ok(e,t,n,i,r){e?.refresh?.({...t,model:n,state:i,source:r})}function ak(e,t,n){const i=e();i?.created&&i.promise.then(r=>{const s=t();ok(r,i.filterParams,s,n()??{model:s},"ui")})}function kR(e,t,n,i,r,s){let o,a=!1,l;switch(e){case"apply":{const u=i();l=u?.model??null,o={state:u?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}r(o),a?s(l):ak(t,n,i)}function ei(e,t){return e[t]??null}function tH(e){return{tag:"div",cls:e}}var nH=class extends nn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(tH(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();br(i);let r;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:u,label:h})=>{const p=x=>{this.dispatchLocalEvent({type:u,event:x})};["apply","clear","reset","cancel"].includes(u)||Me(75);const g=u==="apply",C=Ln({tag:"button",attrs:{type:g&&t?"submit":"button"},ref:`${u}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${g?" "+o+"-apply-button":""}`,children:h});this.activateTabIndex([C]),g&&(r=C);const w=x=>{x.key===me.ENTER&&(x.preventDefault(),p(x))},S=this.listeners;C.addEventListener("click",p),S.push(()=>C.removeEventListener("click",p)),C.addEventListener("keydown",w),S.push(()=>C.removeEventListener("keydown",w)),s.append(C)};e.forEach(u=>a(u)),this.eApply=r;const l=this.validationTooltipFeature;r&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!r&&l&&(this.validationTooltipFeature=this.destroyBean(l)),i.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Pf(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},iH={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Qa(e,t,n){return BN(e,iH,t,n)}function jx(e,t){const{debounceMs:n}=e;return $v(e)?(n!=null&&Me(71),0):n??t}function $v(e){return(e.buttons?.indexOf("apply")??-1)>=0}var rH=class extends nn{constructor(e,t,n,i,r,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:r}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&r===o&&_f(i,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let u=this.eButtons;if(l){const h=s.map(p=>{const g=`${p}Filter`;return{type:p,label:Qa(this,g)}});if(this.applyActive=$v(this.params),!u){u=this.createBean(new nH),this.appendChild(u.getGui());const p=this.column,g=v=>({event:C})=>{this.updateModel(p,v),this.afterAction(v,C)};u?.addManagedListeners(u,{apply:g("apply"),clear:g("clear"),reset:g("reset"),cancel:g("cancel")}),this.eButtons=u}u.updateButtons(h,a)}else this.applyActive=!1,u&&(Jo(u.getGui()),this.eButtons=this.destroyBean(u))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n&&n.key;let r;(i===me.ENTER||i===me.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===me.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},sH={tag:"div",cls:"ag-filter"},oH=class extends nn{constructor(e,t,n){super(sH),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??bt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const u=!!this.enableGlobalButtonCheck,h=this.createBean(new rH(t,s,i,i.updateModel.bind(i),u&&i.isGlobalButtons,u));this.comp=h,l=h.getGui()}else l=a.getGui(),Ge(l)||Me(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(br(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Yx="T",aH=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${Yx}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function js(e,t){return e.toString().padStart(t,"0")}function Sr(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>js(r,2)).join(n);return t&&(i+=Yx+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>js(r,2)).join(":")),i}function $g(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),js(e.getDate(),2),js(e.getHours(),2),`:${js(e.getMinutes(),2)}`,`:${js(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,js(e.getDate(),2)].map(String):null}var Z1=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function FS(e,t){if(t==null)return Sr(e,!1);const n=js(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>js(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Z1(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Z1(e.getDate())}`,DD:()=>js(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Z1(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function i0(e,t=!1){return!!Ji(e,t)}function lH(e){return i0(e,!0)}function Ji(e,t=!1){if(!e||!aH.test(e))return null;const[n,i]=e.split(Yx);if(!n)return null;const r=n.split("-").map(g=>parseInt(g,10));if(r.filter(g=>!isNaN(g)).length!==3)return null;const[s,o,a]=r,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!i&&t)return null;if(!i||i==="00:00:00")return l;const[u,h,p]=i.split(":").map(g=>parseInt(g,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(h>=0&&h<60)l.setMinutes(h);else if(t)return null;if(p>=0&&p<60)l.setSeconds(p);else if(t)return null;return l}var OR={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},LR=["january","february","march","april","may","june","july","august","september","october","november","december"];function cH(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function IR(e){return e instanceof Date&&!isNaN(e.getTime())}var MS={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:IR}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&IR(e.dateParser(t))}),dateTime:e=>MS.date(e),dateTimeString:e=>MS.dateString(e),object:()=>{},text:()=>{}},_S={number:()=>({comparator:cH}),boolean:({t:e})=>({valueFormatter:t=>Ge(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Ge(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){const r=LR[Number(n)-1];return t(r,OR[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>$g(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{const r=e(i);return Ge(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>$g(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){const s=LR[Number(i)-1];return n(s,OR[s])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{const t=_S.date(e);return t.treeListPathGetter=$g,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=_S.dateString(e);return n.treeListPathGetter=i=>$g(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Ge(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function uH(e,t,n,i,r,s,o){let a=t,l=n;const u=e==="agSetColumnFilter";!l&&i.baseDataType==="object"&&!u&&(l=({column:v,node:C})=>r({column:v,node:C,value:s.valueSvc.getValue(v,C)}));const p=(u?_S:MS)[i.baseDataType],g=p({dataTypeDefinition:i,formatValue:r,t:o});return a=typeof t=="object"?{...g,...t}:g,{filterParams:a,filterValueGetter:l}}var dH={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},hH={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function fH(e,t=!1){return(t?hH:dH)[e??"text"]}var lk="ag-resizer-wrapper",Wa=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),pH={tag:"div",cls:lk,children:[Wa("eTopLeft","topLeft"),Wa("eTop","top"),Wa("eTopRight","topRight"),Wa("eRight","right"),Wa("eBottomRight","bottomRight"),Wa("eBottom","bottom"),Wa("eBottomLeft","bottomLeft"),Wa("eLeft","left")]},gH=class extends xe{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(i,r,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:r,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,h=0;const p=so(this.element);if(p){const g=this.findBoundaryElement(),v=window.getComputedStyle(g);if(v.minWidth!=null){const C=g.offsetWidth-this.element.offsetWidth;h=parseInt(v.minWidth,10)-C}if(v.minHeight!=null){const C=g.offsetHeight-this.element.offsetHeight;u=parseInt(v.minHeight,10)-C}}if(this.minHeight=s||u,this.minWidth=i||h,r&&this.setWidth(r),o&&this.setHeight(o),(!r||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(p&&n){let g=this.boundaryEl,v=!0;if(g||(g=this.findBoundaryElement(),v=!1),g){const C=parseFloat(g.style.top),w=parseFloat(g.style.left);v?this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C,e):this.setPosition(w,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)hf(n,e),e=KA(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?hf(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-i.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)no(t,e),e=T0(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?no(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupSvc?.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=ca(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,o)?0:o,u=this.shouldSkipY(t,!!i,s,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=i<0&&e.clientX>a+s.left||i>0&&e.clientX<a+s.left:n?l=i<0&&e.clientX>o.right||i>0&&e.clientX<a+s.left:l=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=i<0&&e.clientY>a+s.top+n||i>0&&e.clientY<a+s.top:l=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Ln(pH)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${lk}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||i,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),p=this.position.x,g=this.position.y;let v=0,C=0;if(a&&u){const w=o?-1:1,S=this.getWidth(),x=S+u*w;let E=!1;o&&(v=S-x,(p+v<=0||x<=this.minWidth)&&(E=!0,v=0)),E||this.setWidth(x)}if(l&&h){const w=i?-1:1,S=this.getHeight(),x=S+h*w;let E=!1;i?(C=S-x,(g+C<=0||x<=this.minHeight)&&(E=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||C)&&this.offsetElement(p+v,g+C)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},mH="ag-focus-managed",Od=class extends xe{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=Ic(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(mH),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Go(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){wc(t);return}t.key===me.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},vH=class extends nn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Od(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new gH(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const r=t.state,s=this.state;return this.state=r,(r.model!==s.model||r.state!==s.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=$v(e),this.setupApplyDebounced()}doesFilterPass(e){Me(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Me(284),this.params.model!=null}setupApplyDebounced(){const e=jx(this.params,this.defaultDebounceMs),t=pi(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Me(285),this.params.model}setModel(e){Me(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Qa(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function CH(e){return!!e.operator}function wH(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:s,fwComp:o}=BP(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i}var r0={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},$x=class extends xe{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?r0.AUTO_HEIGHT:t.print?r0.PRINT:r0.NORMAL;this.view.updateLayoutClasses(n,t)}},Ua="Viewport",NR="fakeVScrollComp",J1=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],BR=100,ey=150,yH=class extends xe{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=pi(this,()=>this.lastScrollSource[1]=null,ey),this.resetLastVScrollDebounced=pi(this,()=>this.lastScrollSource[0]=null,ey)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ua)});for(const e of J1){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?pi(this,this.onVScroll.bind(this,Ua),BR):this.onVScroll.bind(this,Ua),i=t?pi(this,this.onVScroll.bind(this,NR),BR):this.onVScroll.bind(this,NR);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...J1,Ua]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);R0(n,e,this.enableRtl)}}getViewportForSource(e){return e===Ua?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=D0(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ua?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Ua?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},ey)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!ic()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Px(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of J1)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Ua)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),R0(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let s=0;s<i;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break}}else if(e===o||e===o.data){r=s;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(vi(this.gos,"print"))return;const{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){Me(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const u=this.ctrlsSvc.getGridBodyCtrl(),h=i.getRow(e);let p,g,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:C,stickyBottomHeight:w}=u,S=h.rowTop,x=h.rowHeight,E=o.getPixelOffset(),T=h.rowTop-E,R=T+h.rowHeight,F=this.getVScrollPosition(),P=a.divStretchOffset,_=F.top+P,L=F.bottom+P,A=L-_,O=a.getScrollPositionForPixel(T),I=a.getScrollPositionForPixel(R-A),z=Math.min((O+I)/2,T),J=_+C>T,ae=L-w<R;let ie=null;t==="top"?ie=O-C:t==="bottom"?ie=I+w:t==="middle"?ie=z:J?ie=O-C:ae&&(I-O>A?ie=O-C:ie=I+w),ie!==null&&(this.setVerticalScrollPosition(ie),l.redraw({afterScroll:!0})),p=S!==h.rowTop||x!==h.rowHeight,g=C!==u.stickyTopHeight||w!==u.stickyBottomHeight,v++}while((p||g)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(h?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const C=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const w=this.getVScrollPosition().top;C!==w&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||r,l=o?i:n;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:p,colRight:g}=this.getColumnBounds(e);return u?p-s/2:a?o?g:h:o?h-s:g-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,a=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,a=o+i*s,l=o+i/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},Kx=class extends xe{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=vi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},SH=class extends xe{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{ua(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Px(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function qx(e,t,n,i,r,s){if(n==null&&t==null)return;const o={},a={},l=(u,h)=>{u.split(" ").forEach(p=>{p.trim()!=""&&h(p)})};if(n){const u=Object.keys(n);for(let h=0;h<u.length;h++){const p=u[h],g=n[p];let v;typeof g=="string"?v=e?e.evaluate(g,i):!0:typeof g=="function"&&(v=g(i)),l(p,C=>{v?o[C]=!0:a[C]=!0})}}t&&s&&Object.keys(t).forEach(u=>l(u,h=>{o[h]||(a[h]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(r)}function HR(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var xH=class extends xe{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,s=Je(i,{data:e.data,node:e,rowIndex:e.rowIndex});qx(r,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s)}if(r||n)return Object.assign({},n,r)}},bH=0,U0="renderedRow",j0=class extends xe{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+bH++,this.rowId=Jm(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=HR(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Jm(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){const{context:r,focusSvc:s}=this.beans;i=fp(this,r,i);const o={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,u=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!u&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const h=this.fullWidthGui?.element;h&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>h.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),sc(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&hS(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Cc(t,e.element,U0,this),e.compBean.addDestroyFunc(()=>Cc(t,e.element,U0,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Jm(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(vS(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(vS(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=fP(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Zu(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(u,h,p)=>{p!=null?i.list.splice(p,0,h):i.list.push(h),i.map[u]=h},s=[];for(const u of t){const h=u.getInstanceId();let p=e.map[h];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(u)),p&&r(h,p)}for(const u of e.list){const h=u.column.getInstanceId();if(i.map[h]!=null)continue;!this.isCellEligibleToBeRemoved(u,n)?s.push([h,u]):u.destroy()}if(s.length)for(const[u,h]of s){const p=i.list.findIndex(v=>v.column.getLeft()>h.column.getLeft()),g=p===-1?void 0:Math.max(p-1,0);r(u,h,g)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const u=l.column.getInstanceId();if(!i.map[u]&&a.allCols.includes(l.column)){const p=this.createFocusedCellCtrl();if(p){const g=i.list.findIndex(C=>C.column.getLeft()>p.column.getLeft()),v=g===-1?void 0:Math.max(g-1,0);r(u,p,v)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||vi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ge(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...i?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",o=this.gos.get("treeData")&&(r||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const u=l.rowComp;u.toggleCss("ag-row-highlight-above",n),u.toggleCss("ag-row-highlight-inside",i),u.toggleCss("ag-row-highlight-below",r),u.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ho(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:u?.column??i};l?.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Go(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=xn(this.beans);let s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=Ic(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>so(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{wr(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?i=s==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Je(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Go(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=rc(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:s,column:o}=r,a=s.element,l=e.target;let u=e.defaultPrevented||Ac();a&&a.contains(l)&&Ax(l)&&(u=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(Go(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=Je(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,u)=>this.addFullWidthRowDragging(o,a,l,u),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return V9(s,r);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=o,r.valueFormatted=a,G9(s,r)}case"FullWidthLoading":return H9(s,r);default:return B9(s,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;const o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=HR(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(s.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&s.push("ag-row-pinned-source"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=oP(this.gos)?al(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&$u(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(xn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ge(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",i),s.rowComp.toggleCss("ag-row-odd",!i),VA(s.element,r)})}};function ck(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function AS(e,t,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=Je(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o))}function EH(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=i?null:"top";let o,a;r?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:u}=e,h=l.allCols;!u||!h?.length||u.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var TH=65,DH=67,RH=86,FH=68,MH=90,_H=89;function AH(e){const{keyCode:t}=e;let n;switch(t){case TH:n=me.A;break;case DH:n=me.C;break;case RH:n=me.V;break;case FH:n=me.D;break;case MH:n=me.Z;break;case _H:n=me.Y;break;default:n=e.code}return n}var PH=class extends xe{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",CP("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!Bf(this.gos,t)||Go(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:ek(t,e),rowCtrl:wP(t,e,U0)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!AS(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),ck(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,a=r.getFocusedCell()?.column;if(!AS(this.gos,n,i,a,!1)){const u=n.key;if(t==="keydown")switch(u){case me.PAGE_HOME:case me.PAGE_END:case me.PAGE_UP:case me.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case me.LEFT:case me.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case me.UP:case me.DOWN:e.onKeyboardNavigate(n);break;case me.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Bf(this.gos,e))return;const n=AH(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===me.A)return this.onCtrlAndA(e);if(n===me.C)return this.onCtrlAndC(i,e);if(n===me.D)return this.onCtrlAndD(i,e);if(n===me.V)return this.onCtrlAndV(i,e);if(n===me.X)return this.onCtrlAndX(i,e);if(n===me.Y)return this.onCtrlAndY(r);if(n===me.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&ll(r)&&t.isRowsToRender()?EH(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:gP(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},uk=class extends xe{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Kg=e=>e.topRowCtrls,qg=e=>e.getStickyTopRowCtrls(),Xg=e=>e.getStickyBottomRowCtrls(),Qg=e=>e.bottomRowCtrls,Zg=e=>e.allRowCtrls,ty=e=>e.getCtrls("top"),ny=e=>e.getCtrls("center"),iy=e=>e.getCtrls("bottom"),kH={center:{type:"center",name:"center-cols",getRowCtrls:Zg,getSpannedRowCtrls:ny},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Zg,getSpannedRowCtrls:ny},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Zg,getSpannedRowCtrls:ny},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Zg},topCenter:{type:"center",name:"floating-top",getRowCtrls:Kg,getSpannedRowCtrls:ty},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Kg,getSpannedRowCtrls:ty},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Kg,getSpannedRowCtrls:ty},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Kg},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:qg},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:qg},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:qg},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:qg},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Xg},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Xg},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Xg},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Xg},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Qg,getSpannedRowCtrls:iy},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Qg,getSpannedRowCtrls:iy},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Qg,getSpannedRowCtrls:iy},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Qg}};function dk(e){return`ag-${mp(e).name}-viewport`}function s0(e){const t=mp(e);return t.container??`ag-${t.name}-container`}function OH(e){return`ag-${mp(e).name}-spanned-cells-container`}function mp(e){return kH[e]}var LH=["topCenter","topLeft","topRight"],IH=["bottomCenter","bottomLeft","bottomRight"],NH=["center","left","right"],BH=["center","left","right","fullWidth"],HH=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],GH=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],VH=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],hk=["stickyTopCenter","stickyTopLeft","stickyTopRight"],fk=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],zH=[...hk,"stickyTopFullWidth",...fk,"stickyBottomFullWidth"],WH=[...LH,...IH,...NH,...hk,...fk],UH=class extends xe{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=mp(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new SH(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new PH(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(GH,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(VH,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(BH,()=>this.createManagedBean(new uk(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers(WH,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(HH,()=>this.createManagedBean(new Kx(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(zH.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=vi(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return kf(this.eViewport)}getCenterViewportScrollLeft(){return D0(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=ca(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return XA(this.eViewport)}getViewportScrollLeft(){return D0(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||QA(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){R0(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=vi(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},jH="ag-force-vertical-scroll",YH="ag-selectable",$H="ag-column-moving",KH=class extends xe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${dk("center")}`),this.eFullWidthContainer=n.querySelector(`.${s0("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${s0("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${s0("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new $x(this.comp)),this.scrollFeature=this.createManagedBean(new yH(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=YA()?16:0,r=`calc(100% + ${n+i}px)`;ua(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=rc(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,s=t.contains(r),o=rc(r,"ag-root",t);rc(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss($H,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(YH,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?jH:null,n=vi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&ZA(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&$u(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const h of[t,n,i,r])this.addManagedElementListeners(h,{wheel:l});const u=this.onHorizontalWheel.bind(this);for(const h of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(h).eContainer,{wheel:u});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Bf(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=r-s,a=n?o+n:0,l=i?o+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`)}},pk=class extends nn{constructor(e,t){super(),this.direction=t,this.eViewport=qe,this.eContainer=qe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",UA()||ic())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=YA(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ua(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;d7(()=>so(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},qH={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},XH=class extends pk{constructor(){super(qH,"horizontal"),this.eLeftSpacer=qe,this.eRightSpacer=qe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Kx(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),no(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),no(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),hf(this.getGui(),s),hf(this.eViewport,s),hf(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return D0(this.eViewport,this.enableRtl)}setScrollPosition(e){so(this.eViewport)||this.attemptSettingScrollPosition(e),R0(this.eViewport,e,this.enableRtl)}},QH={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},ZH=class extends pk{constructor(){super(QH,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new uk(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),no(this.getGui(),r),no(this.eViewport,r),no(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!so(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Qs(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Xx(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){const o=i.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=JH(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function JH(e,t){let i=e.colModel.isPivotMode()?tG(e):mk(e);const r=t.getHeaderCellCtrls();for(const s of r){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>i&&o.isAutoHeaderHeight()&&(i=a)}return i}function Qx(e){let n=e.colModel.isPivotMode()?eG(e):vp(e);return e.colModel.forAllCols(i=>{const r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function vp(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function gk(e){return e.gos.get("floatingFiltersHeight")??vp(e)}function mk(e){return e.gos.get("groupHeaderHeight")??vp(e)}function eG(e){return e.gos.get("pivotHeaderHeight")??vp(e)}function tG(e){return e.gos.get("pivotGroupHeaderHeight")??mk(e)}var nG=class extends xe{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new Od(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ua(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=Xx(e).reduce((s,o)=>s+o,0),i=Qx(e);if(e.filterManager?.hasFloatingFilters()&&(t+=gk(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||vd(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case me.LEFT:t="LEFT";case me.RIGHT:{Ge(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case me.UP:t="UP";case me.DOWN:{Ge(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(xn(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},Zx=class extends xe{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Nt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=Ge(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!vi(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Ge(e)&&(this.eCell.style.left=`${e}px`),_n(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&e7(this.ariaEl,t.length)}}},iG=0,vk="headerCtrl",Jx=class extends xe{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+iG++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!Ge(r))return!1;const s=Je(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s)}getWrapperHasFocus(){return xn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:g,paddingBottom:v,borderBottomWidth:C,borderTopWidth:w}=Pc(this.eGui),S=g+v+C+w,E=t.offsetHeight+S;if(p<5){const T=ti(r),R=!T||!T.contains(t),F=E==0;if(R||F){vS(()=>s(p+1),"raf",r);return}}this.setColHeaderHeight(this.column,E)};let o=!1,a;const l=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&u(),!p&&o&&h()},u=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=ca(this.beans,t,()=>s(0))},h=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>h()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(QP(e,t,n.visibleCols),zA(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=lc(this.beans);this.eGui&&wr(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=xn(this.beans),n=e.key===me.LEFT||e.key===me.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===me.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===me.LEFT!==t.get("enableRtl");const r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=vk,{eGui:n,gos:i}=this;Cc(i,n,t,this),e.addDestroyFunc(()=>Cc(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},rG=class extends Jx{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:u,colHover:h,rangeSvc:p}=a,g=fp(this,u,r);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:C=>this.setRefreshFunction("measuring",C),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=g.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):yn(n,!1),h?.createHoverFeature(g,[o],t),p?.createRangeHighlightFeature(g,o,e),g.createManagedBean(new Zx(o,t,a)),g.createManagedBean(new Od(t,{shouldStopEventPropagation:C=>this.shouldStopEventPropagation(C),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Je(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return O9(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Je(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||yr(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===me.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===me.ENTER&&this.onEnterKeyDown(e),e.key===me.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();GR(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),MB()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=XP(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=Xx(this.beans),s=r.reduce((g,v)=>g+=v,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=Qx(i);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const u=(this.column.getFirstRealParent()?.getLevel()??-1)+1,h=r.length-u;let p=0;for(let g=0;g<h;g++)p+=r[r.length-1-g];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${l+p}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(WN(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!yr(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(xn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return GR(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function GR(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var sG=0,ry=class extends xe{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=sG++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";n==="group"?i="ag-header-row-group":n==="filter"&&(i="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${i}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=vi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=fp(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=vi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Xx(this.beans);for(let r=0;r<t.length;r++){if(r===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[r]};e+=t[r]}const n=Qx(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const i=gk(this.beans);return{topOffset:e,rowHeight:i}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new rG(e,this));break}t.set(i,r)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},oG=class extends xe{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(a,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let r=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const p=i.headerGroupRowCount;r=p;const g=this.groupsRowCtrls.length;if(g!==p){if(g>p){for(let v=p;v<g;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=p;return}for(let v=g;v<p;v++){const C=this.createBean(new ry(v,this.pinned,"group"));this.groupsRowCtrls.push(C)}}},a=()=>{const p=r++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new ry(p,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==p&&this.columnsRowCtrl.setRowIndex(p)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const p=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){p();return}e||p();const g=r++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==g&&this.filtersRowCtrl.setRowIndex(g):this.filtersRowCtrl=this.createBean(new ry(g,this.pinned,"filter"))},u=this.getAllCtrls();o(),a(),l();const h=this.getAllCtrls();this.comp.setCtrls(h),this.restoreFocusOnHeader(t,s),u.length!==h.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(cl(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Kx(e=>this.comp.setCenterWidth(`${e}px`),!0))}},aG=class extends xe{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(zR(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){zR(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(yr(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&cl(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ic()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!yr(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!yr(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return yr(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:s}=t,o=t.column;if(r==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,i)}else if(r==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,i)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),ua(a,()=>{const u=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);u&&e?.showMenuAfterButtonClick(o,u.getAnchorElementForMenu(i),n,s,i)})}}};function VR(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function zR(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&yr(i)?t:n}var eb=class extends nn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Kv=class extends eb{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},Ck=class extends nn{constructor(){super()}},lG={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},cG=class extends Ck{init(){const e=Ho(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??lG),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},uG={tag:"span",cls:"ag-overlay-no-rows-center"},dG=class extends Ck{init(){const e=Ho(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??uG),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function hG(e,t,n){const i=Kr(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i}const r=Ln({tag:"span"});return r.appendChild(i),r}function Kr(e,t,n){let i=null;e==="smallDown"?Me(262):e==="smallLeft"?Me(263):e==="smallRight"&&Me(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const s=t.gos.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{Me(38,{iconName:e});return}if(typeof s=="string")return kx(s);if(Lx(s))return s;Me(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Ln({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var fG=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",pG={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},gG=class extends nn{constructor(){super(),this.dragSource=null,this.eIcon=qe,this.eLabel=qe,this.eGhost=qe,this.registerCSS(fG)}postConstruct(){const e=t=>hG(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(pG),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;br(n);let o=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},mG=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",vG=class extends nn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(mG)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;br(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(yn(t,!1),mc(t,"presentation")):(yn(t,!0),mc(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(F0(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Pf(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},wk=class extends vG{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||UN(e)!==null?Af(e,""):Af(e,t??"")}setAriaLabel(e){return fd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return no(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function CG(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Ql=class extends wk{constructor(e,t,n="text",i="input"){super(e,e?.template??CG(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=qe,this.eWrapper=qe,this.eInput=qe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,wr(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return F0(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return wr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return fd(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Pf(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)wr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";wr(this.eInput,"autocomplete",t)}return this}},tb=class extends Ql{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},nb={selector:"AG-CHECKBOX",component:tb},wG=".ag-checkbox-cell{height:100%}",yG={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},SG=class extends nn{constructor(){super(yG,[nb]),this.eCheckbox=qe,this.registerCSS(wG)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),HA(i,"polite"),this.addManagedListeners(i,{click:r=>{if(wc(r),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:r=>{wc(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===me.SPACE&&!t.isDisabled()){e.eGridCell===xn(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:s}=e;if(s.group&&r)if(typeof i=="boolean")t=i;else{const p=r.getColId();p.startsWith(jv)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[p]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!r?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),u=Uv(l,t),h=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;o.setInputAriaLabel(h)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});const s=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},WR=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Xr(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=EG(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;const s=dP(n);s==="bottom"||s==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){const{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function yk(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?yk(t):!1}function sy(e,t){const{gos:n,rowModel:i,filterManager:r}=e;return kc(n)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!yk(t):n.get("pivotMode")?!t.group:!1}function xG(e){return!!e.footer&&e.level===-1}function bG(e){return!!e.pinnedSibling&&xG(e.pinnedSibling)}function EG(e){const t=e.findIndex(bG);if(t>-1)return e.splice(t,1)?.[0]}var UR=class extends xe{postConstruct(){const{gos:e,beans:t}=this;this.top=new WR(t,"top"),this.bottom=new WR(t,"bottom");const n=r=>sy(t,r.pinnedSibling),i=()=>{const r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,r(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:r})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),r||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(DG),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,FG(this.beans);return}const i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&RG(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;oy(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=jR(this.beans,e,t),a=this.getContainer(t);a.add(o),sy(this.beans,e)&&a.hide(l=>sy(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=al(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return YR(this.top)}getPinnedBottomTotalHeight(){return YR(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!Hn(e))return;const r=i.rootNode?.sibling;if(!r)return;const s=r.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),oy(s)),!o||o.floating!==n){const a=jR(t,r,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),oy(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>TG(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function TG(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(al(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function jR(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=ZB(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const r=n==="top"?Wx:Ux;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function oy(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function DG(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function RG(e,t,n){const{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function YR(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function FG({gos:e,rowModel:t}){Hn(e)&&t.refreshModel({step:"map"})}var $R=class extends xe{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Kh(this.pinnedBottomRows,t),Kh(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=al(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return Kh(this.pinnedBottomRows,n),t=0,Kh(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=pd(this.gos),r=t==="top"?Wx:Ux,s=new Set(n.order),o=[],a=new Set;let l=0,u=-1;for(const h of e){const p=i?.({data:h,level:0,rowPinned:t})??r+this.nextId++;if(a.has(p)){Me(96,{id:p,data:h});continue}u++,a.add(p),o.push(p);const g=pf(n,p);if(g!==void 0)g.data!==h&&g.updateData(h),l+=this.setRowTopAndRowIndex(g,l,u),s.delete(p);else{const v=new xc(this.beans);v.id=p,v.data=h,v.rowPinned=t,l+=this.setRowTopAndRowIndex(v,l,u),n.cache[p]=v,n.order.push(p)}}s.forEach(h=>{pf(n,h)?.clearRowTopAndRowIndex(),delete n.cache[h]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(al(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return KR(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return KR(this.pinnedBottomRows)}getPinnedTopRowCount(){return kS(this.pinnedTopRows)}getPinnedBottomRowCount(){return kS(this.pinnedBottomRows)}getPinnedTopRow(e){return PS(this.pinnedTopRows,e)}getPinnedBottomRow(e){return PS(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return pf(this.getCache(t),e)}forEachPinnedRow(e,t){return Kh(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function KR(e){const t=kS(e);if(t===0)return 0;const n=PS(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function pf(e,t){return e.cache[t]}function PS(e,t){return pf(e,e.order[t])}function Kh(e,t){e.order.forEach((n,i)=>{const r=pf(e,n);r&&t(r,i)})}function kS(e){return e.order.length}var MG=class extends xe{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),i=dP(e),s=!!n||(i==="pinnedBottom"||i==="pinnedTop"),o=s?this.inner instanceof $R:this.inner instanceof UR;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new UR:new $R))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},_G="ROOT_NODE_ID",AG=class extends xe{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=_G,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=pd(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let u=!1,h=!1,p=!1,g=!1;for(let C=0,w=-1,S=t.length;C<S;C++){const x=t[C];let E=this.getRowNode(n({data:x,level:0}));if(!E)u=!0,E=this.createRowNode(x,-1),r.add(E);else{if(i){const T=E.sourceRowIndex;g||(g=T<=w||u),w=T}E.data!==x&&(p=!0,E.updateData(x),r.update(E))}s.add(E)}const v=[];for(let C=0;C<l;C++){const w=a[C];s.has(w)||(h=!0,w.isSelected()&&v.push(w),w.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(w.pinnedSibling,null),this.rowNodeDeleted(w),r.remove(w))}if(u||h||g){const C=new Array(s.size);let w=0;if(!i)for(let x=0;x<l;++x){const E=a[x];s.delete(E)&&(E.sourceRowIndex=w,C[w++]=E)}for(const x of s)x.sourceRowIndex=w,C[w++]=x;o.allLeafChildren=C;const S=o.sibling;S&&(S.allLeafChildren=C),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(u||h||g||p)&&(this.deselectNodes(v),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=pd(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let p=0;p<i.length;p++)if(i[p]?.rowIndex==r-1){r=p+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let h=0;h<s;h++){const p=this.createRowNode(n[h],r+h);o.add(p),a[h]=p}const l=this.rootNode;if(r<i.length){const h=i.slice(0,r),p=i.slice(r,i.length),g=h.length+a.length;for(let v=0,C=p.length;v<C;++v)p[v].sourceRowIndex=g+v;i=[...h,...a,...p],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const u=l.sibling;u&&(u.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(u=>{const h=this.lookupRowNode(e,u);h&&(h.isSelected()&&r.push(h),h.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(h.pinnedSibling,null),h.clearRowTopAndRowIndex(),o[h.id]=!0,delete this.allNodesMap[h.id],i.remove.push(h),n.remove(h))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(u=>!o[u.id])??null,a.allLeafChildren?.forEach((u,h)=>{u.sourceRowIndex=h});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new xc(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Me(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return Ht(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return Ht(5,{data:t}),null;return n||null}},PG={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},kG=class extends nn{constructor(){super(PG,[nb]),this.eCheckbox=qe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=Uv(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:wc,click:i=>{wc(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=typeof i=="object"?q1(i):void 0,o=typeof r=="object"?q1(r):void 0;s!==o&&this.onSelectableChanged()}),SS(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const p=n?.callbackParams;if(!e)o=s({...p,node:t,data:t.data});else{const g=e.createColumnFunctionCallbackParams(t);o=s({...p,...g})}}else o=s??!1;const a=r&&!o||!r&&o,l=r||o,u=i.get("rowSelection"),h=u&&typeof u!="string"?!q1(u):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?h:!0)),this.setDisplayed(l&&(a?h:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Ku(t):this.column?.getColDef()?.checkboxSelection}},OG=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Hr(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const r=Hr(n,"bottom",void 0,e),s=i.getRowCount(),o=i.getRow(s-1);return(i.getNodesInRangeForSelection(t,o)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Hr(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const r=Hr(n,"top",t,void 0),s=Hr(n,"bottom",void 0,e),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return Hr(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const r=Hr(n,"top",e,void 0),s=Hr(n,"bottom",void 0,t),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Hr(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const r=Hr(n,"bottom",void 0,t),s=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,s)??[]).concat(r)}return null}},LG=class extends xe{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(xn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new tb);this.cbSelectAll=t,t.addCss("ag-header-select-all"),mc(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(i)!==s(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue(),o=Uv(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return P0(this.gos)?!0:(Me(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Hn(t)||kc(t)?!0:(Me(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return Sk(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=gP(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function Sk({gos:e,selectionColSvc:t},n){const i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:s}=r;let o=!1;if(typeof i=="object"){const l=Cl(n),u=Hx(n);(_0(i)==="autoGroupColumn"&&u||l&&t?.isSelectionColumnEnabled())&&(o=Qm(i))}else typeof s=="function"?o=s(Je(e,{column:n,colDef:r})):o=!!s;return o}var IG=class extends xe{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new OG(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=SS(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=SS(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new kG}createSelectAllFeature(e){if(Sk(this.beans,e))return new LG(e)}isMultiSelect(){return P0(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);const s=r.element;fS(s,i),s.contains(xn(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!gp(e)||!sc(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Lf(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const r=e.childrenAfterGroup[i];let s=r.isSelected();if(!r.selectable){const o=this.calculateSelectedFromChildren(r);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...XB(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=Cl(e)&&Ku(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:s}=this,o=e.isSelected(),a=Lf(r),l=R7(r),u=F7(r),h=this.isMultiSelect(),p=i==="rowClicked";if(p&&!(l||u))return null;if(t&&n&&h){const g=s.getRoot();if(g)if(g.isSelected()){const v=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=s.extend(e,a);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&h){const g=s.selectAll?this.beans.rowModel.getRow(0):void 0,v=s.getRoot(g),C=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:C.keep,deselect:C.discard,reset:s.selectAll||!!(v&&!v.isSelected())}}else if(n){if(p){const g=!o;return g&&!l||!g&&!u?null:(s.setRoot(e),{node:e,newValue:g,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!h}}else{s.setRoot(e);const g=M7(r),v=k0(r)==="filteredDescendants",C=p&&(!g||!l);if(v&&o===void 0&&Hn(r))return{node:e,newValue:!1,clearSelection:!h||C};if(p){const w=o?!g:l;return w===o&&!C||w&&!l||!w&&!u?null:{node:e,newValue:w,clearSelection:!h||C,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!h||C}}}},NG=class extends tb{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Nc=class extends Ql{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Ge(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{ck(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},qv={selector:"AG-INPUT-TEXT-FIELD",component:Nc},BG=class extends Ql{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},HG={selector:"AG-INPUT-TEXT-AREA",component:BG},ib=class extends Nc{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){xn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,wr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,wr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,wr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Ge(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},GG={selector:"AG-INPUT-NUMBER-FIELD",component:ib},VG=class extends Nc{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Ac();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){xn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Sr(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,wr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Sr(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,wr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,wr(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ji(this.getValue())??void 0}setDate(e,t){this.setValue(Sr(e??null,this.includeTime),t)}},xk={selector:"AG-INPUT-DATE-FIELD",component:VG},zG=class extends nn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case me.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case me.DOWN:case me.UP:e.preventDefault(),this.navigate(t);break;case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===me.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===me.PAGE_HOME?a=0:e===me.PAGE_END?a=r:e===me.PAGE_DOWN?a=Math.min(i+o,r):e===me.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Jo(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();mc(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{XN(t,n+1),qN(t,e.length)})}renderOption(e,t){const n=Ln({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=Ln({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!so(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),fS(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!so(e)||(e.classList.remove(this.activeClass),fS(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},WG=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",UG={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},jG=class extends wk{constructor(e){if(super(e,e?.template||UG,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=qe,this.eWrapper=qe,this.eDisplayField=qe,this.eIcon=qe,this.registerCSS(WG),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=Kr(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),hS(e,!1),this.ariaRole&&mc(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case me.UP:case me.DOWN:case me.ENTER:case me.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case me.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:h}=this,p={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const w=cP(u);this.beforeHidePicker(),w&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:h};e.style.position="absolute";const g=u.popupSvc,v=g.addPopup(p);l?(o&&(e.style.minWidth=o),e.style.width=Ox(T0(h)),a&&(e.style.maxWidth=a)):F0(e,a??T0(h));const C=s??`${Px(g.getPopupParent())}px`;return e.style.setProperty("max-height",C),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();hS(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return F0(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},YG=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",rb=class extends jG{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(YG)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Xm(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new zG("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),r7(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===me.TAB&&this.hidePicker(),t){case me.ENTER:case me.UP:case me.DOWN:case me.PAGE_UP:case me.PAGE_DOWN:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case me.ESCAPE:super.onKeyDown(e);break;case me.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},$G={selector:"AG-SELECT",component:rb},Ju={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},bk=class extends xe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:g,isEmpty:v,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g,this.providedIsEmpty=v}postConstruct(){this.createManagedBean(new Od(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Qu(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=ti(this.beans),n=Qu(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,u)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(u.getAttribute("tabindex")||"0");return p===a?1:h===a?-1:h===0?1:p===0?-1:h-p}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Qu(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Ic(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},KG=class extends xe{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:S=>{r.forEach(x=>S!=null?x.setAttribute("tabindex",S):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new bk({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=ti(this.beans).createElement("div"),n=e==="top"?Ju.TAB_GUARD_TOP:Ju.TAB_GUARD_BOTTOM;return t.classList.add(Ju.TAB_GUARD,n),mc(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];br(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){Lx(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Jo(e),Jo(t),super.destroy()}},qG=class extends nn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new KG(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},zl=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new gc,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!JP(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},XG=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Ek=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${eP}/${this.frameworkName}-data-grid`,f7(this.baseDocLink)}setInterval(e,t){return new bt(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const s=yP(t);s!=null&&(r.passive=s)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function QG(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var ZG=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],qR=Object.fromEntries(ZG.map((e,t)=>[e,t]));function JG(e,t){const n=(e.beanName?qR[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?qR[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function eV(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var tV=class extends xe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),nk(this.gos,t),this.createManagedBean(new $x(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=ca(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this)}isDetailGrid(){return ZP(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,a=Nt(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(Nt(n),e);const o=Nt(s);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||lc(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(Sc(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!Yv(e)||!lc(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=xn(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Sc(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},at=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},XR={dispatchEvent:"CommunityCore",...at("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...at("GridState",{getState:0,setState:0}),...at("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...at("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...at("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...at("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...at("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...at("ValueCache",{expireValueCache:0}),...at("CellApi",{getCellValue:0}),...at("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...at("Sort",{onSortChanged:0}),...at("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...at("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...at("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...at("HighlightChanges",{flashCells:0}),...at("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...at("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...at("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...at("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...at("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...at("ColumnResize",{setColumnWidths:0}),...at("ColumnHover",{isColumnHovered:0}),...at("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...at("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...at("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...at("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...at("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...at("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...at("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...at("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...at("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...at("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...at("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...at("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...at("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...at("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...at("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...at("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...at("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...at("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...at("ContextMenu",{showContextMenu:0}),...at("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...at("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...at("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...at("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...at("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...at("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...at("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...at("StatusBar",{getStatusPanel:0})},ay={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},nV=(e,t)=>e.eventSvc.dispatchEvent(t),Tk=class{};Reflect.defineProperty(Tk,"name",{value:"GridApi"});var iV=class extends xe{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Tk,this.fns={...ay,dispatchEvent:nV},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(XR))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==ay&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)Me(26,{fnName:e,preDestroyLink:i});else{const r=XR[e];n.assertModuleRegistered(r,`api.${e}`)&&Me(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=ay,this.beans=null}};function rV(e){return e.context.getGridId()}function sV(e){e.gridDestroySvc.destroy()}function oV(e){return e.gridDestroySvc.destroyCalled}function aV(e,t){return e.gos.get(t)}function lV(e,t,n){Dk(e,{[t]:n})}function Dk(e,t){e.gos.updateGridOptions({options:t})}function cV(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var uV={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},dV=class extends nn{constructor(e,t,n){super(uV),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Kr("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){const a=Je(r,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function hV(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function fV(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function pV(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function gV(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function mV(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=t?.row;let r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");const s=i?.rowIndex;s==null||r==="none"?n.clear():n.set(i,r)}var vV=class extends xe{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},CV={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},wV=class extends nn{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(CV),this.getGui().appendChild(Kr("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new SV(this,t,n):new yV(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const i=this.getDragItem(),r=i.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Rk=class extends xe{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;r=typeof l=="function",i=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}r?(a.setDisplayed(!0,n),a.setVisible(i&&!t,n)):(a.setDisplayed(i,n),a.setVisible(!t,n))}}},yV=class extends Rk{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},SV=class extends Rk{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=r&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Gf=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){const o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},xV=class extends xe{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Hn(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;let s=0;const o=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new XG({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>r.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Nt(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:i}=e.dragItem,s=i?.length&&(n??i[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,u=l.rootNode,h=PR(o,e).y;let p=l.getRowIndexAtPixel(h),g=l.getRow(p)??null;const v=s!==g;let C=g?(h-g.rowTop-g.rowHeight/2)/g.rowHeight||0:1;const w=this.isFromThisGrid(e),x=mP(a)!=="group"&&w;let E=null;if(x&&g?.footer){E=g.sibling??u;const I=gf(l,-1,g)??gf(l,1,g);C=I&&I.rowIndex>g.rowIndex?-.5:.5,g=I??null}let T=C<0,R=!1;if(w&&g){if(v){if(R=i.indexOf(g)>=0,R){const I=bV(l,p<s.rowIndex,i);I?.parent===g.parent&&(g=I,p=g.rowIndex)}}else{if(Math.abs(C)<=.5)return this.makeGroupThrottleClear(),null;R=!0}(R||!x&&Math.abs(p-s.rowIndex)===1)&&(T=p<s.rowIndex)}const F=this.makeGroupThrottleTarget;F!==null&&F!==g&&this.makeGroupThrottleClear(),g?.expanded&&g.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=g),E===null&&x&&(!g||C>=.5&&g.rowIndex===o.pageBounds.getLastRow()?E=u:this.targetShouldBeParent(g,C,R,i)&&(this.makeGroupThrottled&&(E=g),t&&(E===null||!g.expanded)&&(this.makeGroupThrottleTarget=g,this.makeGroupThrottleStart())),E??(E=g?.parent??u));let P=!1;if(E!==null){if(E===g&&E!==u){P=!0;const I=E.expanded?gf(l,1,g):null;I?.parent===E&&(g=I,P=!1,T=!0)}if(g&&!P){let I=g;for(;I&&I!==u&&I!==E;)g=I,I=I.parent}TV(i,E)&&(E=null)}if(!E&&R&&(x||s===g))return null;const _=P?"inside":T?"above":"below",L={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:w,position:_,source:s,target:g,newParent:E,rows:i};let A=!1;const O=a.get("isRowValidDropPosition");if(O){const I=O(L);I?typeof I=="object"&&(I.rows!==void 0&&(L.rows=I.rows??O0),I.newParent!==void 0&&(L.newParent=I.newParent),I.target!==void 0&&(L.target=I.target),I.position&&(A=!0,L.position=I.position)):L.rows=O0}return(!L.newParent||!L.rows.length)&&!A&&(L.position=T?"above":"below"),L}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){const r=e?.rowIndex;if(n||r===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=r+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const u=e.childrenAfterGroup;if(o&&o.parent===e&&u?.length){const h=new Set(i);for(const p of u)if(p.rowIndex!==null&&!h.has(p))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Me(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Me(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=PR(this.beans,t).y,a=o>i.getCurrentPagePixelRange().pageLastPixel;let l=-1,u;return a||(l=r.getRowIndexAtPixel(o),u=r.getRow(l)),Je(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const i=pd(this.gos),r=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!r.getRowNode(i?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?QR(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Gf(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1;const s=this.clientSideRowModel,o=new Set;for(const h of n){if(h.footer||h.rowTop===null&&h!==s.getRowNode(h.id))continue;if(i&&h.parent!==i){if(EV(h,i))continue;h.treeParent=i,r=!0}const p=Fk(h);p&&o.add(p)}if(!r&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),u=l&&of(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),u?u.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let r=QR(t);r<0||r>=i?r=i:n||++r;let s=r,o=Math.min(r,i-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,r,o]}reorderLeafChildren(e,t,n,i){let r=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const u=s[l];e.has(u)||(u.sourceRowIndex!==o&&(u.sourceRowIndex=o,s[o]=u,r=!0),++o)}let a=i;for(let l=i;l>=n;--l){const u=s[l];e.has(u)||(u.sourceRowIndex!==a&&(u.sourceRowIndex=a,s[a]=u,r=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,r=!0),++o;return r}},bV=(e,t,n)=>t?gf(e,-1,n[0]):gf(e,1,Nt(n)),gf=(e,t,n)=>{if(n){const i=e.getRowCount();let r=n.rowIndex+t;for(;r>=0&&r<i;){const s=e.getRow(r);if(!s||!s.footer)return s;r+=t}}},EV=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},TV=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},QR=e=>{const t=Fk(e);return t!==void 0?t.sourceRowIndex:-1},Fk=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},DV=class extends xe{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new xV(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,s){return new wV(e,t,n,i,r,s)}createRowDragCompForRow(e,t){if(ll(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,s){const o=this.gos;return o.get("rowDragManaged")&&(!Hn(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s)}},RV=class extends xe{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,r=t!==this.position,s=i!==this.uiLevel;(n||r||s)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},Mk={moduleName:"Drag",version:ze,beans:[KB]},FV={moduleName:"DragAndDrop",version:ze,dynamicBeans:{dndSourceComp:dV},icons:{rowDrag:"grip"}},_k={moduleName:"SharedDragAndDrop",version:ze,beans:[$B],dependsOn:[Mk],userComponents:{agDragAndDropImage:gG},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},MV={moduleName:"RowDrag",version:ze,beans:[RV,DV],apiFunctions:{addRowDropZone:hV,removeRowDropZone:fV,getRowDropZoneParams:pV,getRowDropPositionIndicator:gV,setRowDropPositionIndicator:mV},dependsOn:[_k]},_V={moduleName:"HorizontalResize",version:ze,beans:[vV],dependsOn:[Mk]},AV=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",PV=class extends xe{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function kV(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function OV(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var LV=class extends xe{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function IV(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const s=e.indexOf(i),o=e.indexOf(r);return s-o})}function NV(e){const t=[...e];return e.forEach(n=>{let i=null,r=n.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)i=r,r=r.getParent();i!=null&&(!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function BV(e,t,n,i){const r=i.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],u=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(u))continue;const h=u.filter(g=>r.includes(g));if(o===null)o=h;else if(!Lc(h,o))break;const p=GV(u);(s===null||p<s.fragCount)&&(s={move:l,fragCount:p})}return s}function Ak(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:u,visibleCols:h}=e;let{allMovingColumns:p}=e;t&&(p=NV(p));const g=p.slice();IV(l.getCols(),g);const v=zV({movingCols:g,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:l,visibleCols:h}),C=HV(g,l);if(v.length===0)return;const w=v[0];if(C!==null&&(t||!r)&&!s&&(!n&&w>=C||n&&w<=C))return;const x=BV(v,g,u,h);if(!x)return;const E=x.move;if(!(E>l.getCols().length-g.length))return{columns:g,toIndex:E}}function Pk(e){const{columns:t,toIndex:n}=Ak(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function HV(e,t){const n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,u)=>l-u),r=i[0];return Nt(i)-r!==i.length-1?null:r}function GV(e){function t(i){const r=[];let s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function VV(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function zV(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(T=>T.getColDef().suppressMovable))return[];const u=VV(a,r),h=o.getCols(),p=u.filter(T=>t.includes(T)),g=u.filter(T=>!t.includes(T)),v=h.filter(T=>!t.includes(T));let C=0,w=i;if(n){let T=0;p.forEach(R=>T+=R.getActualWidth()),w-=T}if(w>0){for(let T=0;T<g.length;T++){const R=g[T];if(w-=R.getActualWidth(),w<0)break;C++}n&&C++}let S;if(C>0){const T=g[C-1];S=v.indexOf(T)+1}else S=v.indexOf(g[0]),S===-1&&(S=0);const x=[S],E=(T,R)=>T-R;if(n){let T=S+1;const R=h.length-1;for(;T<=R;)x.push(T),T++;x.sort(E)}else{let T=S;const R=h.length-1;let F=h[T];for(;T<=R&&u.indexOf(F)<0;)T++,x.push(T),F=h[T];T=S-1;const P=0;for(;T>=P;)x.push(T),T--;x.sort(E).reverse()}return x}function OS(e){const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e;let a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function ly(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var ZR=7,LS=100,Jg=LS/2,WV=5,UV=100,jV=class extends xe{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ge(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(const r of i){const s=r.getPinned();if(r.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&un(e.hDirection))return;const a=OS({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const i=e.filter(r=>!r.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),u=Pk({...l,finished:r});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:u,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:u,visibleCols:h}}highlightHoveredColumn(e,t){const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned);let o=null,a=null,l=null;for(const h of s){if(a=h.getActualWidth(),o=this.getNormalisedColumnLeft(h,0,r),o!=null){const p=o+a;if(o<=t&&p>=t){l=h;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let h=s.length-1;h>=0;h--){const p=s[h],g=s[h].getParent();if(!g){l=p;break}const v=g?.getDisplayedLeafColumns();if(v.length){l=Nt(v);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==r?u=0:u=1,JR(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||a==null)return;const l=i.allCols,u=l.indexOf(s),h=l.indexOf(o),p=a===0!==r,g=u<h||u===h&&!p;let v=0;if(p?g&&(v-=1):g||(v+=1),h+v===u)return;const C=l[h+v];if(!C)return;const w=this.getNormalisedColumnLeft(C,20,r);return{fromLeft:g,xPosition:w}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=YV(e);if(!r||!s||i.column||!t)return{firstMovingCol:r,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return OS({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>ZR;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=Ak(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(JR(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,s;this.gos.get("enableRtl")?(r=e<n+Jg,s=e>i-Jg):(s=e<n+Jg,r=e>i-Jg),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),UV),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*WV,e>LS&&(e=LS);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:r,gos:s}=this.beans;if(this.failedMoveAttempts<=ZR+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:s}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function JR(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function YV(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const s=e[r];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-r];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var $V=class extends xe{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new jV(n)),this.bodyDropPivotTarget=this.createManagedBean(new LV(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},KV=class extends xe{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){Me(30,{toIndex:t});return}s?.start();const u=r.getColsForKeys(e);this.doesMovePassRules(u,t)&&(TR(r.getCols(),u,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:i,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!MP(e,t.getColTree())||!(r=>{const s=u=>u?u==="left"||u===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return r.forEach(u=>{const h=s(u.getColDef().lockPosition);o?h>a&&(l=!1):h<a&&(l=!1),a=h}),l})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return TR(i,e,t),i}createBodyDropTarget(e,t){return new $V(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:u}=this.beans,h=t.getBoundingClientRect(),p=h.left,g=_n(n),v=g?h.width:n.getActualWidth(),C=e==="left"!==o.get("enableRtl"),w=OS({x:C?p-20:p+v+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),S=u.focusedHeader;Pk({allMovingColumns:g?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(g){const E=n.getDisplayedLeafColumns();x=C?E[0]:Nt(E)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&S){let E;if(g){const T=n.getGroupId(),R=n.getLeafColumns();if(!R.length)return;const F=R[0].getParent();if(!F)return;E=qV(F,T)}else E=n;E&&u.focusHeaderPosition({headerPosition:{...S,column:E}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=_n(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>QV(t,o.allCols):()=>XV(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),ly(u,!0)},onDragStopped:()=>ly(u,!1),onDragCancelled:()=>ly(u,!1),onGridEnter:g=>{if(a){const{columns:v=[],visibleState:C}=g??{},w=l?x=>!C||C[x.getColId()]:()=>!0,S=v.filter(x=>!x.getColDef().lockVisible&&w(x));r.setColsVisible(S,!0,"uiColumnMoved")}},onGridExit:g=>{if(a){const v=g?.columns?.filter(C=>!C.getColDef().lockVisible)||[];r.setColsVisible(v,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function qV(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function XV(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function QV(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());const r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),Xr(n,a))}),n.forEach(a=>r.push(a));const s=[],o=e.getLeafColumns();for(const a of r)o.indexOf(a)!==-1&&s.push(a);return{columns:r,columnsInSplit:s,visibleState:i,containerType:s[0]?.pinned}}var ZV={moduleName:"ColumnMove",version:ze,beans:[KV,PV],apiFunctions:{moveColumnByIndex:kV,moveColumns:OV},dependsOn:[_k],css:[AV]},JV=class extends xe{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&r.add(u)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},kk={moduleName:"AutoWidth",version:ze,beans:[JV]};function ez(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var tz=class extends xe{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){const t=l=>l.reduce((u,h)=>u+h.getActualWidth(),0),n=(l,u)=>l.map(h=>h.getActualWidth()/u),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),u=o.groupAfterColumns=l.filter(p=>p.isResizable()),h=o.groupAfterStartWidth=t(u);o.groupAfterRatios=n(u,h)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:r,ratios:o,width:t}),a){const p=t-s;h.push({columns:a,ratios:u,width:l-p})}this.beans.colResize?.resizeColumnSets({resizeSets:h,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},nz=class extends xe{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(yn(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),a=r+o,l=[{key:n,newWidth:a}],{pinnedCols:u,ctrlsSvc:h,colResize:p}=s;if(this.column.getPinned()){const g=u?.leftWidth??0,v=u?.rightWidth??0,C=kf(h.getGridBodyCtrl().eBodyViewport)-50;if(g+v+(o-i)>C)return}this.lastResizeAmount=o,p?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},iz=class extends xe{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const u=s.getColDefCol(l.key)||s.getCol(l.key);if(!u)return;if(r.push({width:l.newWidth,ratios:[1],columns:[u]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=a.getColAfter(u);if(!p)return;const g=u.getActualWidth()-l.newWidth,v=p.getActualWidth()+g;r.push({width:v,ratios:[1],columns:[p]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(h=>rz(h)))){if(n){const h=t&&t.length>0?t[0].columns:null;gd(this.eventSvc,h,n,i)}return}const s=[],o=[];t.forEach(h=>{const{width:p,columns:g,ratios:v}=h,C={},w={};g.forEach(E=>o.push(E));let S=!0,x=0;for(;S;){if(x++,x>1e3){Ht(31);break}S=!1;const E=[];let T=0,R=p;g.forEach((P,_)=>{if(w[P.getId()])R-=C[P.getId()];else{E.push(P);const A=v[_];T+=A}});const F=1/T;E.forEach((P,_)=>{const L=_===E.length-1;let A;L?A=R:(A=Math.round(v[_]*p*F),R-=A);const O=P.getMinWidth(),I=P.getMaxWidth();A<O?(A=O,w[P.getId()]=!0,S=!0):I>0&&A>I&&(A=I,w[P.getId()]=!0,S=!0),C[P.getId()]=A})}g.forEach(E=>{const T=C[E.getId()];E.getActualWidth()!==T&&(E.setActualWidth(T,i),s.push(E))})});const a=s.length>0;let l=[];if(a){const{colFlex:h,visibleCols:p,colViewport:g}=this.beans;l=h?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],p.setLeftValues(i),p.updateBodyWidths(),g.checkViewportColumns()}const u=o.concat(l);(a||n)&&gd(this.eventSvc,u,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new nz(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new tz(e,t,n,i)}};function rz(e){const{columns:t,width:n}=e;let i=0,r=0,s=!0;t.forEach(l=>{const u=l.getMinWidth();i+=u||0;const h=l.getMaxWidth();h>0?r+=h:s=!1});const o=n>=i,a=!s||n<=r;return o&&a}var sz={moduleName:"ColumnResize",version:ze,beans:[iz],apiFunctions:{setColumnWidths:ez},dependsOn:[_V,kk]},oz=class extends xe{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},az=class extends Jx{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:u,rangeSvc:h,colResize:p}=o;this.comp=e,r=fp(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,v=s.getProvidedColumnGroup().getLeafColumns();u?.createHoverFeature(r,v,t),h?.createRangeHighlightFeature(r,s,e),r.createManagedBean(new Zx(s,t,o)),r.createManagedBean(new oz(e,s)),p?this.resizeFeature=r.createManagedBean(p.createGroupResizeFeature(e,n,g,s)):e.setResizableDisplayed(!1),r.createManagedBean(new Od(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,v),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Je(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Nt(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),u=r===1,h=r===0;n&&(l?a=u:o=h),i&&(l?o=h:a=u)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,s=r.getProvidedColumnGroup(),o=Je(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,u)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)},showColumnMenu:(l,u)=>i?.showMenuAfterButtonClick(s,l,"columnMenu",u),showColumnMenuAfterMouseClick:(l,u)=>i?.showMenuAfterMouseEvent(s,l,"columnMenu",u),eGridHeader:this.eGui}),a=I9(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=XP(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===me.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function lz(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function cz(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function uz(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function dz(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function hz(e){return e.colGroupSvc?.getColumnGroupState()??[]}function fz(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function pz(e){e.colGroupSvc?.resetColumnGroupState("api")}function gz(e){return e.visibleCols.treeLeft}function mz(e){return e.visibleCols.treeCenter}function vz(e){return e.visibleCols.treeRight}function Cz(e){return e.visibleCols.getAllTrees()}function wz(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var yz=class extends xe{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:r,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=cy(this.treeLeft),this.centerCols=cy(this.treeCenter),this.rightCols=cy(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const i=n.getProvidedColumnGroup().getLevel()+1;i>e&&(e=i);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Po(this.centerCols),t=Po(this.leftCols),n=Po(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?Nt(n):null):(r=t?Nt(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new OP,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return _n(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{_n(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=Po(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}wz(i,s)}),i.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const g=u-1;for(let v=1;v<=g;v++)h.push(t[o+v]);o+=g}let p;n?(p=!1,h.forEach(g=>{n(g)&&(p=!0)})):p=!0,p&&(r.length===0&&s&&(i&&i(a))&&r.push(s),r.push(a)),s=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};cc(this.treeCenter,!1,e),cc(this.treeLeft,!1,e),cc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?Nt(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Po(this.leftCols)}getDisplayedColumnsRightWidth(){return Po(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(_n(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:Nt(s)}else r=e;return(i?n[0]:Nt(n))===r}};function cc(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(_n(r)){const s=t?r.getDisplayedChildren():r.getChildren();cc(s,t,n)}n(r)}}function cy(e){const t=[];return cc(e,!0,n=>{cl(n)&&t.push(n)}),t}var Sz=class extends xe{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Vo(null,t,n=>{bi(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Vo(null,t,i=>{if(bi(i)){const r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i?.start();const a=[];e.forEach(l=>{const u=l.groupId,h=l.open,p=this.getProvidedColGroup(u);p&&p.isExpanded()!==h&&(p.setExpanded(h),a.push(p))}),r.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish()}setColumnGroupOpened(e,t,n){let i;bi(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return Vo(null,this.beans.colModel.getColTree(),n=>{bi(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?Nt(i):i[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();cc(e,!1,t=>{_n(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(_n(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return cc(n,!1,s=>{if(_n(s)){const o=s;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const p=g=>{const v=h;h=g;const C=u[v],S=(_n(C)?C.getProvidedColumnGroup():C).getOriginalParent();if(S==null){for(let E=v;E<g;E++)a.push(u[E]);return}const x=this.createColumnGroup(S,n,o,i,s);for(let E=v;E<g;E++)x.addChild(u[E]);l.push(x)};for(let g=1;g<u.length;g++){const v=u[g],w=(_n(v)?v.getProvidedColumnGroup():v).getOriginalParent(),S=u[h],E=(_n(S)?S.getProvidedColumnGroup():S).getOriginalParent();w!==E&&p(g)}h<u.length&&p(u.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,s,o){const a=r.getUniqueKey(t.groupId||null,null),l=ER(this.beans,t,a),u=new e0(l,a,!1,n);this.createBean(u);const h=this.findExistingGroup(t,s);h&&s.splice(h.idx,1);const p=h?.group;p&&u.setExpanded(p.isExpanded());const g=DP(this.beans,l.children,n+1,e,i,r,s,o);return u.setChildren(g),u}balanceColumnTree(e,t,n,i){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(bi(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let u=t;u<n;u++){const h=i.getUniqueKey(null,null),p=ER(this.beans,null,h),g=new e0(p,h,!0,u);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(r.push(a),e.some(h=>bi(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&bi(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(bi(r)){const s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){const o=new e0(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=rk(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ge(l)?l.reset():(l=new Hf(e,s,o,i),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(_n(r)){const s=r;t[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,_n(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},xz={moduleName:"ColumnGroup",version:ze,dynamicBeans:{headerGroupCellCtrl:az},beans:[Sz],apiFunctions:{getAllDisplayedColumnGroups:Cz,getCenterDisplayedColumnGroups:mz,getColumnGroup:cz,getColumnGroupState:hz,getDisplayNameForColumnGroup:dz,getLeftDisplayedColumnGroups:gz,getProvidedColumnGroup:uz,getRightDisplayedColumnGroups:vz,resetColumnGroupState:pz,setColumnGroupOpened:lz,setColumnGroupState:fz}},bz={tag:"div",cls:"ag-skeleton-container"},Ez=class extends nn{constructor(){super(bz)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Af(t.eParentOfValue)),Af(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");fd(this.getGui(),n)}setupLoading(t){const n=Ln({tag:"div",cls:"ag-skeleton-effect"}),i=t.node.rowIndex;if(i!=null){const o=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${o}%`}this.getGui().appendChild(n);const r=this.getLocaleTextFunc(),s=t.deferRender?r("ariaDeferSkeletonCellLoading","Cell is loading"):r("ariaSkeletonCellLoading","Row data is loading");fd(this.getGui(),s)}refresh(t){return!1}},Tz={moduleName:"CheckboxCellRenderer",version:ze,userComponents:{agCheckboxCellRenderer:SG}},Dz={moduleName:"SkeletonCellRenderer",version:ze,userComponents:{agSkeletonCellRenderer:Ez}};function Rz(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Fz(e){return e.colModel.getColumnDefs()}function Mz(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function _z(e,t){return e.colModel.getColDefCol(t)}function Az(e){return e.colModel.getColDefCols()}function Pz(e,t){return ws(e,t,"api")}function kz(e){return N0(e)}function Oz(e){l9(e,"api")}function Lz(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Iz(e){return e.visibleCols.isPinningLeft()}function Nz(e){return e.visibleCols.isPinningRight()}function Bz(e,t){return e.visibleCols.getColAfter(t)}function Hz(e,t){return e.visibleCols.getColBefore(t)}function Gz(e,t,n){e.colModel.setColsVisible(t,n,"api")}function Vz(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function zz(e){return e.colModel.getCols()}function Wz(e){return e.visibleCols.leftCols}function Uz(e){return e.visibleCols.centerCols}function jz(e){return e.visibleCols.rightCols}function Yz(e){return e.visibleCols.allCols}function $z(e){return e.colViewport.getViewportColumns()}function IS(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||LA.has(r))return;const s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=IS(s):i[r]=s}),i}var Kz=class extends xe{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){const r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,s,o)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,u=s.getOriginalParent(),h=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=r[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],r[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&i.push(l)}),i}createDefFromGroup(e){const t=IS(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=IS(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},qz=class extends xe{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let s=-1;if(e.resizingCols){const C=new Set(e.resizingCols);for(let w=r.length-1;w>=0;w--)if(C.has(r[w])){s=w;break}}let o=!1;const a=r.map((C,w)=>{const S=C.getFlex(),x=S!=null&&S>0&&w>s;return o||(o=x),{col:C,isFlex:x,flex:Math.max(0,S??0),initialSize:C.getActualWidth(),min:C.getMinWidth(),max:C.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,u=a.reduce((C,w)=>C+w.flex,0),h=n;const p=(C,w)=>{C.frozenSize=w,C.col.setActualWidth(w,t),h-=w,u-=C.flex,l-=1},g=C=>C.frozenSize!=null;for(const C of a)C.isFlex||p(C,C.initialSize);for(;l>0;){const C=Math.round(u<1?h*u:h);let w,S=0,x=0;for(const R of a){if(g(R))continue;w=R,x+=C*(R.flex/u);const F=x-S,P=Math.round(F);R.targetSize=P,S+=P}w&&(w.targetSize+=C-S);let E=0;for(const R of a){if(g(R))continue;const F=R.targetSize,P=Math.min(Math.max(F,R.min),R.max);E+=P-F,R.violationType=P===F?void 0:P<F?"max":"min",R.targetSize=P}const T=E===0?"all":E>0?"min":"max";for(const R of a)g(R)||(T==="all"||R.violationType===T)&&p(R,R.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const v=a.filter(C=>C.isFlex&&!C.violationType).map(C=>C.col);if(e.fireResizedEvent){const C=a.filter(S=>S.initialSize!==S.frozenSize).map(S=>S.col),w=a.filter(S=>S.flex).map(S=>S.col);gd(this.eventSvc,C,!0,t,w)}return v}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},Xz=["dateTimeString","dateString","text","number","boolean","date"],Qz=class extends xe{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===me.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=i==null?"":e({column:s,node:null,value:i}),l=r==null?"":e({column:s,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},i=h=>p=>{const{column:g,node:v,value:C}=p;let w=g.getColDef().valueFormatter;return w===h.groupSafeValueFormatter&&(w=h.valueFormatter),this.beans.valueSvc.formatValue(g,v,C,w)};for(const h of Object.keys(e)){const p=e[h],g={...p,groupSafeValueFormatter:nF(p,this.gos)};t[h]=g,n[h]=i(g)}const r=this.gos.get("dataTypeDefinitions")??{},s={};for(const h of Object.keys(r)){const p=r[h],g=this.processDataTypeDefinition(p,r,[h],e);g&&(t[h]=g,p.dataTypeMatcher&&(s[h]=p.dataTypeMatcher),n[h]=i(g))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:u}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=u!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const i of Xz)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s];const a=t[s];if(o&&a&&(o=a),!tF(e,o,s))return;r=eF(o,e)}else{if(n.includes(s)){Me(44);return}const o=t[s];if(!tF(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],i);if(!a)return;r=eF(a,e)}return{...r,groupSafeValueFormatter:nF(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){Me(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Hn(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(uy(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const s=n.get("columnTypes")??{};if(I0(r).some(a=>{const l=s[a.trim()];return l&&uy(l,i)}))return!1}return!uy(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=df(i,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=Jz(a,o);h.rowGroup&&h.rowGroupIndex==null&&(i[s]=h),h.pivot&&h.pivotIndex==null&&(r[s]=h),n.push(h)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&ws(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=xS(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Me(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,s=n[t];i.colFilter?.setColDefPropsForDataType(e,s,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const r=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>Ji(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Sr(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ji(n)??void 0,dateFormatter:n=>Sr(n??null,t)??void 0,valueParser:n=>i0(String(n.newValue))?n.newValue:null,valueFormatter:n=>i0(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&i0(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:dS(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&lH(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>dS(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function eF(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...I0(e.columnTypes),...I0(t.columnTypes)]),n}function tF(e,t,n){return t?t.baseDataType!==e.baseDataType?(Me(46),!1):!0:(Me(45,{parentCellDataType:n}),!1)}function nF(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function Zz(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function uy(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>Zz(e,t,n,i))}function Jz(e,t){const n=kP(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var eW={moduleName:"DataType",version:ze,beans:[Qz],dependsOn:[Tz]},tW={moduleName:"ColumnFlex",version:ze,beans:[qz]},Ok={moduleName:"ColumnApi",version:ze,beans:[Kz],apiFunctions:{getColumnDef:Rz,getDisplayNameForColumn:Mz,getColumn:_z,getColumns:Az,applyColumnState:Pz,getColumnState:kz,resetColumnState:Oz,isPinning:Lz,isPinningLeft:Iz,isPinningRight:Nz,getDisplayedColAfter:Bz,getDisplayedColBefore:Hz,setColumnsVisible:Gz,setColumnsPinned:Vz,getAllGridColumns:zz,getDisplayedLeftColumns:Wz,getDisplayedCenterColumns:Uz,getDisplayedRightColumns:jz,getAllDisplayedColumns:Yz,getAllDisplayedVirtualColumns:$z,getColumnDefs:Fz}};function nW(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var iW=class extends xe{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){const s=e.headerValueGetter;if(s){const o=Je(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return nW(e.field)}return""}},rW=class extends xe{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||sW(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Ge(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=i=>{const r=new Set,s={};for(const o of i){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!r.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const h=a.getProvidedColumnGroup().getLevel();s[h]??(s[h]=[]),s[h].push(a),r.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function sW(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var oW=class extends xe{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=kx("<span>"+s+"</span>");return}if(s==null){this.eGui=Ln({tag:"span"});return}this.eGui=s}}return n}},aW={moduleName:"CellRendererFunction",version:ze,beans:[oW]},lW=class extends xe{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const s=(o,a,l,u)=>{this.agGridDefaults[o]=a,(l||u)&&(this.agGridDefaultOverrides[o]={params:l,processParams:u})};for(const o of Object.keys(n)){let a=n[o];if(sB(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:u,processParams:h}=a;s(o,l,u,h)}else s(o,a)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(i))this.dynamicBeans[s]=i[s]}if(r?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,u,h)=>({componentFromFramework:l,component:a,params:u,processParams:h}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const s=this.jsComps[t];if(s){const a=i.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(io(279,{name:e}));const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??io(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},cW=23,uW=class extends xe{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===cW&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},dW=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',sb=typeof window!="object"||!window?.document?.fonts?.forEach,Cd=(e,t,n,i,r,s)=>{if(sb)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let o=ed.map.get(t);if(o||(o=[],ed.map.set(t,o)),o.find(h=>h.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:r};let u;for(const h of o){if(h.priority>r)break;u=h}if(u){u.el.insertAdjacentElement("afterend",a);const h=o.indexOf(u);o.splice(h+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},Lk=(e,t,n)=>{Cd(dW,e,"core",t,0,n),Array.from(J9()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>Cd(r,e,`module-${i.moduleName}`,t,0,n)))},hW=e=>{ed.grids.add(e)},fW=e=>{if(ed.grids.delete(e),ed.grids.size===0){ed.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},iF,ed=(iF=typeof window=="object"?window:{}).agStyleInjectionState??(iF.agStyleInjectionState={map:new WeakMap,grids:new Set}),oo=e=>new Ik(e),Xa="$default",pW=0,Ik=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[Xa]:{...n[Xa]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){const s=`ag-theme-${this.feature??"part"}-${++pW}`;typeof r=="function"&&(r=r()),r=`:where(.${s}) {
${r}
}
`;for(const o of this.cssImports??[])r=`@import url(${JSON.stringify(o)});
${r}`;i={css:r,class:s}}else i=!1;this._inject=i}return i&&e&&Cd(i.css,e,i.class,t,1,n),i?i.class:!1}},gW=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),Nk=e=>`--ag-${gW(e)}`,ao=e=>`var(${Nk(e)})`,mW=(e,t,n)=>Math.max(t,Math.min(n,e)),vW=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Gs=e=>({ref:"accentColor",mix:e}),Gr=e=>({ref:"foregroundColor",mix:e}),Yr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),CW=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ki={ref:"backgroundColor"},Lu={ref:"foregroundColor"},ko={ref:"accentColor"},Y0={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Gr(.15),chromeBackgroundColor:Yr(.02),browserColorScheme:"light"},wW={...Y0,textColor:Lu,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ki,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ko,rangeSelectionBackgroundColor:Gs(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Gs(.5),rangeHeaderHighlightColor:CW(.08),rowNumbersSelectedColor:Gs(.5),rowHoverColor:Gs(.08),columnHoverColor:Gs(.05),selectedRowBackgroundColor:Gs(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Ki,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Ki,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Gr(.7),focusShadow:{spread:3,color:Gs(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Gr(.1),iconButtonActiveColor:ko,iconButtonActiveBackgroundColor:Gs(.28),iconButtonActiveIndicatorColor:ko,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ko,toggleButtonOffBackgroundColor:Yr(.3),toggleButtonSwitchBackgroundColor:Ki,toggleButtonSwitchInset:2,menuBorder:{color:Gr(.2)},menuBackgroundColor:Yr(.03),menuTextColor:Yr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Gr(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:ko},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:Gr(.2)},panelBackgroundColor:Ki,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:Gr(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Gr(.13)},selectCellBackgroundColor:Gr(.07),selectCellBorder:{color:Gr(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Ki,filterPanelApplyButtonBackgroundColor:ko,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Lu,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Lu,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Gr(.15),statusBarLabelColor:Lu,statusBarLabelFontWeight:500,statusBarValueColor:Lu,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},yW=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",Bk={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},SW={...Bk,cellBatchEditTextColor:"#f3d0b3"},xW=()=>oo({feature:"batchEditStyle",params:Bk,css:yW}),bW=xW(),EW=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",TW={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},DW=()=>oo({feature:"buttonStyle",params:{...TW,buttonBackgroundColor:Ki,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:ko}},css:EW}),RW=DW(),FW=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",MW=()=>oo({feature:"columnDropStyle",css:FW}),Hk=MW(),_W=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],AW=vW(e=>(e=e.toLowerCase(),_W.find(t=>e.endsWith(t.toLowerCase()))??"length")),Xv=e=>typeof e=="object"&&e?.ref?ao(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,ob=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=ao(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?ao(e.onto):"transparent"}, ${t} ${mW(e.mix*100,0,100)}%)`}return!1},PW=Xv,Gu=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${ao(n)} `)})`:e&&"ref"in e?ao(e.ref):!1,kW=Xv,NS=(e,t)=>typeof e=="string"?e:e===!0?NS({},t):e===!1?t==="columnBorder"?NS({color:"transparent"},t):"none":e&&"ref"in e?ao(e.ref):Gk(e.style??"solid")+" "+Gu(e.width??{ref:"borderWidth"})+" "+ob(e.color??{ref:"borderColor"}),OW=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?ao(e.ref):[Gu(e.offsetX??0),Gu(e.offsetY??0),Gu(e.radius??0),Gu(e.spread??0),ob(e.color??{ref:"foregroundColor"})].join(" "),Gk=Xv,Vk=e=>typeof e=="string"?e.includes(",")?e:rF(e):e&&"googleFont"in e?Vk(e.googleFont):e&&"ref"in e?ao(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),rF(t))).join(", "):!1,rF=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),LW=Xv,zk=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?zk({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?ao(e.ref):!1,IW=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ht(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?ao(e.ref):!1,NW={color:ob,colorScheme:PW,length:Gu,scale:kW,border:NS,borderStyle:Gk,shadow:OW,image:zk,fontFamily:Vk,fontWeight:LW,duration:IW},BW=(e,t)=>{const n=AW(e);return NW[n](t,e)},HW=()=>new Wk().withPart(RW).withPart(Hk).withPart(bW),Wk=class Uk{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Ik?new Uk([...this.parts,t]):(rf(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(oo({feature:t}))}withParams(t,n=Xa){return this.withPart(oo({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(sb)return;VW(),Lk(t,n,i);const s=GW(this);if(s.length>0)for(const o of s)r&&WW(o,i);for(const o of this.parts)o.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=sF(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Xa]:{...wW}};for(const i of sF(this.parts))for(const r of Object.keys(i.modeParams)){const s=i.modeParams[r];if(s){const o=n[r]??(n[r]={}),a=new Set;for(const l of Object.keys(s)){const u=s[l];u!==void 0&&(o[l]=u,a.add(l))}if(r===Xa)for(const l of Object.keys(n)){const u=n[l];if(l!==Xa)for(const h of a)delete u[h]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const u=o[l];if(l!==Xa){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=p,s+=p}for(const h of Object.keys(u).sort()){const p=u[h],g=BW(h,p);if(g===!1)Ht(107,{key:h,value:p});else{const v=Nk(h),C=v.replace("--ag-","--ag-inherited-");r+=`	${v}: var(${C}, ${g});
`,s+=`	${C}: var(${v});
`}}l!==Xa&&(r+=`}
`,s+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},sF=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},GW=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},oF=!1,VW=()=>{if(!oF){oF=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},zW=new Set,WW=async(e,t)=>{zW.add(e);const n=`@import url('https://${UW}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Cd(n,document.head,`googleFont:${e}`,void 0,0,t)},UW="fonts.googleapis.com",jW='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',YW=()=>oo({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ki,checkboxUncheckedBorderColor:Yr(.3),checkboxCheckedBackgroundColor:ko,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ki,checkboxIndeterminateBackgroundColor:Yr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ki,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:jW}),$W=YW(),jk=()=>({...Y0,...SW,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Yr(.05),rowHoverColor:Gs(.15),selectedRowBackgroundColor:Gs(.2),menuBackgroundColor:Yr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Lu,findMatchColor:Ki,findActiveMatchColor:Ki,checkboxUncheckedBorderColor:Yr(.4),toggleButtonOffBackgroundColor:Yr(.4),rowBatchEditBackgroundColor:Yr(.1)}),KW=()=>({...jk(),backgroundColor:"#1f2836"}),qW=()=>oo({feature:"colorScheme",params:Y0,modeParams:{light:Y0,dark:jk(),"dark-blue":KW()}}),XW=qW(),Yk={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},$k={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},QW=(e={})=>{let t="";for(const n of[...Object.keys(Yk),...Object.keys($k)]){const i=ZW(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},ZW=(e,t=1.5)=>{const n=$k[e];if(n)return n;const i=Yk[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},JW=(e={})=>oo({feature:"iconSet",css:()=>QW(e)}),eU=JW(),tU=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',nU=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",iU={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},rU=()=>oo({feature:"inputStyle",params:{...iU,inputBackgroundColor:Ki,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ko},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Yr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>tU+nU}),sU=rU(),oU='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',aU={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},lU=()=>oo({feature:"tabStyle",params:{...aU,tabBarBorder:!0,tabBarBackgroundColor:Gr(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ki},css:oU}),cU=lU(),uU=()=>HW().withPart($W).withPart(XW).withPart(eU).withPart(cU).withPart(sU).withPart(Hk).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),dU=uU(),hU={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},fU={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},pU={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},aF={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},lF={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},cF={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},dy={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},uF={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},gU=0,mU=class extends xe{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++gU}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(aF),this.getSizeEl(lF),this.getSizeEl(cF),this.getSizeEl(dy),this.getSizeEl(uF),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>fW(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(uF)}getRowBorderWidth(){return this.getCSSVariablePixelValue(dy)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(aF)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(lF)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(hU)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(fU),n=this.getCSSVariablePixelValue(pU);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(cF)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const s of Array.from(i.classList))s.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${s}`:s);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Cd(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===hy?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Ln({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=Ln({tag:"div"});const{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${hy}px)`)):t.style.width=`var(${e.cssName}, ${hy}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!r&&Me(9,{variable:e});const o=ca(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(dy);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let s;if(r==="legacy")s=void 0;else{const o=r??dU;o instanceof Wk?s=o:Ht(240,{theme:o})}if(s!==i){if(s){hW(this),Lk(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)Cd(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=Ln({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}sb||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ht(r?106:239)}},hy=15538,vU=class extends xe{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new gc}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Je(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Je(this.gos,e))}};function Kk(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let r=t.getParent();for(;r&&r.getProvidedColumnGroup().getLevel()>n;)r=r.getParent();const s=t.isSpanHeaderHeight();return!r||s&&r.isPadding()?{column:t,headerRowIndex:i}:{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel()}}var CU=class extends xe{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=ti(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Nt(a||[]).type==="filter",u=Qs(this.beans)-1;let h=-1,p=n;for(;p;)h++,p=p.getParent();let g=h;return t&&l&&g===u-1&&g++,g===-1?null:{headerRowIndex:g,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:r}=n;if(!r)return!1;const{headerRowIndex:s}=r,o=r.column,a=Qs(this.beans),l=this.getHeaderRowType(s),u=i.headerGroupRowCount;let{headerRowIndex:h,column:p,headerRowIndexWithoutSpan:g}=e==="UP"?wU(l,o,s):yU(o,s,u),v=!1;return h<0&&(h=0,p=o,v=!0),h>=a?(h=-1,this.currentHeaderRowWithoutSpan=-1):g!==void 0&&(this.currentHeaderRowWithoutSpan=g),!v&&!p?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:p},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,s={...i.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=r.getCallback("tabToNextHeader");if(t&&l){const u=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(u){const{headerRowIndex:h}=i.focusedHeader||{};h!=null&&h!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=h)}return u}return o||!t?i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const i=this.beans,r=e.headerRowIndex;let s=null,o;const a=Qs(i),l=this.beans.visibleCols.allCols;if(t==="Before"){if(r<=0)return!1;s=Nt(l),o=r-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=r+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:u,headerRowIndex:h}=Kk(this.beans,s,o);return h>=a&&(h=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(_n(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?Nt(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let r=e.column;if(r instanceof Hf){const l=r.getDisplayedLeafColumns();r=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?i.getColBefore(r):i.getColAfter(r);if(!s)return;const o=i.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof Oc&&s.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function wU(e,t,n){const i=n-1;if(e!=="filter"){const r=t instanceof Oc&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>i||r&&s.isPadding());)s=s.getParent();if(s)return r?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}function yU(e,t,n){const i=t+1,r={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof Hf){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let o=e.getDisplayedChildren()[0];if(o instanceof Hf&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}r.column=o,o instanceof Oc&&o.isSpanHeaderHeight()&&(r.headerRowIndex=n,r.headerRowIndexWithoutSpan=i)}return r}var SU=class extends xe{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(FB(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(xn(this.beans),vk)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=xn(this.beans);return this.isDomDataPresentInHierarchy(e,W0)?!0:this.isDomDataPresentInHierarchy(e,U0)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(aP(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Ho(i),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:r,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:UP(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),lc(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const l=this.focusedHeader,u=Qs(this.beans);if(n){const h=this.gos.getCallback("tabToNextHeader");h&&(a=this.getHeaderPositionFromUserFunc({userFunc:h,direction:t,currentPosition:l,headerPosition:a,headerRowCount:u}))}else{const h=this.gos.getCallback("navigateToNextHeader");if(h&&r){const p={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:u,event:r};a=h(p)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(lc(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=Qs(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:h}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});h?.scrollToColumn(o,n);const g=u.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return h&&g&&(r!=null||i)&&(h.currentHeaderRowWithoutSpan=r??-1),g}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=Kk(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Qs(this.beans)-1,n=Nt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ho(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Sc(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(Yv(this.beans))return t&&!lc(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:vd(this.beans,t);const r=t?hB(this.beans):dB(this.beans);if(r){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=r,l=ea(this.beans,r);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const u=this.gos.get("enableRtl");let h;return!i||i.key===me.TAB?h=u?me.LEFT:me.RIGHT:h=i.key,this.beans.navigation?.navigateToNextCell(null,h,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Ho(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Qs(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},xU=class extends xe{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:o7();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},bU=class extends xe{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},o0=new Set(["gridPreDestroyed","fillStart","pasteStart"]),EU=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],ab=EU.reduce((e,t)=>(e[t]=P7(t),e),{}),qh=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),TU={tag:"span",cls:"ag-sort-indicator-container",children:[qh("Order","order"),qh("Asc","ascending-icon"),qh("Desc","descending-icon"),qh("Mixed","mixed-icon"),qh("None","none-icon")]},lb=class extends nn{constructor(e){super(),this.eSortOrder=qe,this.eSortAsc=qe,this.eSortDesc=qe,this.eSortMixed=qe,this.eSortNone=qe,e||this.setTemplate(TU)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Kr(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&yn(e,o==="asc",{skipAriaHidden:!0}),t&&yn(t,o==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=o==null;yn(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Us(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";yn(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=r>=0&&s;yn(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():br(e)}},DU={selector:"AG-SORT-INDICATOR",component:lb},Vf=["asc","desc",null],RU=class extends xe{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:s}=this.beans,o=Us(r);let a=[e];if(o&&e.getColDef().showRowGroup){const p=s?.getSourceColumnsForGroupColumn?.(e)?.filter(g=>g.isSortable());p&&(a=[e,...p])}a.forEach(h=>this.setColSort(h,t,i));const l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),u=[];if(!l){const h=this.clearSortBarTheseColumns(a,i);u.push(...h)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(i,u)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Us(t),s=i?.getShowRowGroupCol(e.getId()),o=r&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(h=>this.setColSortIndex(h,null));const l=a.filter(h=>r&&h.getColDef().showRowGroup?!1:h!==o);(o.getSort()?[...l,o]:l).forEach((h,p)=>this.setColSortIndex(h,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Vf,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=[];if(t.forAllCols(u=>{u.getSort()&&r.push(u)}),t.isPivotMode()){const u=Us(e);r=r.filter(h=>{const p=!!h.getAggFunc(),g=!h.isPrimary(),v=u?n?.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return p||g||v})}const s=i?.columns.filter(u=>!!u.getSort())??[],o={};r.forEach((u,h)=>o[u.getId()]=h),r.sort((u,h)=>{const p=u.getSortIndex(),g=h.getSortIndex();if(p!=null&&g!=null)return p-g;if(p==null&&g==null){const v=o[u.getId()],C=o[h.getId()];return v>C?1:-1}else return g==null?-1:1});const a=Us(e)&&!!s.length;a&&(r=[...new Set(r.map(u=>n?.getShowRowGroupCol(u.getId())??u))]);const l=new Map;return r.forEach((u,h)=>l.set(u,h)),a&&s.forEach(u=>{const h=n.getShowRowGroupCol(u.getId());l.set(u,l.get(h))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Us(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-i<50;o||l||this.progressSortFromEvent(t,s)}});const r=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>t.getSort()==u.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new lb(e)}getSortIndicatorSelector(){return DU}},td={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},FU=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),MU={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?td[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:td[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?td[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},_U=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return io(262);if(t.smallLeft)return io(263);if(t.smallRight)return io(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(r=>!Vf.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${Vf.map(M0).join()}], currently it includes [${i.map(M0).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),AU={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},PU=()=>Object.keys(AU),kU=()=>({objectName:"colDef",allProperties:PU(),docsUrl:"column-properties/",deprecations:FU(),validations:_U()}),OU=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],LU=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],IU=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],qk=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],NU=["theme","rowSelection"],BU=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Xk=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],HU=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],GU=()=>[...IU,...LU,...OU,...qk,...HU,...Xk,...BU,...NU],VU=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Is(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var zU={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},WU=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Is("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Is("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Is("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return io(262);if(n.smallLeft)return io(263);if(n.smallRight)return io(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Is("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Is("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Is("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Is("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Is("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(s=>!Vf.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${Vf.map(M0).join()}], currently it includes [${r.map(M0).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!r&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Is("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Is("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return Xk.forEach(n=>{t[n]={expectedType:"boolean"}}),qk.forEach(n=>{t[n]={expectedType:"number"}}),Ni(t,e),t},UU=()=>({objectName:"gridOptions",allProperties:[...GU(),...Object.values(ab)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:VU(),validations:WU()}),jU=0,YU=0,$U=class extends xe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=YU++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new gc,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=o0.has(t);if(i&&!e||!i&&e||!KU(t))return;const r=(s,o)=>{const a=ab[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)r(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??IA[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ge(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:jU++,properties:[]},r=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const u=t||typeof l=="object"&&n==="api",h=s[a];if(u||h!==l){s[a]=l;const p={type:a,currentValue:l,previousValue:h,changeSet:i,source:n};r.push(p)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{vc(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,zU),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,MU),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Ht(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Vx(),rowModelType:this.get("rowModelType"),isUmd:nB()}}isModuleRegistered(e){return bS(e,this.gridId,this.get("rowModelType"))}};function KU(e){return!!ab[e]}function Qk(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var qU=Qk(!0),XU=Qk(!1),QU=class extends nn{constructor(){super(...arguments),this.eFilter=qe,this.eFilterButton=qe,this.eSortIndicator=qe,this.eMenu=qe,this.eLabel=qe,this.eText=qe,this.eSortOrder=qe,this.eSortAsc=qe,this.eSortDesc=qe,this.eSortMixed=qe,this.eSortNone=qe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Ni(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?qU:XU}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=L9(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Pd(t))}addInIcon(e,t,n){const i=Kr(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Jo(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=yr(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,a=yr(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();yn(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Jo(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},ZU={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},JU=class extends nn{constructor(){super(ZU),this.agOpened=qe,this.agClosed=qe,this.agLabel=qe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Me(89)}workOutInnerHeaderGroupComponent(e,t){const n=N9(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=l=>{if(Go(l))return;const u=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const s=l=>{wc(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();yn(e,i),yn(t,!i)}else yn(e,!1),yn(t,!1)}addInIcon(e,t){const n=Kr(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;yn(t,!1),yn(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Ge(t)&&!i&&(this.agLabel.textContent=Pd(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},ej={moduleName:"ColumnHeaderComp",version:ze,userComponents:{agColumnHeader:QU},icons:{menu:"menu",menuAlt:"menu-alt"}},tj={moduleName:"ColumnGroupHeaderComp",version:ze,userComponents:{agColumnGroupHeader:JU},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},nj=class extends xe{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Me(92)}createTask(e,t,n,i,r=!1){this.verify();let s=n;i&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:r,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,u=n.list,h=i.list,p=Date.now();let g=0;const v=e<=0,C=o.getScrollFeature();for(;v||g<e;){if(!C.scrollGridIfNeeded()){let S;if(l.length)this.sortTaskList(t),S=l.pop().task;else if(u.length)this.sortTaskList(n),S=u.pop().task;else if(h.length)a.wrapOutgoing(()=>{for(;(v||g<e)&&!C.scrollGridIfNeeded();){if(h.length)this.sortTaskList(i),S=h.pop().task,S();else break;g=Date.now()-p}}),S=()=>{};else if(r.length)S=r.pop();else break;S()}g=Date.now()-p}l.length||u.length||h.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ua(this.beans,e)}isQueueEmpty(){return!this.ticking}},ij={moduleName:"AnimationFrame",version:ze,beans:[nj]},rj=class extends xe{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ic())return;const t=(n,i,r)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(r?.target??null);o?.column&&o.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ic()||CP("dblclick"))return!1;const i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:s,eFilterButton:o}=e,a=new zl(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&Ge(s)&&r.enableMenu,h=u?new zl(s,!0):a;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){const p=u?"tap":"longTap",g=v=>r.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(h,{[p]:g})}if(r.enableSorting){const p=g=>{const v=g.touchStart.target;l&&(s?.contains(v)||o?.contains(v))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:p})}if(r.enableFilterButton&&o){const p=new zl(o,!0);e.addManagedListeners(p,{tap:()=>r.showFilter(o)}),e.addDestroyFunc(()=>p.destroy())}e.addDestroyFunc(()=>a.destroy()),u&&e.addDestroyFunc(()=>h.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new zl(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new zl(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!ic())return;const i=new zl(t),r=s=>{Bf(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},sj={moduleName:"Touch",version:ze,beans:[rj]},oj=class extends xe{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===me.UP,i=e===me.DOWN,r=e===me.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:u,pinnedRowModel:h}=this.beans,{rowPinned:p}=t;if(n||i)p&&h?n?o=0:o=p==="top"?h.getPinnedTopRowCount()-1:h.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const g=l.get("enableRtl");o=t.rowIndex,s=(r!==g?u.allCols:[...u.allCols].reverse()).find(C=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:C}))}return s?{rowIndex:o,rowPinned:p,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case me.UP:n=this.getCellAbove(n);break;case me.DOWN:n=this.getCellBelow(n);break;case me.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case me.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Me(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=MR(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=H0(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const a=MR(this.beans,e);if(un(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Nt(r);const l=H0(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(un(l)||!l.rowPinned&&!(i?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function aj(e){return e.focusSvc.getFocusedCell()}function lj(e){return e.focusSvc.clearFocusedCell()}function cj(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function uj(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function dj(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function hj(e,t,n=!1){const i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var fj=class extends xe{constructor(){super(),this.beanName="navigation",this.onPageDown=yR(this.onPageDown,100),this.onPageUp=yR(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=YB(this.gos,e);let a=!1;switch(n){case me.PAGE_HOME:case me.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case me.PAGE_DOWN:case me.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===me.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:i,focusColumn:r,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;Ge(n)&&!n.isPinned()&&a.ensureColumnVisible(n),Ge(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(i);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:i,column:r,rowPinned:o,forceBrowserFocus:!0}),u?.setRangeToCell({rowIndex:i,rowPinned:o,column:r})}onPageDown(e){const t=this.beans,n=fy(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,a=r.getPixelOffset(),l=n.top+i,u=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=fy(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),u=r.getRow(e.rowIndex),h=n?u?.rowHeight-s-l:s-l,p=u?.rowTop+h;let g=r.getRowIndexAtPixel(p+l);if(g===e.rowIndex){const C=n?-1:1;t=g=e.rowIndex+C}let v;n?(v="bottom",g<o&&(g=o),t<o&&(t=o)):(v="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(g))&&(t=g,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=s.getRow(l);if(u){const h=u.rowHeight??0;if(a+h>i)break;a+=h}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=fy(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i,rowPinned:r}=n,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s,rowPinned:r})}onHomeOrEndKey(e){const t=e===me.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,s=n.allCols,o=t?i.getFirstRow():i.getLastRow(),a=r.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:u,rowPinned:h}=e.getRowPosition();(h?u===0:u===o.getFirstRow())&&(l.get("headerHeight")===0||lc(r)?vd(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Zu&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||vd(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=of(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){const{editSvc:r,focusSvc:s}=this.beans;let o;const a=e instanceof Zu?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?o=r?.moveToNextCell(a,t,n,i):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let r;if(e instanceof j0){if(r={...e.getRowPosition(),column:t?i[0]:Nt(i)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(r.column=o.column)}}else r=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Zu)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return Ge(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:u,rangeSvc:h}=s;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=o.getNextTabbedCell(r,t);const p=a.getCallback("tabToNextCell");if(Ge(p)){const w=p({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(w===!0)r=e;else{if(w===!1)return!1;r={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const C=Qs(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+r.rowIndex,column:r.column},fromCell:!0}),null}const g=a.get("editType")==="fullRow";if(n&&(!g||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const v=of(s,r);if(!v){const C=u.getRowByPosition(r);if(!C||!C.isFullWidth()||n)continue;return{...C.getRowPosition(),column:r?.column}}if(!o.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(r),h?.setRangeToCell(r),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)u.get("enableRtl")?t===me.LEFT&&(r=this.getLastCellOfColSpan(r)):t===me.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),s=un(r);if(s&&e&&e.key===me.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const p=u.getCallback("navigateToNextCell");if(Ge(p)){const v=p({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});Ge(v)?r={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:r=null}}if(!r)return;if(r.rowIndex<0){const p=Qs(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:p+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(r);h?this.focusPosition(h):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=of(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=r.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Nt(o):o[0])};this.focusPosition(u);const h=t??(l!=null&&cB(u,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!ea(this.beans,e)}getLastCellOfColSpan(e){const t=of(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Nt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=uP(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&un(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function fy(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var pj={moduleName:"KeyboardNavigation",version:ze,beans:[fj,oj,CU],apiFunctions:{getFocusedCell:aj,clearFocusedCell:lj,setFocusedCell:cj,setFocusedHeader:hj,tabToNextCell:uj,tabToPreviousCell:dj}},gj=class extends xe{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},mj=class extends xe{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},vj=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",Cj=class extends xe{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(yn(n,t),no(n,e))}},wj=class extends xe{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=vi(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=kf(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:s}=n;let o=r;!o.length&&!s||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!il(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new Cj(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!e?.length)return;if(vi(o,"print")){Me(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const h=i.getCol(u);h&&h.getPinned()!==a&&(this.setColPinned(h,a),l.push(h))}),l.length&&(s.refresh(n),AP(this.eventSvc,l,n)),r?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(l&&n||!l&&i)?s+u:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,s=kf(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,u=0;const h=0,p=[];let g=i-h-e;for(;(u<o.length||l<a.length)&&g>0;){if(l<a.length){const v=a[l++];if(v.colDef.lockPinned){r=!0;continue}g-=v.getActualWidth(),p.push(v)}if(u<o.length&&g>0){const v=o[u++];if(v.colDef.lockPinned){r=!0;continue}g-=v.getActualWidth(),p.push(v)}}return{columns:p,hasLockedPinned:r}}},yj={moduleName:"PinnedColumn",version:ze,beans:[wj],css:[vj]},Sj=class extends xe{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=pi(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=ti(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),HA(n,"polite"),YN(n,"additions text"),jN(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(br(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},xj={moduleName:"Aria",version:ze,beans:[Sj]};function bj(e){e.overlays?.showLoadingOverlay()}function Ej(e){e.overlays?.showNoRowsOverlay()}function Tj(e){e.overlays?.hideOverlay()}var Dj=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",Rj={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},Zk=class extends nn{constructor(){super(Rj),this.eOverlayWrapper=qe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(Dj)}handleKeyDown(e){if(e.key!==me.TAB||e.defaultPrevented||Go(e))return;const t=this.beans;if(Ic(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Nt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=vd(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=r0;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new $x(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=xn(this.beans);r&&!cP(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{s.refresh?.(Je(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&Sc(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),br(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=xn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},Fj={selector:"AG-OVERLAY-WRAPPER",component:Zk},Mj=class extends xe{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Hn(this.gos),this.isServerSide=!this.isClientSide&&kc(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Me(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return Fj}getOverlayWrapperCompClass(){return Zk}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(U9(this.beans.userCompFactory,Je(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(j9(this.beans.userCompFactory,Je(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},_j={moduleName:"Overlay",version:ze,userComponents:{agLoadingOverlay:cG,agNoRowsOverlay:dG},apiFunctions:{showLoadingOverlay:bj,showNoRowsOverlay:Ej,hideOverlay:Tj},beans:[Mj]},Aj=class extends xe{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=s7(),vc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;vc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},Pj=400,kj=class extends xe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ll(this.gos)?n():i()}),ll(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=vi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Oj(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=vi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:r,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i?.forEachPinnedRow(t,(l,u)=>{const h=e[u];h&&i.getPinnedRowById(h.rowNode.id,t)===void 0&&(h.destroyFirstPass(),h.destroySecondPass()),l.id in o&&n?(e[u]=o[l.id],delete o[l.id]):e[u]=new j0(l,r,!1,!1,s)});const a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&$u(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(io(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Qs(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Je(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=H0(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const r=this.getRowByPosition(i);if(r?.isAlive())return{...r.getRowPosition(),column:e.column};i=H0(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){const r={force:n,newData:!1,suppressFlash:i};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=BS(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return HS(r,t)})}getCellCtrls(e,t){let n;Ge(t)&&(n={},t.forEach(r=>{const s=this.colModel.getCol(r);Ge(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let r;const s=this.stickyRowFeature;s&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const h=s.extraTopHeight+s.extraBottomHeight;h&&this.updateContainerHeights(h)}const u=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(i&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){const h=t?.getFocusCellToUseAfterRefresh();r!=null&&h==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const r=o=>{const a=o.rowNode.rowIndex;a==null||a===i||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))r(o);if(e)for(const o of Object.values(e))r(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;r?.active&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=BS(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!HS(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),Ge(r)&&Ge(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),Ge(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),Pj))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=oc(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const h=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let v=!1,C,w;do{const R=t.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:P}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,L=p.getVScrollPosition(),A=L.top,O=L.bottom;g?(C=F+_,w=P+_):(C=Math.max(A+R-h,F)+_,w=Math.min(O+R+h,P)+_),this.firstVisibleVPixel=Math.max(A+R,F)+_,this.lastVisibleVPixel=Math.min(O+R,P)+_,v=this.ensureAllRowsInRangeHaveHeightsCalculated(C,w)}while(v);let S=n.getRowIndexAtPixel(C),x=n.getRowIndexAtPixel(w);const E=t.getFirstRow(),T=t.getLastRow();S<E&&(S=E),x>T&&(x=T),i=S,r=x}const s=vi(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>a&&(r=i+a);const l=i!==this.firstRenderedRow,u=r!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ua(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),s=this.editSvc?.isEditing(e),o=i.detail;return r||s||o?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;const r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new j0(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},Oj=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Xr(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Xr(this.entriesList,e)}getEntries(){return this.entriesList}};function BS(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function HS(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Lj=class extends xe{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Us(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Us(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",u=this.getValue(i,a.column),h=this.getValue(r,a.column);let p;const g=this.getComparator(a,i);if(g?p=g(u,h,i,r,l):p=HN(u,h,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(hP(s,i.isPivotActive())){const u=e.allLeafChildren?.[0];return u?n.getValue(t,u,!1):void 0}const l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Ij(e){e.sortSvc?.onSortChanged("api")}var Jk={moduleName:"Sort",version:ze,beans:[RU,Lj],apiFunctions:{onSortChanged:Ij},userComponents:{agSortIndicator:lb},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Nj=class extends xe{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),vc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,qu(e.source))}}};function Bj(e){e.valueCache?.expire()}function Hj(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(un(s))return null;const o=e.valueSvc.getValueForDisplay(s,i,r);return r?o.valueFormatted??Pd(o.value):o.value}var Gj="paste",Vj=class extends xe{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Hn(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Gj||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Gf(a,o);l.addParentNode(i.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{r.push(u),u.sibling&&r.push(u.sibling)})}n.refreshCells({rowNodes:r})}},zj=class extends xe{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ht(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Ht(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Wj=class extends xe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Uj={moduleName:"ValueCache",version:ze,beans:[Wj],apiFunctions:{expireValueCache:Bj}},jj={moduleName:"Expression",version:ze,beans:[zj]},Yj={moduleName:"ChangeDetection",version:ze,beans:[Vj]},$j={moduleName:"CellApi",version:ze,apiFunctions:{getCellValue:Hj}},em={checkSiblings:!0},Kj=class extends xe{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=kc(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const w=s.getGroupValue(t,e);if(w==null)return{value:null,valueFormatted:null};if(!n)return{value:w.value,valueFormatted:null};const S=s.formatAndPrefixGroupColValue(w,e,i);return{value:w.value,valueFormatted:S}}if(!e)return{value:t.key,valueFormatted:null};const u=t.leafGroup&&this.colModel.isPivotMode(),h=t.group&&t.expanded&&!t.footer&&!u,p=this.gos.get("groupSuppressBlankHeader")||!t.sibling,g=h&&!p,v=this.getValue(e,t,g,r),C=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:v,valueFormatted:C?this.formatValue(e,t,v):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,o=e.getColId();let a=t.data;if(this.hasEdit&&i==="ui"){const w=this.editSvc;if(w.isRowEditing(t,em)&&(a=w.getRowDataValue(t,em)),w.isEditing()){const S=w.getCellDataValue({rowNode:t,column:e},!0);if(S!==void 0)return S}}let l;const u=r.showRowGroup;if(typeof u=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(u)??-1)>t.level)return null;const h=typeof u!="string"||!t.group,p=t.groupData&&o in t.groupData,g=!n&&t.aggData&&t.aggData[o]!==void 0,v=this.isSsrm&&n&&!!r.aggFunc,C=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&g)l=t.aggData[o];else if(this.isTreeData&&r.valueGetter)l=this.executeValueGetter(r.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=df(a,s,e.isFieldContainsDots());else if(p)l=t.groupData[o];else if(g)l=t.aggData[o];else if(r.valueGetter&&!v){if(!h)return l;l=this.executeValueGetter(r.valueGetter,a,e,t)}else if(C)l=df(a,t.field,e.isFieldContainsDots());else if(s&&a&&!v){if(!h)return l;l=df(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const w=l.substring(1);l=this.executeValueGetter(w,a,e,t)}return l}parseValue(e,t,n,i){const r=e.getColDef(),s=r.valueParser;if(Ge(s)){const o=Je(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return Ge(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(i?a=i:r&&(a=l.valueFormatter),a){let u=t?t.data:null;if(t){const p={rowNode:t};if(this.hasEdit){const g=this.editSvc;g.isEditing(p,em)&&(u=g.getRowDataValue(t,em))}}const h=Je(this.gos,{value:n,node:t,data:u,colDef:l,column:e});typeof a=="function"?o=a(h):o=s?s.evaluate(a,h):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,i){const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;un(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(un(s)&&un(o))return Me(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return Me(135),!1;const a=Je(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(Ge(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const u=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,a,u,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,u,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(r=o[a]===n,r||(o[a]=n)):o=o[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o}executeValueGetterWithoutValueCache(e,t,n,i){const r=Je(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let s;return typeof e=="function"?s=e(r):s=this.expressionSvc?.evaluate(e,r),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const s=Je(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&Me(121)),r}},qj={moduleName:"CommunityCore",version:ze,beans:[bU,iV,lW,g9,Aj,yz,vU,$U,h9,mj,gj,kj,Kj,SU,mU,xU,uW,Nj,iW,rW],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:rV,destroy:sV,isDestroyed:oV,getGridOption:aV,setGridOption:lV,updateGridOptions:Dk,isModuleRegistered:cV},dependsOn:[eW,ZV,sz,Jk,ej,xz,tj,_j,Yj,ij,pj,yj,xj,sj,aW,tW,jj,Dz]};function GS(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e;let s=(n??[]).map((l,u)=>({value:l,relevance:Xj(t,l),idx:u}));if(s.sort((l,u)=>l.relevance-u.relevance),i&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&r&&r>0){const u=s[0].relevance*r;s=s.filter(h=>u-h.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function Xj(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],i=[];const r=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=r;a++){i[0]=a;for(let l=1;l<=s;l++){const u=e[a-1],h=t[l-1];if(u.toLocaleLowerCase()===h.toLocaleLowerCase())++o,u===h&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<r/2-10&&++o,i[l]=n[l-1];else{const p=i[l-1],g=n[l],v=n[l-1];i[l]=1+Math.min(p,g,v)}}[n,i]=[i,n]}return n[s]/(o+1)}var e3={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},py=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],Qj={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:py,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...py,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...py,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},Zj={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function Jj(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=Qj[i];r?r.forEach(s=>{const o=Zj[s];(!o||o===t)&&n.push(s)}):n.push(i)}),n}var t3=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,eY=e=>{const t=e.map(i=>`import { ${mf(i)} } from '${e3[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>mf(i,!0)).join(", ")} ]); 

For more info see: ${Yu}/modules/`};function mf(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function tY(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>e3[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function n3({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var dF=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s,isUmd:o})=>{const a=Jj(t,r),l=typeof e=="string"?e:sY[e];if(o)return tY(l,a);const u=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),h=u.length>0?`${u.map(g=>mf(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(g=>mf(g)).join(", "):mf(a[0])} is not registered${n?" for gridId: "+i:""}. ${h} Check if you have registered the module:
`}
${eY(a)}`+(s?` 

${s}`:"")},hF=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,nY=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,iY={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${nY(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[]).filter(a=>!!i[a])],o=GS({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Yu}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=GS({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:dF,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Yu}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>hF("IntegratedChartsModule"),258:()=>hF("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>dF({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:td[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Yu}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>t3(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:n3,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function rY(e,t){const n=iY[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${rP(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var sY={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},fF=new WeakMap,pF=new WeakMap,oY=1,aY=class{create(e,t,n,i,r,s){const o=E0.applyGlobalGridOptions(t),a=o.gridId??String(oY++),l=this.getRegisteredModules(r,a,o.rowModelType),u=this.createBeansList(o.rowModelType,l,a),h=this.createProvidedBeans(e,o,r);if(!u)return;const g={providedBeanInstances:h,beanClasses:u,gridId:a,beanInitComparator:JG,beanDestroyComparator:eV,derivedBeans:[QG],destroyCallback:()=>{pF.delete(C),fF.delete(e),s?.()}},v=new oB(g);this.registerModuleFeatures(v,l),n(v),v.getBean("syncSvc").start(),i?.(v);const C=v.getBean("gridApi");return fF.set(e,C),pF.set(C,e),C}getRegisteredModules(e,t,n){return Nf(qj,void 0,!0),e?.modules?.forEach(i=>Nf(i,t)),Z9(t,gF(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const s=r.apiFunctions;s&&Object.keys(s).forEach(a=>{i?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;un(i)&&(i=new Ek);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=gF(e),s=i[r];if(!s){rf(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!tB()){rf(272,void 0,t3());return}if(!e){const a=Object.entries(i).filter(([l,u])=>bS(u,n,l));if(a.length==1){const[l,u]=a[0];if(l!==r){const h={moduleName:u,rowModelType:l};rf(275,h,n3(h));return}}}if(!bS(s,n,r)){rf(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:s,gridScoped:Vx(),gridId:n,rowModelType:r},`Missing module ${s}Module for rowModelType ${r}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function gF(e){return e??"clientSide"}function ho(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Qv(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function i3(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var lY=class extends xe{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});const n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??r}}};function cY(e,t=!1){const n=[],i=[],r=[],s=[],o=[],a=[],l=[],u=[],h=[];let p=0;for(let g=0;g<e.length;g++){const{colId:v,sort:C,sortIndex:w,rowGroup:S,rowGroupIndex:x,aggFunc:E,pivot:T,pivotIndex:R,pinned:F,hide:P,width:_,flex:L}=e[g];h.push(v),C&&(n[w??p++]={colId:v,sort:C}),S&&(i[x??0]=v),typeof E=="string"&&r.push({colId:v,aggFunc:E}),T&&(s[R??0]=v),F&&(F==="right"?a:o).push(v),P&&l.push(v),(L!=null||_)&&u.push({colId:v,flex:L??void 0,width:_})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}function uY(e){const t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var dY=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t?.forEach(s=>{this.createMethod(r,s,!0)}),n?.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Me(49,{methodName:t}),null)}}},hY={tag:"div",cls:"ag-tooltip"},fY=class extends eb{constructor(){super(hY)}init(e){const{value:t}=e,n=this.getGui();n.textContent=Pd(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},pY=1e3,gY=1e3,mF=100,vF,tm=!1,mY=class extends xe{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ic()&&(tm?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},mF):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||tm)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-vF<pY}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ge(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),i=Je(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);Y9(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),vF=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ti(this.beans),{keydown:o=>{i.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=xn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?gY:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){tm=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},mF)}unlockService(){tm=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function gy(e){return e.get("tooltipShowMode")==="whenTruncated"}var vY=class extends xe{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new mY(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function CY(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var wY=class extends xe{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},yY=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const s=t===0&&fP(this.gos,r,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&(e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(Je(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Je(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:g=>this.valueSvc.parseValue(e,r,g,this.valueSvc.getValue(e,r,void 0)),formatValue:g=>this.valueSvc.formatValue(e,r,g)??g}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=r.level===-1&&r.footer,u=e.colDef.showRowGroup===!0&&(r.group||o);if(!l&&(s||u)){let g="",v=r;for(;v&&v.level!==-1;){const{value:C,valueFormatted:w}=a.getValueForDisplay(s?void 0:e,v,!0,!0);g=` -> ${w??C??""}${g}`,v=v.parent}return{value:g,valueFormatted:g}}const{value:h,valueFormatted:p}=a.getValueForDisplay(e,r,!0,!0);return{value:h??"",valueFormatted:p}}getHeaderName(e,t){return e?e(Je(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function SY(e,t){const n=document.defaultView||window;if(!n){Me(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var xY={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Yi="clientSide",_i="serverSide",Du="infinite",bY={onGroupExpandedOrCollapsed:[Yi],refreshClientSideRowModel:[Yi],isRowDataEmpty:[Yi],forEachLeafNode:[Yi],forEachNodeAfterFilter:[Yi],forEachNodeAfterFilterAndSort:[Yi],resetRowHeights:[Yi],applyTransaction:[Yi],applyTransactionAsync:[Yi],flushAsyncTransactions:[Yi],getBestCostNodeSelection:[Yi],getServerSideSelectionState:[_i],setServerSideSelectionState:[_i],applyServerSideTransaction:[_i],applyServerSideTransactionAsync:[_i],applyServerSideRowData:[_i],retryServerSideLoads:[_i],flushServerSideAsyncTransactions:[_i],refreshServerSide:[_i],getServerSideGroupLevelState:[_i],refreshInfiniteCache:[Du],purgeInfiniteCache:[Du],getInfiniteRowCount:[Du],isLastRowIndexKnown:[Du,_i],expandAll:[Yi,_i],collapseAll:[Yi,_i],onRowHeightChanged:[Yi,_i],setRowCount:[Du,_i],getCacheBlockState:[Du,_i]},EY={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function TY(e,t,n){const i=EY[e];if(i){const{version:s,new:o,old:a,message:l}=i,u=a??e;return(...h)=>{const p=o?`Please use ${o} instead. `:"";return ff(`Since ${s} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,h)}}const r=bY[e];return r?(...s)=>{const o=n.rowModel.getType();if(!r.includes(o)){ju(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var DY={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},RY={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},FY={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},MY=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),_Y=class extends xe{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,h7(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&xY[t]&&Me(22,{key:t})}processGridOptions(e){this.processOptions(e,UU())}validateApiFunction(e,t){return TY(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=td[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):Me(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=DY[e];return t?io(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){PY.has(e)&&Me(10,{eventType:e})}validateIcon(e){if(MY.has(e)&&Me(43,{iconName:e}),RY[e])return;const t=FY[e];if(t){Ht(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Vx(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Me(134,{iconName:e})}isProvidedUserComp(e){return!!td[e]}validateColDef(e){this.processOptions(e,kU())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],r,o,a);const l=new Set;Object.keys(e).forEach(h=>{const p=i[h];if(p){const{message:E,version:T}=p;l.add(`As of v${T}, ${String(h)} is deprecated. ${E??""}`)}const g=e[h];if(g==null||g===!1)return;const v=n[h];if(!v)return;const{dependencies:C,validate:w,supportedRowModels:S,expectedType:x}=v;if(x){const E=typeof g;if(E!==x){l.add(`${String(h)} should be of type '${x}' but received '${E}' (${g}).`);return}}if(S){const E=this.gridOptions.rowModelType??"clientSide";if(!S.includes(E)){l.add(`${String(h)} is not supported with the '${E}' row model. It is only valid with: ${S.join(", ")}.`);return}}if(C){const E=this.checkForRequiredDependencies(h,C,e);if(E){l.add(E);return}}if(w){const E=w(e,this.gridOptions,this.beans);if(E){l.add(E);return}}}),l.size>0&&l.forEach(h=>{ff(h)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const s=["__ob__","__v_skip","__metadata__"],o=AY(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const u=o[l];let h=`invalid ${i} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(h+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),ff(h)}if(a.length>0&&r){const l=this.beans.frameworkOverrides.getDocLink(r);ff(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return rY(e,t)}};function AY(e,t,n){const i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=GS({inputValue:s,allSuggestions:n}).values),i}var PY=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),kY={moduleName:"Validation",version:ze,beans:[_Y]};function r3(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var OY=class extends xe{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,r3(i)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(s.childrenAfterGroup[a],u):n(l,u)}n(s,o)},r=s=>i(s,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},LY=class extends Jx{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const s=fp(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Je(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Kr("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Od(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();fd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(xn(t)===this.eGui)return;const r=Ic(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case me.UP:case me.DOWN:case me.LEFT:case me.RIGHT:if(t)return;wc(e);case me.ENTER:t&&Sc(this.eGui)&&e.preventDefault();break;case me.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&rc(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,s=!!(r&&r.key===me.TAB);if(r&&s){const o=r.shiftKey;Sc(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Zx(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!yr(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,r=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(i.get("enableFilterHandlers")){const h=s;let p="filter";h?.afterFloatingFilter?p="ui":h?.afterDataChange?p="dataChanged":s?.source==="api"&&(p="api"),this.updateFloatingFilterParams(this.userCompDetails,p);return}const l=t?.getCurrentFloatingFilterParentModel(n),u=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,u)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!r?this.updateCompDetails(e,r,n):s.then(o=>{!o||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:ei(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function IY(e,t){const n=e.colModel.getCol(t);if(!n){Ht(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function NY(e){e.menuSvc?.hidePopupMenu()}var BY={moduleName:"SharedMenu",version:ze,beans:[aG],apiFunctions:{showColumnMenu:IY,hidePopupMenu:NY}},nm=0,HY=200,GY=class extends xe{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const u=()=>{const h=this.keepXYWithinBounds(n,o.top-a.top,0),p=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${p}px`,l=!0);const v=a.right-a.left-p;let C;return this.gos.get("enableRtl")?(C=S(),C<0&&(C=w(),this.setAlignedStyles(n,"left")),C>v&&(C=0,this.setAlignedStyles(n,"right"))):(C=w(),C>v&&(C=S(),this.setAlignedStyles(n,"right")),C<0&&(C=0,this.setAlignedStyles(n,"left"))),{x:C,y:h};function w(){return o.right-a.left-2}function S(){return o.left-a.left-p}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:u,type:h}=e,p=s.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(s,t);const v=()=>{let C=p.left-g.left;o==="right"&&(C-=t.offsetWidth-p.width);let w;return a==="over"?(w=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?w=p.top-g.top+p.height:w=p.top-t.offsetHeight-(i||0)*2-g.top),{x:C,y:w}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:v,postProcessCallback:()=>this.callPostProcessPopup(h,t,s,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(h+=i),r&&(p+=r),n&&(h=this.keepXYWithinBounds(t,h,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${h}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const u=ca(this.beans,t,()=>l(!0));setTimeout(()=>u(),HY)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=ti(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),qA(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=ti(this.beans),u=l.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),v=l.documentElement.getBoundingClientRect(),C=h===l.body,w=Math.ceil(p[o]);let x=C?(i?KA:T0)(u)+u[a]:h[r];C&&(x-=Math.abs(v[s]-g[s]));const E=x-w;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=ti(this.beans),{eChild:n,ariaLabel:i,ariaOwns:r,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return Me(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,!!s,i,r),h=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(n,u,h,a),{hideFunc:h}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Ge(e.style.top)||(e.style.top=`${n.top*-1}px`),Ge(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,i){const r=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=Ln({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||mc(e,"dialog"),n?fd(e,n):i&&(e.id||(e.id=`popup-component-${nm}`),vR(i,e.id)),a.appendChild(e),r.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=ti(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u,ariaOwns:h}=e;let p=!1;const g=S=>{if(!r.contains(xn(t)))return;S.key===me.ESCAPE&&!Go(S)&&w({keyboardEvent:S})},v=S=>w({mouseEvent:S}),C=S=>w({touchEvent:S}),w=(S={})=>{const{mouseEvent:x,touchEvent:E,keyboardEvent:T,forceHide:R}=S;!R&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:E},s)||p)||(p=!0,i.removeChild(r),n.removeEventListener("keydown",g),n.removeEventListener("mousedown",v),n.removeEventListener("touchstart",C),n.removeEventListener("contextmenu",v),this.eventSvc.removeEventListener("dragStarted",v),o&&o(x||E||T),this.removePopupFromPopupList(s,h))};return a&&a({hidePopup:w}),window.setTimeout(()=>{l&&n.addEventListener("keydown",g),u&&(n.addEventListener("mousedown",v),this.eventSvc.addEventListener("dragStarted",v),n.addEventListener("touchstart",C),n.addEventListener("contextmenu",v))},0),w}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:nm,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),nm=nm+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&vR(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const v=n[p]-s[p],C=o(r.style[p]);return{initialDiff:v,lastDiff:v,initial:C,last:C,direction:g}},l=a("top",0),u=a("left",1),h=this.beans.frameworkOverrides;return new bt(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),v=i.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const w=(S,x)=>{const E=o(r.style[x]);S.last!==E&&(S.initial=E,S.last=E);const T=g[x]-v[x];if(T!=S.lastDiff){const R=this.keepXYWithinBounds(r,S.initial+S.initialDiff-T,S.direction);r.style[x]=`${R}px`,S.last=R}S.lastDiff=T};w(l,"top"),w(u,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(N7(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=ti(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const s=[],o=[];for(const g of n)g!==r&&(g.classList.contains("ag-always-on-top")?o.push(g):s.push(g));const a=[],l=o.length,p=r.classList.contains("ag-always-on-top")||!l?[...s,...o,r]:[...s,r,...o];for(let g=0;g<=i;g++){const v=p[g];if(n[g]===p[g]||v===r)continue;v.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&a.push([w,w.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",v):p[g-1].insertAdjacentElement("afterend",v)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},Zv={moduleName:"Popup",version:ze,beans:[GY]},VY=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function zY(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function WY(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function UY(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function jY(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function YY(e){return e.filterManager?.getFilterModel()??{}}function $Y(e,t,n){const{gos:i,colModel:r,colFilter:s}=e;n&&!i.get("enableFilterHandlers")&&(Me(288),n=!1);const o=r.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function KY(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function qY(e,t){const n=e.colModel.getCol(t);if(!n){Ht(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function XY(e){e.menuSvc?.hideFilterMenu()}function QY(e,t){const n=e.colModel.getCol(t);if(!n){Ht(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function ZY(e,t){const{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){Me(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&i?.updateModel(a,o)}else i?.updateAllModels(o)}var JY={filterHandler:()=>({doesFilterPass:()=>!0})},e$=class extends xe{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...sk},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const h=e[u];s.push(this.setModelOnFilterWrapper(l,h)),a.delete(u)}),a.forEach(l=>{const u=n.getColDefCol(l)||n.getCol(l);if(!u){Me(62,{colId:l});return}if(!u.isFilterAllowed()){Me(63,{colId:l});return}const h=this.getOrCreateFilterWrapper(u,!0);if(!h){Me(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(h,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});bt.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((u,h)=>{const p=o?o[h]:null,g=a?a[h]:null;_f(p,g)||l.push(u.column)}),l.length>0&&r?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);Ge(a)&&(t[o]=a)}),!e)for(const s of Object.keys(i)){const o=i[s];Ge(o)&&!n.has(s)&&r.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const i of Object.keys(t)){const r=t[i];this.state.set(i,{model:ei(this.model,i),state:r})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((i,r)=>{const s=i.state;s!=null&&(n=!0,t[r]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return ei(this.model,n);const i=e.filter;return i?typeof i.getModel!="function"?(Me(66),null):i.getModel():ei(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(Me(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!yS(n),r=u=>{if(!u.isPrimary())return!0;const p=!t.isPivotActive();return!u.isValueActive()||!p?!1:t.isPivotMode()?!0:i},s=[],o=[],a=(u,h,p)=>{h&&(r(u)?s.push(p):o.push(p))},l=[];return this.allColumnFilters.forEach(u=>{const h=u.column,p=h.getColId();if(u.isHandler)l.push(bt.resolve().then(()=>{a(h,this.isHandlerActive(h),{colId:p,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const g=za(u);g&&l.push(g.then(v=>{a(h,e(v),{colId:p,isHandler:!1,comp:v})}))}}),bt.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(i=>{const r=i.column;if(i.isHandler)n.push(bt.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{const s=za(i);s&&n.push(s.then(o=>{this.setColFilterActive(r,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),bt.all(n)}doFiltersPass(e,t,n){const{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i,a=this.model;for(let l=0;l<s.length;l++){const u=s[l],{colId:h,isHandler:p}=u;if(h!==t)if(p){const{handler:g,handlerParams:v}=u;if(!g.doesFilterPass({node:e,data:o,model:ei(a,h),handlerParams:v}))return!1}else{const g=u.comp;if(typeof g.doesFilterPass!="function"){Ht(91);continue}if(!g.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{const{column:s,isHandler:o}=r;i!==s.getColId()&&(o&&r.handler.onAnyFilterChanged?.(),za(r,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();const r=za(n,i);r&&t.push(r.then(s=>{s.onNewRowsLoaded?.()}))}),bt.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(r,s)=>{const o=s?i.getCol(s):e;return o?n.getValue(o,r,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():ei(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Ge(ei(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?za(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=za(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return _7(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":fH(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,s){const o=()=>{const u=this.createFilterCompParams(e,r,s),h=i(u,r);return z9(this.beans.userCompFactory,t,h,n)},a=o();return a?{compDetails:a,createFilterUi:u=>(u?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){const r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,i,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:u,createFilterUi:h}=l;return this.isGlobalButtons&&(u.params?.buttons?.length||Me(281,{colId:e.getColId()})),{compDetails:u,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:h}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return Je(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){const r=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,i);if(s.filterChangedCallback=r,s.filterModifiedCallback=i?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=ei(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(u,h)=>{this.updateStoredModel(a,u),this.refreshHandlerAndUi(e,u,"ui").then(()=>{r({...h,source:"columnFilter"})})},o.onStateChange=u=>{this.updateState(e,u),this.updateOrRefreshFilterUi(e)},o.onAction=(u,h,p)=>{this.updateModel(e,u,h),this.dispatchLocalEvent({type:"filterAction",column:e,action:u,event:p})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=u=>this.filterUiChanged(e,u),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...r,source:"init",model:ei(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:i,registry:r}=this.beans;let s;const o=p=>{const g=p.filter;if(LP(g)){const v=g.handler;return v||(s=g.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof g=="string"?g:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=p=>()=>this.createBean(r.createDynamicBean(p,!0));let u,h;if(typeof a=="string"){const p=n.get("filterHandlers")?.[a];p!=null?u=p:JB.has(a)&&(u=l(a),h=a)}else u=a;if(!u){let p;const{compName:g,jsComp:v,fwComp:C}=BP(i,e);g?p=g:v==null&&C==null&&e.filter===!0&&(p=t),h=this.handlerMap[p],h&&(u=l(h))}if(u)return{filterHandler:u,handlerNameOrCallback:s??h}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){const u=this.gos;if(!u.get("enableFilterHandlers"))return;Hn(u)&&Me(277,{colId:e.getColId()}),i=JY}const r=Q1(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,r);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const i=e.getColDef(),r=t(Je(this.gos,{column:e,colDef:i})),s=this.createHandlerParams(e,n);return{handler:r,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return Je(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(i,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(i,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{r({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const r=i&&e.every(s=>i.isGroupFilter(s));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,s=g=>{const v=this.getOrCreateFilterUi(e);v?.then(C=>{g(If(C))})},o=e.getColDef(),a=r?.isSelectable(o)?r.getFilterDef(e,o):o,l=wH(i,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",u=this.gos.get("enableFilterHandlers"),h=Q1(n,a,this.createFilterCompParams(e,u,"init",!0)),p=Je(this.gos,{column:e,filterParams:h,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(u){const g=p,v=e.getColId(),C=this.filterChangedCallbackFactory(e);g.onUiChange=w=>this.floatingFilterUiChanged(e,w),g.model=ei(this.model,v),g.onModelChange=(w,S)=>{this.updateStoredModel(v,w),this.refreshHandlerAndUi(e,w,"floating",!0).then(()=>{C({...S,source:"columnFilter"})})},g.getHandler=()=>this.getHandler(e,!0),g.source="init"}return $9(n,o,p,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){const r=t.getColId();delete this.initialModel[r],this.state.delete(r);const s=e.filterUi,o=this.createFilterUiForHandler(n,i);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:r,filterUi:s}=e,o=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(s){if(s.created)return s.promise.then(l=>(n=r?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return bt.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const i=this.beans,r=n.column,s=r.getColDef(),o=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=i.selectableFilter,u=l?.isSelectable(s)?l.getFilterDef(r,s):s,h=o?this.createHandlerFunc(u,this.getDefaultFilter(r)):void 0,p=!!h,g=n.isHandler;if(g!=p){this.destroyFilter(r,"paramsUpdated");return}const{compDetails:v,createFilterUi:C}=(o?this.createFilterComp(r,u,a,S=>S,p,"colDef"):null)??{compDetails:null,createFilterUi:null},w=v?.params??Q1(i.userCompFactory,u,this.createFilterCompParams(r,p,"colDef"));if(g){const S=h?.handlerNameOrCallback??h?.filterHandler,x=ei(this.model,e);if(n.handlerGenerator!=S){const E=n.handler,{handler:T,handlerParams:R}=this.createHandlerFromFunc(r,h.filterHandler,w);n.handler=T,n.handlerParams=R,n.handlerGenerator=S,delete this.model[e],T.init?.({...R,source:"init",model:null}),this.destroyBean(E),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{const E=this.createHandlerParams(r,v?.params);n.handlerParams=E,n.handler.refresh?.({...E,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,r,v,C);return}n.filterUi.filterParams=w,za(n,g)?.then(S=>{(S?.refresh?S.refresh(w):!0)===!1?this.destroyFilterUi(n,r,v,C):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:w})})}refreshHandlerAndUi(e,t,n,i){const r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),bt.resolve();if(!r.isHandler)return bt.resolve();const{filterUi:s,handler:o,handlerParams:a}=r;return eH(()=>{if(s){const{created:l,filterParams:u}=s;if(l)return s.promise.then(h=>h?{filter:h,filterParams:u}:void 0);s.refreshed=!0}return bt.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(If(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:i,model:r}=this,s=e.getColId(),o=i.get(s);return o?o.model??null:ei(r,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:ei(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):bt.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:u}=e;r==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,u,t,n)??{}:{filterParams:s,filterValueGetter:o}=uH(r,l,u,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new bt(i=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){i();return}this.refreshHandlerAndUi(s,t,"api").then(()=>i());return}const r=za(e);if(r){r.then(s=>{if(typeof s?.setModel!="function"){Me(65),i();return}(s.setModel(t)||bt.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){Ge(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;kR(t,r,()=>ei(this.model,i),()=>this.state.get(i),s=>this.updateState(e,s),s=>r()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((i,r)=>{const s=this.beans.colModel.getColDefCol(r);s&&kR(e,()=>i.filterUi,()=>ei(this.model,r),()=>this.state.get(r),o=>this.updateState(s,o),o=>{this.updateStoredModel(r,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&bt.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();ak(()=>this.cachedFilter(e)?.filterUi,()=>ei(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(const r of e.keys()){const s=e.get(r);if(s.valid===!1)return!1;(s.model??null)!==ei(t,r)&&(i=!0)}return i}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==ei(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function t$(e){return!!e.filterManager?.isAnyFilterPresent()}function n$(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var i$=class extends xe{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){yS(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):bt.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:i};n&&Ni(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!yS(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Me(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},r$=class extends xe{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,yr(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,s="left";const o=yr(this.gos);!o&&this.gos.get("enableRtl")&&(r=1,s="right");const a=o?void 0:4*r,l=o?void 0:4;this.showPopup(e,u=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,r,s){const o=e?this.createBean(new oH(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){Ht(57);return}const a=Ln({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:w=>this.trapFocusWithin(w,a)}),a.appendChild(o?.getGui());let l;const u=()=>o?.afterGuiDetached(),h=A7(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=w=>{VR(e,!1,"contextMenu");const S=w instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),S&&i&&so(i)&&ZP(i)?.focus({preventScroll:!0}),u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},g=this.getLocaleTextFunc(),v=r&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),C=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:v});C&&(this.hidePopup=l=C.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),VR(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==me.TAB||e.defaultPrevented||Ic(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Sc(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},s$=class extends xe{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const i=e.getColDef(),{selectableFilter:r,valueSvc:s}=this.beans,o=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,i):s.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:s,valueSvc:o}=this.beans,a=Je(this.gos,{data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},o$={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},a$=class extends nn{constructor(){super(o$,[qv]),this.eFloatingFilterText=qe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,i=n.getHandler();if(i.getModelAsString){const r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},cb=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(Me(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;Me(73)}else Me(74)}getCustomOption(e){return this.customFilterOptions[e]}};function vf(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function $0(e){return e==null||typeof e=="string"&&e.trim().length===0}function l$(e){return e==="AND"||e==="OR"?e:"AND"}function c$(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function u$(e,t){let n=e.length;return n>t&&(e.splice(t),Me(78),n=t),n}function zf(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var ub=class extends vH{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new cb;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=l$(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Lc(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),bt.resolve();if(e.operator){const i=e;let r=i.conditions;r==null&&(r=[],Me(77));const s=u$(r,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=i.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),bt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Me(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Me(80),n=1),n>t&&(Me(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new rb);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=Ln({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new NG);e.push(i);const r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(Pf(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((i,r)=>{yn(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){vf(e,t,n).forEach(r=>Jo(r))}removeComponents(e,t,n){vf(e,t,n).forEach(r=>{Jo(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Ql&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof Ql))return;const s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Ql&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof nn&&yn(e.getGui(),t)}setElementDisabled(e,t){e instanceof nn&&Pf(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ql&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=zf(t,this.optionsFactory),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];o!=null&&n(o,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return zf(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},s3=class{constructor(e,t,n,i,r,s){this.alive=!0,this.context=e,this.eParent=r;const o=W9(t,n,i);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:u}=this;l&&a.setDate(l),u!=null&&a.setDisabled?.(u),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){yn(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},db=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function o3(e,t){const{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&Ji(n)||null,i&&Ji(i)||null].slice(0,zf(r,t))}var CF=1e3,wF=1/0,d$=class extends ub{constructor(){super("dateFilter",o3,db),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=CF,this.maxValidYear=wF,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,u)=>{const h=e[l];if(h!=null)if(isNaN(h))Me(82,{param:l});else return h==null?u:Number(h);return u},n=t("minValidYear",CF),i=t("maxValidYear",wF);this.minValidYear=n,this.maxValidYear=i,n>i&&Me(83);const{minValidDate:r,maxValidDate:s}=e,o=r instanceof Date?r:Ji(r);this.minValidDate=o;const a=s instanceof Date?s:Ji(s);this.maxValidDate=a,o&&a&&o>a&&Me(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,s=new s3(n,t,r.colDef,Je(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Ln({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const r=Ln({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),vf(this.eConditionPanelsFrom,e,t),vf(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){vf(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Sr(i[0])),i.length>1&&(n.dateTo=Sr(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},a3=class extends xe{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new cb;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,i=[];if(n){const o=t;i.push(...o.conditions??[])}else i.push(t);const r=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return i[r](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let s=CH(t)?t.conditions:[t];const o=n?.map(h=>typeof h=="string"?h:h.displayKey)??this.defaultOptions;if(!(!s||s.every(h=>o.find(p=>p===h.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const u=this.filterType;if((s&&!s.every(h=>h.filterType===u)||t.filterType!==u)&&(s=s.map(h=>({...h,filterType:u})),l=!0),typeof i=="number"&&s&&s.length>i&&(s=s.slice(0,i),l=!0),l){const h=s.length>1?{...t,filterType:u,conditions:s}:{...s[0],filterType:u};this.params={...e,model:h},e.onModelChange(h);return}}individualConditionPasses(e,t,n){const i=this.optionsFactory,r=this.mapValuesFromModel(t,i),s=i.getCustomOption(t.type),o=c$(s,r,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},l3=class extends a3{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),s=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=r(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return $0(t);case"notBlank":return!$0(t);default:return Me(76,{filterModelType:i}),!0}}},c3={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},h$={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},hb=class extends xe{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Qa(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(u=>this.getModelAsString(u,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Qa(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Qa(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:u}=o||{};return a&&l&&u===0?n(a,l):this.conditionToString(s,i,s.type==="inRange"||u===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,s){let o;const a=this.getTypeKey(e);return a&&(o=Qa(this,a)),r&&s&&(o=this.getLocaleTextFunc()(r,s)),o!=null?t?`${o} ${Qa(this,"filterSummaryInRangeValues",[n(),i()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},u3=class extends hb{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:i,valueSvc:r}=this.beans,s=t.column,a=i?.getDateFormatterFunction(s)?.(n??void 0);return r.formatValue(s,null,a)}),this.filterTypeKeys=c3}conditionToString(e,t,n,i,r){const{type:s}=e,o=Ji(e.dateFrom),a=Ji(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,u=t?this.formatValue.bind(this):g=>FS(g,l),h=()=>o!==null?u(o):"null",p=()=>a!==null?u(a):"null";if(t){const g=this.conditionForToolPanel(s,n,h,p,i,r);if(g!=null)return g}return n?`${h()}-${p()}`:o!=null?u(o):`${s}`}};function f$(e,t){const n=t;return n<e?-1:n>e?1:0}var p$=class extends l3{constructor(){super(o3,db),this.filterType="date",this.FilterModelFormatterClass=u3}comparator(){return this.params.filterParams.comparator??f$}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},d3=class extends nn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new cb;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},g$={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},m$=class extends d3{constructor(){super(g$,[qv]),this.eReadOnlyText=qe,this.eDateWrapper=qe,this.FilterModelFormatterClass=u3,this.filterType="date",this.defaultOptions=db}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Ji(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){yn(this.eDateWrapper,e),yn(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,i=Sr(e),r=i==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:i};t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=jx(e,this.defaultDebounceMs);return Je(this.gos,{onDateChanged:pi(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new s3(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},v$={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},C$=class extends nn{constructor(){super(v$,[qv]),this.eDateInput=qe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Ac();const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:u}=e.filterParams||{},h=this.beans.dataTypeSvc,p=l??h?.getDateIncludesTimeFlag?.(u.cellDataType)??!1;if(n?p?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&i&&Me(85),o&&r&&Me(86),s&&o){const[g,v]=[s,o].map(C=>C instanceof Date?C:Ji(C));g&&v&&g.getTime()>v.getTime()&&Me(87)}s?s instanceof Date?t.min=FS(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=FS(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ji(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Sr(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},fb=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function VS(e){const{allowedCharPattern:t}=e??{};return t??null}function zS(e){return e==null||isNaN(e)?null:e}function h3(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[zS(n),zS(i)].slice(0,zf(r,t))}var w$=class extends ub{constructor(){super("numberFilter",h3,fb),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){const e=VS(this.params),t=Ln({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new Nc({allowedCharPattern:i}):new ib);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(zS(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Ho(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},f3=class extends hb{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=c3}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const u=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),i,r);if(u!=null)return u}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},y$=class extends l3{constructor(){super(h3,fb),this.filterType="number",this.FilterModelFormatterClass=f3}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},p3=class extends xe{constructor(e){super(),this.params=e,this.eInput=qe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Nc(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function g3(e){const t=e?.trim();return t===""?e:t}function m3(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,zf(r,t))}var S$={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},v3=class extends d3{constructor(){super(...arguments),this.eFloatingFilterInputContainer=qe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(S$)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=$v(e.filterParams),!r){const s=jx(e.filterParams,i),o=pi(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();br(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===me.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:i,params:r,lastType:s}=this;let o=i.getValue();if(r.filterParams.trimInput&&(o=g3(o),i.setValue(o,!0)),n){const a=r,l=a.model,u=this.convertValue(o),h=u==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:u};a.onModelChange(h,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},x$=class extends xe{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new ib),this.eTextInput=this.createManagedBean(new Nc),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},b$=class extends v3{constructor(){super(...arguments),this.FilterModelFormatterClass=f3,this.filterType="number",this.defaultOptions=fb}updateParams(e){VS(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=VS(e.filterParams),this.allowedCharPattern?this.createManagedBean(new p3({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new x$)}convertValue(e){return e?Number(e):null}},pb=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],E$=class extends ub{constructor(){super("textFilter",m3,pb),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let a=Ho(i.getValue());t&&this.params.trimInput&&(a=g3(a)??null,i.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=Ln({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Nc);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},C3=class extends hb{constructor(){super(...arguments),this.filterTypeKeys=h$}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:a}=e;if(t){const l=h=>()=>Qa(this,"filterSummaryTextQuote",[h]),u=this.conditionForToolPanel(a,n,l(s),l(o),i,r);if(u!=null)return u}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},T$=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},D$=e=>e,R$=e=>e==null?null:e.toString().toLowerCase(),F$=class extends a3{constructor(){super(m3,pb),this.filterType="text",this.FilterModelFormatterClass=C3}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??T$,this.formatter=t.textFormatter??(t.caseSensitive?D$:R$)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:u,filterParams:{textFormatter:h}}=this.params;if(n.type==="blank")return $0(t);if(n.type==="notBlank")return!$0(t);const p={api:o,colDef:a,column:l,context:u,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:h};return r.some(g=>this.matcher({...p,filterText:g}))}},M$=class extends v3{constructor(){super(...arguments),this.FilterModelFormatterClass=C3,this.filterType="text",this.defaultOptions=pb}createFloatingFilterInputService(){return this.createManagedBean(new p3)}};function _$(e){return!!e.quickFilter?.isFilterPresent()}function A$(e){return e.quickFilter?.getText()}function P$(e){e.quickFilter?.resetCache()}var k$=class extends xe{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ge(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Me(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return Ge(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=Je(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return Ge(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);Ge(i)&&t.push(i)}),t.join(`
`)}},O$={moduleName:"ClientSideRowModelFilter",version:ze,rowModels:["clientSide"],beans:[OY]},gb={moduleName:"FilterCore",version:ze,beans:[i$],apiFunctions:{isAnyFilterPresent:t$,onFilterChanged:n$},css:[VY],dependsOn:[O$]},w3={moduleName:"FilterValue",version:ze,beans:[s$]},Jv={moduleName:"ColumnFilter",version:ze,beans:[e$,r$],dynamicBeans:{headerFilterCellCtrl:LY},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:zY,getColumnFilterInstance:WY,destroyFilter:UY,setFilterModel:jY,getFilterModel:YY,getColumnFilterModel:$Y,setColumnFilterModel:KY,showColumnFilter:qY,hideColumnFilter:XY,getColumnFilterHandler:QY,doFilterAction:ZY},dependsOn:[gb,Zv,w3,BY]},L$={moduleName:"CustomFilter",version:ze,userComponents:{agReadOnlyFloatingFilter:a$},dependsOn:[Jv]},I$={moduleName:"TextFilter",version:ze,dependsOn:[Jv],userComponents:{agTextColumnFilter:{classImp:E$,params:{useForm:!0}},agTextColumnFloatingFilter:M$},dynamicBeans:{agTextColumnFilterHandler:F$}},N$={moduleName:"NumberFilter",version:ze,dependsOn:[Jv],userComponents:{agNumberColumnFilter:{classImp:w$,params:{useForm:!0}},agNumberColumnFloatingFilter:b$},dynamicBeans:{agNumberColumnFilterHandler:y$}},B$={moduleName:"DateFilter",version:ze,dependsOn:[Jv],userComponents:{agDateColumnFilter:{classImp:d$,params:{useForm:!0}},agDateInput:C$,agDateColumnFloatingFilter:m$},dynamicBeans:{agDateColumnFilterHandler:p$}},H$={moduleName:"QuickFilterCore",version:ze,rowModels:["clientSide"],beans:[k$],dependsOn:[gb,w3]},G$={moduleName:"QuickFilter",version:ze,apiFunctions:{isQuickFilterPresent:_$,getQuickFilter:A$,resetQuickFilter:P$},dependsOn:[H$]},V$={moduleName:"ExternalFilter",version:ze,dependsOn:[gb]},z$=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",my=(e,t,n)=>{const{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=r||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},W$=class extends xe{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=gy(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!i&&r&&!a.headerComponent&&(i=Xm(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=gy(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=Xm(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{gos:r,editSvc:s}=i,{column:o,rowNode:a}=e;let l="cell";const u=()=>{const v=!!!s?.isEditing(e)&&my(i,e,this.getLocaleTextFunc());if(v)return l="cellEditor",v;l="cell";const C=o.getColDef(),w=a.data;if(C.tooltipField&&Ge(w))return df(w,C.tooltipField,o.isTooltipFieldContainsDots());const S=C.tooltipValueGetter;return S?S(Je(r,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},h=gy(r);n||(h&&!e.isCellRenderer()?n=()=>{const g=!!s?.isEditing(e);if(!g&&my(i,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const w=Xm(()=>{const S=e.eGui;return S.children.length===0?S:S.querySelector(".ag-cell-value")});return!g&&w()}:n=()=>!s?.isEditing(e));const p={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:u,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(p,i)}setupFullWidthRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(r,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:i}=n,r=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!r)return;const s={getGui:()=>r,getTooltipValue:()=>my(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),u=a?.getCellValidationModel()?.getCellValidationMap(),h=!!l&&l.size>0,p=!!u&&u.size>0;return h||p}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,i)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ge(t.tooltipField)||Ge(t.tooltipValueGetter)||Ge(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},y3={moduleName:"Tooltip",version:ze,beans:[W$],dynamicBeans:{tooltipFeature:vY},userComponents:{agTooltipComponent:fY},dependsOn:[Zv],css:[z$]},Iu=class{constructor(e){this.cellValueChanges=e}},vy=class extends Iu{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},U$=10,yF=class{constructor(e){this.actionStack=[],this.maxStackSize=e||U$,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},j$=class extends xe{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&UP(this.activeCellEdit,t),i=this.activeRowEdit!==null&&uB(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:u}=e,h={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new yF(n),this.redoStack=new yF(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof vy?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,a={rowIndex:r,rowPinned:s},l=ea(this.beans,a);l.displayed&&l.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=ea(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,a=r.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:i};s.setFocusedCell({...u,forceBrowserFocus:!0}),o?.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Iu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Iu(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Iu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new vy(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&ll(n)?e=new vy(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Iu(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new Iu(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Y$=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",$$={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},K$=class extends Kv{constructor(){super($$,[nb]),this.eEditor=qe}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=Uv(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},eC=class extends Kv{constructor(e){super(),this.cellEditorInput=e,this.eEditor=qe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;i?(this.focusAfterAttached=!0,r===me.BACKSPACE||r===me.DELETE?o="":r&&r.length===1?s?a=!1:o=r:(o=t.getStartValue(),r!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:u}=l;(u===me.PAGE_UP||u===me.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ac()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},q$={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},X$=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return q$}getAgComponents(){return[xk]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){const l=i instanceof Date?i:new Date(i);if(t<l){const u=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${u}`,[u]))}}if(r){const l=r instanceof Date?r:new Date(r);if(t>l){const u=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${u}`,[u]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!Ge(n)&&!Ge(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Sr(e,this.includeTime??!1)}},Q$=class extends eC{constructor(){super(new X$(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},Z$={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},J$=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return Z$}getAgComponents(){return[xk]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:s,getValidationErrors:o}=t;let a=[];if(i){const l=new Date(i),u=this.getLocaleTextFunc();if(r){const h=new Date(r);if(l<h){const p=h.toLocaleDateString();a.push(u("minDateValidation",`Date must be after ${p}`,[p]))}}if(s){const h=new Date(s);if(l>h){const p=h.toLocaleDateString();a.push(u("maxDateValidation",`Date must be before ${p}`,[p]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!Ge(n)&&!Ge(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Sr(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ji(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Sr(e??null,this.includeTime??!1)??void 0}},eK=class extends eC{constructor(){super(new J$(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},tK={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},nK=class extends Kv{constructor(){super(tK,[HG]),this.eEditor=qe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,value:r,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,i===me.BACKSPACE||i===me.DELETE?l="":i&&i.length===1?l=i:(l=r.toString(),i!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=r.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===me.LEFT||t===me.UP||t===me.RIGHT||t===me.DOWN||e.shiftKey&&t===me.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!Ge(i)&&!Ge(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue();let s=[];return typeof r=="string"&&t!=null&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,internalErrors:s,cellEditorParams:e}):s}},iK={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},rK=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return iK}getAgComponents(){return[GG]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),i?i({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===me.UP||e.key===me.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!Ge(n)&&!Ge(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){Ac()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},sK=class extends eC{constructor(){super(new rK(()=>this.getLocaleTextFunc()))}},oK={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},aK=class extends Kv{constructor(){super(oK,[$G]),this.eEditor=qe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(un(r)){Me(58);return}this.startedByEnter=o!=null?o===me.ENTER:!1;let a=!1;r.forEach(p=>{const g={value:p},v=n.formatValue(e.column,null,p),C=v!=null;g.text=C?v:p,t.addOption(g),a=a||s===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let r=[];if(t&&!t.includes(i)){const s=this.getLocaleTextFunc();r.push(s("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},lK={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},cK=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return lK}getAgComponents(){return[qv]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc();let s=[];return t!=null&&typeof i=="string"&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!Ge(n)&&!Ge(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=Ge(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},SF=class extends eC{constructor(){super(new cK(()=>this.getLocaleTextFunc()))}};function uK(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function dK(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function S3(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function x3(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function hK(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function fK(e){e.undoRedo?.undo("api")}function pK(e){e.undoRedo?.redo("api")}function gK(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{const{rowIndex:s,rowPinned:o}=r;i.forEach((a,l)=>{const{editorValue:u,pendingValue:h,sourceValue:p,state:g}=a,v=rl(a);let C=u??h;C===Qr&&(C=void 0);const w={newValue:C,oldValue:p,state:g,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(g==="editing"||g==="changed"&&v)&&n.push(w)})}),n}function mK(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):Xl(e,!0),Xu(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function vK(e,t){const n=cn(e,t);return e.editSvc?.isEditing(n)??!1}function CK(e,t){const{key:n,colKey:i,rowIndex:r,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(i);if(!l){Me(12,{colKey:i});return}const h=ea(e,{rowIndex:r,rowPinned:s||null});if(!h){Me(290,{rowIndex:r,rowPinned:s});return}if(!l.isCellEditable(h))return;s==null&&x3(e,r),S3(e,i),o?.startEditing({rowNode:h,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function wK(e){return e.editSvc?.validateEdit()||null}function yK(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function SK(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var xK={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},bK=class extends eb{constructor(e){super(xK),this.params=e}postConstruct(){Cc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{AS(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},K0=(e,t=!1)=>{if(e!==void 0)return rl(e)||t&&e.state==="editing"};function b3(e,t,n=!1){return K0(e.editModelSvc?.getEdit(t),n)}function E3(e,t){const{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(const s of r?.allLeafChildren??[])if(K0(n?.getEdit({rowNode:s,column:i}))||K0(n?.getEdit({rowNode:s.pinnedSibling,column:i})))return!0}function T3(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return K0(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var EK=class extends xe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const r=b3(n,e)||E3(n,e)||T3(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);const i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},TK=class extends xe{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let i=e.rowNode,r=t?.getEditRow(i);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){const o=Array.from(r.keys()).some(a=>{const l={rowNode:i,column:a};return b3(n,l,!0)||E3(n,l)||T3(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},DK=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{const r=new Set;return e.forEachNode(s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("top",s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("bottom",s=>i.has(s)&&r.add(s)),i.forEach(s=>{r.has(s)||n.removeEdits({rowNode:s})}),r},RK=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,s)=>!n.has(s)&&e.removeEdits({rowNode:i,column:s})))},FK=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());RK(e,DK(e,i),t)},MK=new Set(["undo","redo"]),D3={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},_K=new Set(Object.keys(D3)),AK=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),im={cancel:!0,source:"api"},PK={cancel:!1,source:"api"},Ru={checkSiblings:!0},Xh={force:!0,suppressFlash:!0},kK=class extends xe{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,im),this.createStrategy(i)});const t=FK(e),n=()=>{const i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,im):this.isEditing()&&(this.isBatchEditing()?Xu(e,this.model.getEditPositions()):this.stopEditing(void 0,PK)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,im)):(this.stopEditing(void 0,im),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return SB(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Ru)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=cn(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,i,n,r);if(a===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,s)}stopEditing(e,t){const{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(_K.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:D3[r]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,Ru))||!this.strategy)return!1;const u=cn(o,e);u&&(u.onEditorAttachedFuncs=[]);let h=a.getEditMap(!0),p=!1;const g=!i&&!!this.shouldStopEditing(e,n,r),v=i&&!!this.shouldCancelEditing(e,n,r);if(g||v){Xl(o,!0);const C=a.getEditMap();this.processEdits(C,i),this.strategy?.stop(i,n),this.bulkRefresh(void 0,h),h=C,p||(p=g)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const C=n.key,w=C===me.ENTER,S=C===me.ESCAPE,x=C===me.TAB;(w||x||S)&&(w||x?Xl(o,!0):S&&this.revertSingleCellEdit(u),this.isBatchEditing()?this.strategy?.cleanupEditors():Xu(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,h,{suppressFlash:!0}),h=a.getEditMap())}else Xl(o,!0),h=a.getEditMap();return p&&e&&this.model.removeEdits(e),!s&&u&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,u.cellPosition),TS(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),v&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(h.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),p&&g&&this.dispatchBatchEvent("batchEditingStopped",h)),p}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?me.UP:me.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const u=a.get(l),h={rowNode:o,column:l},p=cn(i,h),g=rl(u),v=p?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!v&&g&&!r&&(this.setNodeDataValue(o,l,u.pendingValue)||s.push(h)),p?.refreshCell(Xh)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,i){const{beans:r}=this,s=cn(r,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),i&&s?.refreshCell(Xh),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(Xh)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:i,sourceValue:r}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:i,gos:r}=this,{editModelSvc:s,rowModel:o}=i;Hn(r)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const u of a.keys())this.refCell({rowNode:l,column:u},a.get(u),n)}))}refCell({rowNode:e,column:t},n,i={}){const{beans:r,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const u=e.sibling;u&&a.add(u);let h=e.parent;for(;h;)h.sibling?.footer&&s.get("groupTotalRow")||!h.parent&&h.sibling&&s.get("grandTotalRow")?a.add(h.sibling):a.add(h),h=h.parent;o.forEach(p=>this.dispatchEditValuesChanged({rowNode:p,column:t},n)),o.forEach(p=>cn(r,{rowNode:p,column:t})?.refreshCell(i)),a.forEach(p=>cn(r,{rowNode:p,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const i=cn(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!i?.hasBrowserFocus()&&i?.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(i&&this.revertSingleCellEdit(i),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=cn(this.beans,e);n?.comp?.getCellEditor()&&(Xu(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),md(this.beans,e,{silent:!0}),yc(this.beans),n?.refreshCell(Xh),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){yc(this.beans);const t=cn(this.beans,e);t&&(t.refreshCell(Xh),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Zu&&s&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i,o)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&!o&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let i=this.model.getEdit({rowNode:e,column:t});const r=e.pinnedSibling;if(r){const o=this.model.getEdit({rowNode:r,column:t});o&&(i=o)}const s=n?i?.editorValue??i?.pendingValue:i?.pendingValue;return s===Qr||!i?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){gB(this,this.beans,e)}createPopupEditorWrapper(e){return new bK(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!AK.has(n))return;const{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());const r=this.isBatchEditing()?"ui":"api";if(!n||MK.has(n))return n0(i,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return n0(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return n0(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){CB(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Ru))return;const{rowNode:i,column:r}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(i,Ru),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,Ru);if(o!==void 0&&a?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Je(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:i,rangeSvc:r,valueSvc:s}=this;Xl(i,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(u=>{if(r?.forEachRowInRange(u,h=>{const p=ea(i,h);if(p===void 0)return;const g=o.get(p)??new Map;for(const v of u.columns)if(v&&this.isCellEditable({rowNode:p,column:v},"api")){const C=s.getValue(v,p,!0,"api");let w=s.parseValue(v,p??null,a,C);Number.isNaN(w)&&(w=null),g.set(v,{editorValue:void 0,pendingValue:w,sourceValue:C,state:"changed"})}g.size>0&&o.set(p,g)}),this.setEditMap(o),this.batch){this.cleanupEditors(),TS(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=cn(i,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new EK(e,t)}createRowStyleFeature(e,t){return new TK(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:r}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:u,rowPinned:h,newValue:p,state:g})=>{const v=o?i.getCol(o):l?i.getCol(l):a;if(!v)return;const C=ea(n,{rowIndex:u,rowPinned:h});if(!C)return;const w=r.getValue(v,C,!0,"api");if(!rl({pendingValue:p,sourceValue:w})&&g!=="editing")return;let S=s.get(C);S||(S=new Map,s.set(C,S)),p===void 0&&(p=Qr),S.set(v,{editorValue:void 0,pendingValue:p,sourceValue:w,state:g??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=cn(this.beans,e);if(!t||!this.isEditing(t,Ru))return;const n=this.model.getEdit(t);if(!n||!rl(n))return;const r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}allowedFocusTargetOnValidation(e){return cn(this.beans,e)}},R3=class extends xe{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:i,beans:r}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=cn(r,n));const{gos:o,editModelSvc:a}=r,l=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){const{column:u,rowIndex:h,rowPinned:p}=e,g={column:u,rowNode:ea(r,{rowIndex:h,rowPinned:p})},v=o.get("invalidEditValueMode")==="block";if(v)return;const C=!v,w=!!a?.getCellValidationModel().hasCellValidation(g),S=C&&w;(n||l?i.stopEditing(void 0,{cancel:S,source:l&&C?"api":void 0,event:s}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(i.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){i.fail.push(s);return}i.pass.push(s)}),e)return n.forEach(s=>{G0(this.beans,s),this.model.stop(s)}),!0;const r=this.processValidationResults(i);return r.destroy.length>0&&r.destroy.forEach(s=>{G0(this.beans,s,{event:t}),this.model.stop(s)}),r.keep.length>0&&r.keep.forEach(s=>{const o=cn(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Xl(this.beans,!1);const n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),Xu(this.beans,i),TS(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){const s=i instanceof KeyboardEvent&&!r&&i.key||void 0;vB(this.beans,e,t,s,i,n)}dispatchCellEvent(e,t,n,i){const r=cn(this.beans,e);r&&this.eventSvc.dispatchEvent({...r.createEvent(t??null,n),...i})}dispatchRowEvent(e,t){const n=zx(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===me.TAB||t.key===me.ENTER||t.key===me.F2||t.key===me.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===me.ENTER:null}shouldCancel(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===me.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,r)=>{i.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:r,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const i=n.at(-1),r=i.pendingValue===Qr?void 0:i.pendingValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");const s=cn(this.beans,i);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},OK=class extends R3{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){const{rowNode:i}=e||{};if(!zx(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){const{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:r},"rowEditingStarted"),this.startedRows.push(r);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(r))return;const l={rowNode:r,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=r,this.setupEditors(o,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const i=[];return e||this.model.getEditMap().forEach((r,s)=>{if(!(!r||r.size===0)){for(const o of r.values())if(rl(o)){i.push(s);break}}}),yc(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),i.forEach(r=>this.dispatchRowEvent({rowNode:r},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const i=cn(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),u=o.isCellEditable(),h=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const p=this.gos.get("suppressStartEditOnTab");return u&&!r?p?o.focusCell(!0,n):(o.comp?.getCellEditor()||md(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(u&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!h&&!r&&(this.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},i)=>{if(n!=="editing")return;const r=cn(this.beans,{rowNode:t,column:i});r&&!r.comp?.getCellEditor()&&md(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},LK=class extends R3{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const i=super.shouldStop(e,t,n);if(i!==null)return i;const{rowNode:r,column:s}=e||{};return(!this.rowNode||!this.column)&&r&&s?null:this.rowNode!==r||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:s}=e,o=ea(this.beans,{rowIndex:i,rowPinned:s}),a=ES(r),l=t.getCol(a),u=e.previousParams;if(u){const h=ES(u.column);if(u?.rowIndex===i&&h===a&&u?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),r||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,u=e.isCellEditable(),h=o.isCellEditable(),p=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;u&&!r&&this.setFocusOutOnEditor(e);const g=this.gos.get("suppressStartEditOnTab");return!p&&!r&&(super.cleanupEditors(o,!0),g?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),h&&!r?(o.focusCell(!1,n),g?o.focusCell(!0,n):o.comp?.getCellEditor()||(md(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(h&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},wl={moduleName:"EditCore",version:ze,beans:[aB,kK],apiFunctions:{getEditingCells:gK,getCellEditorInstances:mB,startEditingCell:CK,stopEditing:mK,isEditing:vK,validateEdit:wK},dynamicBeans:{singleCell:LK,fullRow:OK},dependsOn:[Zv,y3],css:[Y$]},IK={moduleName:"UndoRedoEdit",version:ze,beans:[j$],apiFunctions:{undoCellEditing:fK,redoCellEditing:pK,getCurrentUndoSize:yK,getCurrentRedoSize:SK},dependsOn:[wl]},NK={moduleName:"TextEditor",version:ze,userComponents:{agCellEditor:SF,agTextCellEditor:SF},dependsOn:[wl]},BK={moduleName:"NumberEditor",version:ze,userComponents:{agNumberCellEditor:{classImp:sK}},dependsOn:[wl]},HK={moduleName:"DateEditor",version:ze,userComponents:{agDateCellEditor:Q$,agDateStringCellEditor:eK},dependsOn:[wl]},GK={moduleName:"CheckboxEditor",version:ze,userComponents:{agCheckboxCellEditor:K$},dependsOn:[wl]},VK={moduleName:"SelectEditor",version:ze,userComponents:{agSelectCellEditor:aK},dependsOn:[wl]},zK={moduleName:"LargeTextEditor",version:ze,userComponents:{agLargeTextCellEditor:nK},dependsOn:[wl]},WK={moduleName:"CustomEditor",version:ze,dependsOn:[wl]},UK=class extends xe{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,qu(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),X7(e))}createColumns(e,t){const n=()=>{L0(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,s=(this.columns?.treeDepth??-1)==i,o=this.generateSelectionCols();if(q7(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,u=l?.findDepth(e.tree)??0,h=l?.balanceTreeForAutoCols(o,u)??[];this.columns={list:o,tree:h,treeDepth:u,map:{}},t(g=>{if(!g)return null;const v=g.filter(C=>!Cl(C));return[...o,...v]})}updateColumns(e){const t=qu(e.source);this.columns?.list.forEach(n=>{const i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),ws(this.beans,{state:[{...i,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>TP(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!sc(e))return!1;const i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!Ku(n),s=Qm(n);return r||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,u,h){const p=u.isSelected(),g=h.isSelected();return p===g?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:xP,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Oc(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Ku(t):void 0,r=e&&typeof e!="string"?Ku(e):void 0,s=i!==r,o=t&&typeof t!="string"?Qm(t):void 0,a=e&&typeof e!="string"?Qm(e):void 0,l=o!==a,u=_0(e),h=_0(t);(s||l||u!==h)&&this.beans.colModel.refreshAll(n)}destroy(){L0(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const i=e.length+t.length+n.length;if(i===0)return;const r=this.columns.list[0];if(!r.isVisible())return;const s=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Xr(l,r)};(this.beans.rowNumbersSvc?.getColumn(bP)?2:1)===i&&s()}};function jK(e,t){if(!t.nodes.every(o=>o.rowPinned&&!gp(o)?(Me(59),!1):o.id===void 0?(Me(60),!1):!0))return;const{nodes:i,source:r,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:s})}function YK(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function $K(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function KK(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function qK(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function XK(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function QK(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function ZK(e){return e.selectionSvc?.getSelectedNodes()??[]}function JK(e){return e.selectionSvc?.getSelectedRows()??[]}var eq=class extends IG{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=A0(e),this.groupSelectsDescendants=Lf(e),this.groupSelectsFiltered=k0(e)==="filteredDescendants",this.masterSelectsDetail=bR(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Lf(e),n=A0(e),i=k0(e)==="filteredDescendants";this.masterSelectsDetail=bR(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s,keepDescendants:o=!1}){if(!sc(this.gos)&&e)return Me(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Me(130),0;let a=0;for(let l=0;l<i.length;l++){const u=i[l],h=Fu(u),p=this.groupSelectsFiltered&&h.group;if(h.rowPinned&&!gp(h)){Me(59);continue}if(h.id===void 0){Me(60);continue}p||this.selectRowNode(h,e,r,s)&&(this.detailSelection.delete(h.id),a++),this.groupSelectsDescendants&&h.childrenAfterGroup?.length&&(a+=this.selectChildren(h,e,s))}return n||(i.length===1&&s==="api"&&this.selectionCtx.setRoot(Fu(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Fu(i[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{const s=Fu(r);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!Hn(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new Gf(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const i=new Map;let r=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!nq(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new xc(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Hn(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Hn(this.gos);let i=!1;const r=s=>{const o=this.selectRowNode(Fu(s),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){Ht(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return F3(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(r);return}this.groupSelectsDescendants||n(r)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!sc(t)){Me(132);return}if(D7(t)&&!P0(t)){Me(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let s=!1;if(this.getNodesToSelect(r).forEach(o=>{const a=this.selectRowNode(Fu(o),!0,void 0,i);s||(s=a)}),n.selectAll=!0,Hn(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);s||(s=o)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Ht(103);return}const i=new Set(e),r=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&r.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!Hn(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!sc(t))return;const i="selectableChanged",r=e!==void 0,s=Hn(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(r&&!l.group)return;if(s&&l.group){const h=l.childrenAfterGroup?.some(p=>p.selectable)??!1;this.setRowSelectable(l,h,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Gf(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const i=tq(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!P0(t)){Me(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const s of i){const o=n.getRowNode(s);o&&r.push(o)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Fu(e){return gp(e)?e.pinnedSibling:e.footer?e.sibling:e}function tq(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),F3(t,n)}function F3(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function nq(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var iq={moduleName:"SharedRowSelection",version:ze,beans:[UK],apiFunctions:{setNodesSelected:jK,selectAll:YK,deselectAll:$K,selectAllFiltered:KK,deselectAllFiltered:qK,selectAllOnCurrentPage:XK,deselectAllOnCurrentPage:QK,getSelectedNodes:ZK,getSelectedRows:JK}},rq={moduleName:"RowSelection",version:ze,rowModels:["clientSide","infinite","viewport"],beans:[eq],dependsOn:[iq]};function sq(e){e.expansionSvc?.expandAll(!0)}function oq(e){e.expansionSvc?.expandAll(!1)}function aq(e){const t=ho(e),n=i3(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function lq(e,t,n){const i=i3(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ht(238);return}i.setRowCount(t,n);return}Ht(28);return}const r=Qv(e);if(r){r.setRowCount(t,n);return}}function cq(e){return kc(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function uq(e){return e.rowModel.isLastRowIndexKnown()}var dq={moduleName:"CsrmSsrmSharedApi",version:ze,apiFunctions:{expandAll:sq,collapseAll:oq,onRowHeightChanged:aq}},hq={moduleName:"SsrmInfiniteSharedApi",version:ze,apiFunctions:{setRowCount:lq,getCacheBlockState:cq,isLastRowIndexKnown:uq}},fq=class extends xe{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Ht(18),t||Ht(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?r.current?.api:(r.api||Ht(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Me(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(g=>({colId:g.colId}));ws(i,{state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));ws(i,{state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));ws(i,{state:p},"alignedGridChanged")}break;case"columnResized":{const h=e,p={};a.forEach(g=>{p[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),h.flexColumns?.forEach(g=>{p[g.getId()]&&delete p[g.getId()]}),r?.setColumnWidths(Object.values(p),!1,h.finished,"alignedGridChanged");break}}const u=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(h=>{h.setGridOption("alwaysShowVerticalScroll",u)})}},pq={moduleName:"AlignedGrids",version:ze,beans:[fq],dependsOn:[Ok]},gq=class extends AG{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Cy=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function mq(e){if(un(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function M3(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),mq(e)}var vq=class extends xe{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=Ge(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Us(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,i,r,s,o){const{gos:a,colModel:l,rowGroupColsSvc:u,rowNodeSorter:h,rowRenderer:p,showRowGroupCols:g}=e,v=a.get("groupMaintainOrder"),C=l.getCols().some(T=>T.isRowGroupActive()),w=l.isPivotMode(),S=a.getCallback("postSortRows");let x=!1;const E=T=>{const R=w&&T.leafGroup,F=v&&C&&!T.leafGroup&&!o;let P;if(F){const L=u?.columns?.[T.level+1]?.getSort()===null,A=T.childrenAfterAggFilter.slice(0);if(T.childrenAfterSort&&!L){const O={};T.childrenAfterSort.forEach((I,z)=>{O[I.id]=z}),A.sort((I,z)=>(O[I.id]??0)-(O[z.id]??0))}P=A}else!n||R?P=T.childrenAfterAggFilter.slice(0):i&&r?P=Cq(h,T,r,s,t):P=h.doFullSort(T.childrenAfterAggFilter,t);if(x||(x=T.childrenAfterSort?.[0]!==P[0]),T.childrenAfterSort=P,M3(T),S){const _={nodes:T.childrenAfterSort};S(_)}};if(s?.forEachChangedNodeDepthFirst(E),x&&this.gos.get("groupHideOpenParents")){const T=g?.getShowRowGroupCols();T?.length&&p.refreshCells({columns:T,force:!0})}}};function Cq(e,t,n,i,r){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);const a=new Set,l=[],{updates:u,adds:h}=n;for(let g=0,v=s.length;g<v;++g){const C=s[g];u.has(C)||h.has(C)||i&&!i.canSkip(C)?l.push({currentPos:l.length,rowNode:C}):a.add(C.id)}const p=o.filter(g=>a.has(g.id)).map((g,v)=>({currentPos:v,rowNode:g}));return l.sort((g,v)=>e.compareRowNodes(r,g,v)),wq(e,r,l,p)}function wq(e,t,n,i){const r=[];let s=0,o=0;const a=n.length,l=i.length;for(;s<a&&o<l;){const u=n[s],h=i[o],p=e.compareRowNodes(t,u,h);let g;p<0?(g=u,++s):(g=h,++o),r.push(g.rowNode)}for(;s<a;)r.push(n[s++].rowNode);for(;o<l;)r.push(i[o++].rowNode);return r}var yq=class extends xe{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=pi(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new xc(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return mP(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),u=Math.min(a,i);for(let h=l;h<=u;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const g=al(this.beans,p);p.setRowHeight(g.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,Me(1))),a&&(r||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new Cy,o.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:h,pinnedRowModel:p}=this.beans;h?.reset("rowDataChanged"),p?.isManual()&&p.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:u,step:h}of this.orderedStages)if(e.some(p=>u.has(p))){i.step=h;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const r=new Set,s=vi(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&r.add(l.id),l.rowHeight==null){const u=al(e,l,s,n);l.setRowHeight(u.height,u.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,i=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,s=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;const s=t.childrenAfterSort?.findIndex(o=>o===r);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=$u(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=$u(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=$u(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Gf(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const i=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.changedRowNodes,i);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],s=Lf(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){r.push(o);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(Nt(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),s===n&&o===i))return a;s=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,r=0){let s=r;if(!i)return s;const o=i===this.rootNode;o||e(i,s++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const l=n(i);if(l){s=a?.addTotalRows(s,i,e,t,o,"top")??s;for(const u of l)s=this.depthFirstSearchRowNodes(e,t,n,u,s);return a?.addTotalRows(s,i,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),M3(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,r3(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(RS)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new Cy;let i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction,n);o&&(i=!0),t.push(s),r.callback&&e.push(r.callback.bind(null,s))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new Cy,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=O0,this.rowsToDisplay=O0}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Sq(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function xq(e,t){const n=ho(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function bq(e){return ho(e)?.isEmpty()??!0}function Eq(e,t){ho(e)?.forEachLeafNode(t)}function Tq(e,t){ho(e)?.forEachNodeAfterFilter(t)}function Dq(e,t){ho(e)?.forEachNodeAfterFilterAndSort(t)}function Rq(e){if(e.rowAutoHeight?.active){Me(3);return}ho(e)?.resetRowHeights()}function Fq(e,t){return e.frameworkOverrides.wrapIncoming(()=>ho(e)?.updateRowData(t))}function Mq(e,t,n){e.frameworkOverrides.wrapIncoming(()=>ho(e)?.batchUpdateRowData(t,n))}function _q(e){e.frameworkOverrides.wrapIncoming(()=>ho(e)?.flushAsyncTransactions())}function Aq(e){return e.selectionSvc?.getBestCostNodeSelection()}var Pq={moduleName:"ClientSideRowModel",version:ze,rowModels:["clientSide"],beans:[gq,yq,vq],dependsOn:[Jk]},kq={moduleName:"ClientSideRowModelApi",version:ze,apiFunctions:{onGroupExpandedOrCollapsed:Sq,refreshClientSideRowModel:xq,isRowDataEmpty:bq,forEachLeafNode:Eq,forEachNodeAfterFilter:Tq,forEachNodeAfterFilterAndSort:Dq,resetRowHeights:Rq,applyTransaction:Fq,applyTransactionAsync:Mq,flushAsyncTransactions:_q,getBestCostNodeSelection:Aq},dependsOn:[dq]},Oq=class extends xe{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){const r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,u=!!i.footer,h=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&E7(this.gos,i);if(!l&&!u&&(t.skipRowGroups||h||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!u||r(Je(this.gos,{node:i})))return;const v=e.onNewBodyRow(i);if(n.forEach((C,w)=>{v.onColumn(C,w,i)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(Je(this.gos,{node:i}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new OP,{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,r=Hn(this.gos),s=kc(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>i.getRow(u.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){const u=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?i.forEachNode(a):r||s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),u=g=>Cl(g)?!1:!il(g)||i;if(r&&r.length)return s.getColsForKeys(r).filter(u);const h=o.get("treeData");let p=[];return t&&!l?p=s.getCols():p=a.allCols,p=p.filter(g=>u(g)&&(n&&!h?!Hx(g):!0)),p}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o))}),e.length>0&&_n(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;n?a=n(Je(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,h,p,g)=>{let v=Nt(u);return h.getColumnGroupShow()==="open"?(!v||v[1]!=null)&&(v=[p],u.push(v)):v&&v[1]==null&&(v[1]=p-1),p===g.length-1&&v&&v[1]==null&&(v[1]=p),u},[]);i.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}},Lq={moduleName:"SharedExport",version:ze,beans:[Oq]},xF=`\r
`,Iq=class extends yY{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,xF),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Me(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=xF),this.isFirstLine=!1}},Nq=class extends wY{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Me(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(Je(this.gos,{})):t.fileName;SY(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:p}=e;return new Iq({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:p||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Bq(e,t){return e.csvCreator?.getDataAsCsv(t)}function Hq(e,t){e.csvCreator?.exportDataAsCsv(t)}var Gq={moduleName:"CsvExport",version:ze,beans:[Nq],apiFunctions:{getDataAsCsv:Bq,exportDataAsCsv:Hq},dependsOn:[Lq]},Vq=class extends xe{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){const o=n+s,a=new xc(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),r.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){Ge(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(un(this.params.datasource.getRows)){Me(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:Je(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{const o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new xc(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},zq=2,Wq=class extends xe{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new Vq(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(vc(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=zq-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,u=i?a>=r:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Ge(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&i+1!==l.id){o=!0;return}i=l.id,l.forEachNode(u=>{const h=u===e||u===t;(r||h)&&n.push(u),h&&(r=!r)},s,this.rowCount)}}),o||r?[]:n}},Uq=class extends xe{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=oc(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=oc(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!_f(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;pd(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:oc(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Wq(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function jq(e){Qv(e)?.refreshCache()}function Yq(e){Qv(e)?.purgeCache()}function $q(e){return Qv(e)?.getRowCount()}var Kq=class extends xe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=T7(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=pi(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Xr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){vc(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){vc(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},qq={moduleName:"InfiniteRowModelCore",version:ze,rowModels:["infinite"],beans:[Uq,Kq]},Xq={moduleName:"InfiniteRowModel",version:ze,apiFunctions:{refreshInfiniteCache:jq,purgeInfiniteCache:Yq,getInfiniteRowCount:$q},dependsOn:[qq,hq]},Qq="",Zq="",Jq={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},eX=class extends nn{constructor(){super(Jq),this.eValue=qe,this.eDelta=qe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=Ge(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=Qq+r:o.textContent=Zq+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),br(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(Ge(i)?r.textContent=i:Ge(n)?r.textContent=n:br(r),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const u=a-l;this.showDelta(e,u)}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},tX=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",nX={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},iX=class extends nn{constructor(){super(nX),this.eCurrent=qe,this.refreshCount=0,this.registerCSS(tX)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=Ln({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(un(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return Ge(e.valueFormatted)?i.textContent=e.valueFormatted:Ge(e.value)?i.textContent=n:br(i),!0}},rX=class extends xe{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const r=this.animations[t];r.delete(e);const s=Date.now(),o=s+n,a=s+n+i,l={phase:"flash",flashEndTime:o,fadeEndTime:a};r.set(e,l);const u=`ag-cell-${t}`,h=`${u}-animation`,{comp:p,eGui:{style:g}}=e;p.toggleCss(u,!0),p.toggleCss(h,!1),g.removeProperty("transition"),g.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],r=`ag-cell-${n}`,s=`${r}-animation`;for(const[o,a]of i){if(!o.isAlive()||!o.comp){i.delete(o);continue}const{phase:l,flashEndTime:u,fadeEndTime:h}=a,p=l==="flash"?u:h;if(!(e+15>=p)){t=Math.min(p,t??1/0);continue}const{comp:v,eGui:{style:C}}=o;switch(l){case"flash":v.toggleCss(r,!1),v.toggleCss(s,!0),C.transition=`background-color ${h-u}ms`,C.transitionDelay=`${u-e}ms`,t=Math.min(h,t??1/0),a.phase="fade";break;case"fade":v.toggleCss(r,!1),v.toggleCss(s,!1),C.removeProperty("transition"),C.removeProperty("transition-delay"),i.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=lB(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function sX(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var oX={moduleName:"HighlightChanges",version:ze,beans:[rX],userComponents:{agAnimateShowChangeCellRenderer:eX,agAnimateSlideCellRenderer:iX},apiFunctions:{flashCells:sX}};function aX(e){return e.stateSvc?.getState()??{}}function lX(e,t,n){return e.stateSvc?.setState(t,n)}function bF(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=cX(e)}return e.version=ze,e}function cX(e){return e.cellSelection=uX(e,"rangeSelection"),e}function uX(e,t){if(e&&typeof e=="object")return e[t]}var dX=class extends xe{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=pi(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=pi(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=pi(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Hn(this.gos);const e=bF(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[i,r,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=bF(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:r,rowSelection:s,pagination:o}=e,a=(u,h)=>!n?.has(u)&&(h||t==="api");a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:r,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(p,g)=>!n?.has(p)&&(g||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",r)&&this.setCellSelectionState(r),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const h=this.getRangeSelectionState();u("rangeSelection",h),u("cellSelection",h),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return cY(N0(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:r,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:u,columnSizing:h,columnOrder:p}=e,g=(O,I)=>!i?.has(O)&&(I||t==="api"),v={},C=O=>{let I=v[O];return I||(I={colId:O},v[O]=I,I)},w={},S=g("sort",r);S&&r?.sortModel.forEach(({colId:O,sort:I},z)=>{const J=C(O);J.sort=I,J.sortIndex=z}),(S||!n)&&(w.sort=null,w.sortIndex=null);const x=g("rowGroup",s);x&&s?.groupColIds.forEach((O,I)=>{const z=C(O);z.rowGroup=!0,z.rowGroupIndex=I}),(x||!n)&&(w.rowGroup=null,w.rowGroupIndex=null);const E=g("aggregation",o);E&&o?.aggregationModel.forEach(({colId:O,aggFunc:I})=>{C(O).aggFunc=I}),(E||!n)&&(w.aggFunc=null);const T=g("pivot",a);T&&(a?.pivotColIds.forEach((O,I)=>{const z=C(O);z.pivot=!0,z.pivotIndex=I}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(T||!n)&&(w.pivot=null,w.pivotIndex=null);const R=g("columnPinning",l);R&&(l?.leftColIds.forEach(O=>{C(O).pinned="left"}),l?.rightColIds.forEach(O=>{C(O).pinned="right"})),(R||!n)&&(w.pinned=null);const F=g("columnVisibility",u);F&&u?.hiddenColIds.forEach(O=>{C(O).hide=!0}),(F||!n)&&(w.hide=null);const P=g("columnSizing",h);P&&h?.columnSizingModel.forEach(({colId:O,flex:I,width:z})=>{const J=C(O);J.flex=I??null,J.width=z}),(P||!n)&&(w.flex=null);const _=p?.orderedColIds,L=!!_?.length&&!i?.has("columnOrder"),A=L?_.map(O=>C(O)):Object.values(v);A.length&&(this.columnStates=A,ws(this.beans,{state:A,applyOrder:L,defaultState:w},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const r=this.beans,{pivotResultCols:s,colGroupSvc:o}=r;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);ws(r,{state:a,applyOrder:e},t)}i&&o?.setColumnGroupState(i,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return uY(t)}setColumnGroupState(e,t,n){const i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const r=new Set(e.columnGroup?.openColumnGroupIds),o=i.getColumnGroupState().map(({groupId:a})=>{const l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});r.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),i.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:i,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!ll(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const h=i.getCol(u);h&&a.push(h)}),!a.length)return;let l=i.getCol(o.startColId);if(!l){const u=r.allCols,h=new Set(a);l=u.find(p=>h.has(p))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:i,rowIndex:r,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:r,page:s}=e??{page:0,pageSize:i.get("paginationPageSize")},o=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const i=e?.expandedRowGroupIds??[];let r;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of i)o.delete(a);r=Array.from(o)}}n.expandRows(i,r)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const s=t[r];_f(s,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),_f(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},hX={moduleName:"GridState",version:ze,beans:[dX],apiFunctions:{getState:aX,setState:lX}};function fX(e){return e.rowModel.isLastRowIndexKnown()}function pX(e){return e.pagination?.getPageSize()??100}function gX(e){return e.pagination?.getCurrentPage()??0}function mX(e){return e.pagination?.getTotalPages()??1}function vX(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function CX(e){e.pagination?.goToNextPage()}function wX(e){e.pagination?.goToPreviousPage()}function yX(e){e.pagination?.goToFirstPage()}function SX(e){e.pagination?.goToLastPage()}function xX(e,t){e.pagination?.goToPage(t)}var bX=class extends xe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(oc(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?pi(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Qh="paginationPageSizeSelector",EX={tag:"span",cls:"ag-paging-page-size"},TX=class extends nn{constructor(){super(EX),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Qh,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){br(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Qh)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(Qh)!==!0;Me(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||Me(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Qh}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(Lc(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new rb).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Qh);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},DX={selector:"AG-PAGE-SIZE-SELECTOR",component:TX},RX=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",FX=class extends qG{constructor(){super(),this.btFirst=qe,this.btPrevious=qe,this.btNext=qe,this.btLast=qe,this.lbRecordCount=qe,this.lbFirstRowOnPage=qe,this.lbLastRowOnPage=qe,this.lbCurrent=qe,this.lbTotal=qe,this.pageSizeComp=qe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(RX)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[DX]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Kr(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Kr(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Kr(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Kr(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):AB(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===me.ENTER||i.key===me.SPACE)&&(i.preventDefault(),n())}})}),_B(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):CY(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){KN(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>i&&(a=i));const l=o+s-1,u=!e&&n<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let p;const g=this.getLocaleTextFunc();u?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const C=t>0?r+1:0,w=this.formatNumber(C);this.lbCurrent.textContent=w;let S,x;if(e)S=this.formatNumber(t),x=this.formatNumber(i);else{const E=g("more","more");S=E,x=E}this.lbTotal.textContent=S,this.lbRecordCount.textContent=x,this.announceAriaStatus(h,p,x,w,S)}announceAriaStatus(e,t,n,i,r){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,h=`${o} ${i} ${l} ${r}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnounce?.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnounce?.announceValue(h,"paginationPage"))}},MX={selector:"AG-PAGINATION",component:FX},_X=class extends xe{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return MX}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ge(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ge(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ge(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ge(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,s=n*r;let o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},AX={moduleName:"Pagination",version:ze,beans:[_X,bX],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:fX,paginationGetPageSize:pX,paginationGetCurrentPage:gX,paginationGetTotalPages:mX,paginationGetRowCount:vX,paginationGoToNextPage:CX,paginationGoToPreviousPage:wX,paginationGoToFirstPage:yX,paginationGoToLastPage:SX,paginationGoToPage:xX},dependsOn:[Zv]};function PX(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function _3(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&_3(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function kX(e,t){return e.rowModel.getRowNode(t)}function OX(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function LX(e){return e.rowRenderer.getRenderedNodes()}function IX(e,t,n){e.rowModel.forEachNode(t,n)}function NX(e){return e.rowRenderer.firstRenderedRow}function BX(e){return e.rowRenderer.lastRenderedRow}function HX(e,t){return e.rowModel.getRow(t)}function GX(e){return e.rowModel.getRowCount()}var VX={moduleName:"RowApi",version:ze,apiFunctions:{redrawRows:PX,setRowNodeExpanded:_3,getRowNode:kX,addRenderedRowListener:OX,getRenderedNodes:LX,forEachNode:IX,getFirstDisplayedRowIndex:NX,getLastDisplayedRowIndex:BX,getDisplayedRowAtIndex:HX,getDisplayedRowCount:GX}},zX={moduleName:"ScrollApi",version:ze,apiFunctions:{getVerticalPixelRange:uK,getHorizontalPixelRange:dK,ensureColumnVisible:S3,ensureIndexVisible:x3,ensureNodeVisible:hK}};function WX(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function UX(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function jX(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function YX(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function $X(e){e.animationFrameSvc?.flushAllFrames()}function KX(e){return{rowHeight:oc(e),headerHeight:vp(e)}}function qX(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(If(o))}),t.columns?.length)return n;const i=[],r=BS(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(r&&!HS(s.rowNode,r)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(If(l))}}),[...i,...n]}var XX={moduleName:"RenderApi",version:ze,apiFunctions:{setGridAriaProperty:WX,refreshCells:UX,refreshHeader:jX,isAnimationFrameQueueEmpty:YX,flushAllAnimationFrames:$X,getSizesForCurrentTheme:KX,getCellRendererInstances:qX}};function QX(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function A3({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function ZX(e,t){t&&typeof t=="object"?A3(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var JX=class extends xe{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:u,renderStatus:h,colModel:p,autoWidthCalc:g,visibleCols:v}=this.beans;if(u?.flushAllFrames(),this.timesDelayed<5&&h&&!h.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const C=[];let w=-1;const S=Object.fromEntries(a.map(({colId:T,maxWidth:R,minWidth:F})=>[T,{maxWidth:R,minWidth:F}])),x=n??this.gos.get("skipHeaderOnAutoSize"),E=i??x;for(;w!==0;){w=0;const T=[];t.forEach(R=>{if(!R||K7(R))return;const F=p.getCol(R);if(!F||C.indexOf(F)>=0)return;const P=g.getPreferredWidthForColumn(F,x);if(P>0){const _=S[F.colId]??{};_.minWidth??(_.minWidth=o),_.maxWidth??(_.maxWidth=s);const L=eQ(F,P,_);F.setActualWidth(L,l),C.push(F),w++}T.push(F)}),T.length&&v.refresh(l)}E||this.autoSizeColumnGroupsByColumns(t,l,r),gd(this.eventSvc,C,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,s=new Set;i.getColsForKeys(e).forEach(u=>{let h=u.getParent();for(;h&&h!=n;)h.isPadding()||s.add(h),h=h.getParent()});let a;const l=[];for(const u of s){for(const h of r.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new zl(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=kf(r.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Me(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&i?.columnLimits?.forEach(({key:v,...C})=>{r[typeof v=="string"?v:v.getColId()]=C});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===Po(s)&&s.every(C=>{if(C.colDef.suppressSizeToFit)return!0;const w=r?.[C.getId()],S=w?.minWidth??i?.defaultMinWidth,x=w?.maxWidth??i?.defaultMaxWidth,E=C.getActualWidth();return(S==null||E>=S)&&(x==null||E<=x)}))return;const a=[],l=[];s.forEach(v=>{v.getColDef().suppressSizeToFit===!0?l.push(v):a.push(v)});const u=a.slice(0);let h=!1;const p=v=>{Xr(a,v),l.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const C=r?.[v.getId()],w=C?.minWidth??i?.defaultMinWidth,S=C?.maxWidth??i?.defaultMaxWidth,x=v.getActualWidth();typeof w=="number"&&x<w?v.setActualWidth(w,t,!0):typeof S=="number"&&x>S&&v.setActualWidth(S,t,!0)});!h;){h=!0;const v=e-Po(l);if(v<=0)a.forEach(C=>{const w=r?.[C.getId()]?.minWidth??i?.defaultMinWidth;if(typeof w=="number"){C.setActualWidth(w,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=v/Po(a);let w=v;for(let S=a.length-1;S>=0;S--){const x=a[S],E=r?.[x.getId()],T=E?.minWidth??i?.defaultMinWidth,R=E?.maxWidth??i?.defaultMaxWidth,F=x.getMinWidth(),P=x.getMaxWidth(),_=typeof T=="number"&&T>F?T:F,L=typeof R=="number"&&R<P?R:P;let A=Math.round(x.getActualWidth()*C);A<_?(A=_,p(x),h=!1):A>L?(A=L,p(x),h=!1):S===0&&(A=w),x.setActualWidth(A,t,!0),w-=A}}}u.forEach(v=>{v.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!n&&gd(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function eQ(e,t,n={}){const i=n.minWidth??e.getMinWidth();t<i&&(t=i);const r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var tQ={moduleName:"ColumnAutoSize",version:ze,beans:[JX],apiFunctions:{sizeColumnsToFit:QX,autoSizeColumns:A3,autoSizeAllColumns:ZX},dependsOn:[kk]},nQ=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function iQ(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function rQ(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function sQ(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function oQ(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function aQ(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var lQ={moduleName:"PinnedRow",version:ze,beans:[MG],css:[nQ],apiFunctions:{getPinnedTopRowCount:iQ,getPinnedBottomRowCount:rQ,getPinnedTopRow:sQ,getPinnedBottomRow:oQ,forEachPinnedRow:aQ},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},cQ=class extends Zu{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,s,o){this.eWrapper=n,super.setComp(e,t,n,i,r,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&VA(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){ZN(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Yv(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},uQ=class extends j0{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new cQ(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},dQ=class extends xe{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const u of s)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(h,p)=>{if(o.has(p.firstNode))return;const g=i.get(p.firstNode);if(g){o.set(p.firstNode,g),i.delete(p.firstNode);return}a=!0;const v=new uQ(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,v)});this[n]=o;const l=o.size===r;if(!(!a&&l)){for(const u of i.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const i=`${P3(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},P3=e=>e??"center",hQ=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},fQ=class extends xe{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],u=new Map,h=n.getCallback("isFullWidthRow"),p=a.equals,g=a.spanRows,v=typeof g=="function";let C=null,w=null,S;const x=(T,R)=>{C=T,w=null,S=R},E=T=>{const R=!T.isExpandable()&&!T.group&&!T.detail&&(h?!h({rowNode:T}):!0);if(T.rowIndex==null||!R){x(null,null);return}if(C==null||T.level!==C.level||T.footer||w&&T.rowIndex-1!==w?.getLastNode().rowIndex){x(T,s.getValue(t,T));return}const F=s.getValue(t,T);if(v){const P=Je(n,{valueA:S,nodeA:C,valueB:F,nodeB:T,column:t,colDef:a});if(!g(P)){x(T,F);return}}else if(p?!p(S,F):S!==F){x(T,F);return}if(!w){const P=l?.get(C);P?.firstNode===C?(P.reset(),w=P):w=new hQ(t,C),u.set(C,w)}w.addSpannedNode(T),u.set(T,w)};switch(e){case"center":r.forEachDisplayedNode?.(T=>{(!o||o.isRowInPage(T.rowIndex))&&E(T)});break;case"top":i?.forEachPinnedRow("top",E);break;case"bottom":i?.forEachPinnedRow("bottom",E);break}this[`${e}ValueNodeMap`]=u}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${P3(e.rowPinned)}ValueNodeMap`].get(e)}},pQ=class extends xe{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=pi(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=pi(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new fQ(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(r);break;case"bottom":o=t?.getPinnedBottomRow(r);break;default:o=n.getRow(r)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},gQ={moduleName:"CellSpan",version:ze,beans:[pQ,dQ]},mQ=class extends xe{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);qx(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return Je(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},vQ=class extends xe{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){qx(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new mQ(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},CQ={moduleName:"CellStyle",version:ze,beans:[vQ]},wQ={moduleName:"RowStyle",version:ze,beans:[xH]};function yQ(e,t){return!!e.colHover?.isHovered(t)}var SQ=class extends xe{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:r,element:s,columns:o}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(u=>u()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},xQ="ag-column-hover",bQ=class extends xe{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(xQ,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new SQ(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},EQ={moduleName:"ColumnHover",version:ze,beans:[bQ],apiFunctions:{isColumnHovered:yQ}},TQ=class extends xe{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,i=!o0.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{o0.has(s)&&t(s,o)},i=(s,o)=>{o0.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){const{syncListener:o,asyncListener:a}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function DQ(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function RQ(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function FQ(e,t){e.apiEventSvc?.addGlobalListener(t)}function MQ(e,t){e.apiEventSvc?.removeGlobalListener(t)}var _Q={moduleName:"EventApi",version:ze,apiFunctions:{addEventListener:DQ,addGlobalListener:FQ,removeEventListener:RQ,removeGlobalListener:MQ},beans:[TQ]},AQ={moduleName:"Locale",version:ze,beans:[lY]},PQ=class extends xe{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=pi(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let u=al(this.beans,a).height;for(const h of r){let p=l?.[h.getColId()];const g=n?.getCellSpan(h,a);if(g){if(g.getLastNode()!==a)continue;if(p=n?.getCellSpan(h,a)?.getLastNodeAutoHeight(),!p)return}if(p==null){if(this.colSpanSkipCell(h,a))continue;return}u=Math.max(p,u)}u!==a.rowHeight&&(a.setRowHeight(u),s=!0)};i?.forEachPinnedRow?.("top",o),i?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=r.getLeftColsForRow(t);break;case"right":s=r.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,a=h=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:g,borderBottomWidth:v,borderTopWidth:C}=Pc(i),w=p+g+v+C,x=t.offsetHeight+w;if(h<5){const E=ti(o),T=!E||!E.contains(t),R=x==0;if(T||R){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(r,x,s)},l=()=>a(0);l();const u=ca(o,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(r,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},kQ={moduleName:"RowAutoHeight",version:ze,beans:[PQ]},OQ={moduleName:"AllCommunity",version:ze,dependsOn:[Pq,Gq,Xq,kY,NK,BK,HK,GK,VK,zK,WK,IK,I$,N$,B$,L$,G$,V$,hX,pq,AX,Ok,VX,zX,XX,tQ,MV,lQ,rq,Uj,CQ,EQ,wQ,_Q,$j,oX,y3,AQ,kQ,FV,kq,gQ]},Fi=te.createContext({}),k3=te.createContext("default"),Cp=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),n.appendChild(a),EF(i,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),i&&EF(i,void 0))}},EF=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Wr=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),qr=class O3{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new O3;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Ld=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},WS=te.version?.split(".")[0],L3=WS==="16"||WS==="17";function LQ(){return WS==="19"}var a0=!1;function IQ(e){return a0||setTimeout(()=>a0=!1,0),a0=!0,e()}var Wf=(e,t)=>{!L3&&e&&!a0?AA.flushSync(t):t()},NQ=e=>{L3?e():te.startTransition(e)};function BQ(e,t,n){return te.useSyncExternalStore?te.useSyncExternalStore(e,t):n}function q0(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],r=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&i.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;s.has(u)||r.push(l)}return i.length===e.length&&r.length===0?e:i.length===0&&r.length===t.length?t:i.length===0?r:r.length===0?i:[...i,...r]}var I3=D.forwardRef((e,t)=>{const{registry:n,context:i}=D.useContext(Fi),r=D.useRef(null),s=D.useRef(null),o=D.useRef(null),a=D.useRef(null),l=D.useRef(null),u=D.useRef(),[h,p]=D.useState(),[g,v]=D.useState(),[C,w]=D.useState(),[S,x]=D.useState(()=>new qr),[E,T]=D.useState(()=>new qr("ag-hidden")),[R,F]=D.useState(()=>new qr("ag-hidden")),[P,_]=D.useState(()=>new qr("ag-invisible"));D.useImperativeHandle(t,()=>({refresh(){return!1}})),D.useLayoutEffect(()=>Cp(h,i,s.current),[h]);const L=D.useCallback(W=>{if(r.current=W,!W){u.current=i.destroyBean(u.current);return}const Q={setInnerRenderer:(H,le)=>{p(H),w(le)},setChildCount:H=>v(H),toggleCss:(H,le)=>x(B=>B.setClass(H,le)),setContractedDisplayed:H=>F(le=>le.setClass("ag-hidden",!H)),setExpandedDisplayed:H=>T(le=>le.setClass("ag-hidden",!H)),setCheckboxVisible:H=>_(le=>le.setClass("ag-invisible",!H)),setCheckboxSpacing:H=>_(le=>le.setClass("ag-group-checkbox-spacing",H))},ce=n.createDynamicBean("groupCellRendererCtrl",!0);ce&&(u.current=i.createBean(ce),u.current.init(Q,W,o.current,a.current,l.current,I3,e))},[]),A=D.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),O=D.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),I=D.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),z=D.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),J=h?.componentFromFramework,ae=J?h.componentClass:void 0,ie=h==null&&C!=null,j=Pd(C);return te.createElement("span",{className:A,ref:L,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},te.createElement("span",{className:O,ref:a}),te.createElement("span",{className:I,ref:l}),te.createElement("span",{className:z,ref:o}),te.createElement("span",{className:"ag-group-value",ref:s},ie?j:J?te.createElement(ae,{...h.params}):null),te.createElement("span",{className:"ag-group-child-count"},g))}),TF=I3,mb=D.createContext({setMethods:()=>{}}),HQ=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...o},a]=D.useState(t);return D.useEffect(()=>{n(l=>a(l))},[]),te.createElement(mb.Provider,{value:{setMethods:r}},te.createElement(i,{key:s,...o}))},GQ=D.memo(HQ),VQ=0;function DF(){return`agPortalKey_${++VQ}`}var N3=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=DF(),this.portalKey=DF(),this.instanceCreated=this.isStatelessComponent()?bt.resolve(!1):new bt(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new bt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Wv.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return D.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function tC(e,t,n){e.forEach(i=>{const r=t[i];r&&(n[i]=r)})}var Tr=class extends N3{constructor(){super(...arguments),this.awaitUpdateCallback=new bt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=GQ}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new bt(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,tC(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new bt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},zQ=class extends Tr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},WQ=class extends Tr{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},UQ=class extends Tr{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},jQ=class extends Tr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new bt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new bt(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},YQ=class extends Tr{constructor(){super(...arguments),this.awaitSetMethodsCallback=new bt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function B3(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||bt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var $Q=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){tC(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),B3(this.floatingFilterParams,e)}},KQ=class extends Tr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),B3(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},qQ=class extends Tr{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},XQ=class extends Tr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},QQ=class extends Tr{refresh(e){this.sourceParams=e,this.refreshProps()}},ZQ=class extends Tr{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},JQ=class extends Tr{refresh(e){this.sourceParams=e,this.refreshProps()}},eZ=class extends Tr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},tZ=class extends Tr{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function vb(){Me(231)}var nZ=1e3,iZ=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||nZ}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Wf(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},rZ=({ctrl:e})=>{const t=e.isAlive(),{context:n}=D.useContext(Fi),i=t?e.column.getColId():void 0,[r,s]=D.useState(),[o,a]=D.useState(),l=D.useRef(),u=D.useRef(null),h=D.useRef(null),p=D.useRef(null),g=D.useRef(),v=D.useRef();t&&!v.current&&(v.current=new pp(()=>u.current));const C=D.useCallback(E=>{if(u.current=E,l.current=E?n.createBean(new kd):n.destroyBean(l.current),!E||!e.isAlive())return;const T=()=>{const F=e.getSelectAllGui();F&&(h.current?.insertAdjacentElement("afterend",F),l.current.addDestroyFunc(()=>F.remove()))},R={setWidth:F=>{u.current&&(u.current.style.width=F)},toggleCss:(F,P)=>v.current.toggleCss(F,P),setUserStyles:F=>a(F),setAriaSort:F=>{u.current&&(F?t7(u.current,F):n7(u.current))},setUserCompDetails:F=>s(F),getUserCompInstance:()=>g.current||void 0,refreshSelectAllGui:T,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(R,E,h.current,p.current,l.current),T()},[]);D.useLayoutEffect(()=>Cp(r,n,p.current,g),[r]),D.useEffect(()=>{e.setDragSource(u.current)},[r]);const w=D.useMemo(()=>!!(r?.componentFromFramework&&Ld(r.componentClass)),[r]),S=r?.componentFromFramework,x=r?.componentClass;return te.createElement("div",{ref:C,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},te.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),te.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},S?w?te.createElement(x,{...r.params}):te.createElement(x,{...r.params,ref:g}):null))},sZ=D.memo(rZ),oZ=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){tC(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},aZ=({ctrl:e})=>{const{context:t,gos:n}=D.useContext(Fi),[i,r]=D.useState(),[s,o]=D.useState(()=>new qr("ag-header-cell","ag-floating-filter")),[a,l]=D.useState(()=>new qr),[u,h]=D.useState(()=>new qr("ag-floating-filter-button","ag-hidden")),[p,g]=D.useState("false"),[v,C]=D.useState(),[,w]=D.useState(1),S=D.useRef(),x=D.useRef(null),E=D.useRef(null),T=D.useRef(null),R=D.useRef(null),F=D.useRef(),P=D.useRef(),_=H=>{H!=null&&F.current&&F.current(H)},L=D.useCallback(H=>{if(x.current=H,S.current=H?t.createBean(new kd):t.destroyBean(S.current),!H||!e.isAlive())return;P.current=new bt(B=>{F.current=B});const le={toggleCss:(B,Y)=>o(K=>K.setClass(B,Y)),setUserStyles:B=>r(B),addOrRemoveBodyCssClass:(B,Y)=>l(K=>K.setClass(B,Y)),setButtonWrapperDisplayed:B=>{h(Y=>Y.setClass("ag-hidden",!B)),g(B?"false":"true")},setWidth:B=>{x.current&&(x.current.style.width=B)},setCompDetails:B=>C(B),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:B=>R.current?.appendChild(B)};e.setComp(le,H,R.current,E.current,S.current)},[]);D.useLayoutEffect(()=>Cp(v,t,E.current,_),[v]);const A=D.useMemo(()=>s.toString(),[s]),O=D.useMemo(()=>a.toString(),[a]),I=D.useMemo(()=>u.toString(),[u]),z=D.useMemo(()=>!!(v&&v.componentFromFramework&&Ld(v.componentClass)),[v]),J=D.useMemo(()=>n.get("reactiveCustomComponents"),[]),ae=D.useMemo(()=>n.get("enableFilterHandlers"),[]),[ie,j]=D.useState();D.useEffect(()=>{if(v?.componentFromFramework)if(J){const H=ae?oZ:$Q,le=new H(v.params,()=>w(B=>B+1));_(le),j(le)}else vb()},[v]);const W=ie?.getProps(),Q=v?.componentFromFramework,ce=v?.componentClass;return te.createElement("div",{ref:L,style:i,className:A,role:"gridcell"},te.createElement("div",{ref:E,className:O,role:"presentation"},Q?J?W&&te.createElement(mb.Provider,{value:{setMethods:H=>ie.setMethods(H)}},te.createElement(ce,{...W})):te.createElement(ce,{...v.params,ref:z?()=>{}:_}):null),te.createElement("div",{ref:T,"aria-hidden":p,className:I,role:"presentation"},te.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},lZ=D.memo(aZ),cZ=({ctrl:e})=>{const{context:t}=D.useContext(Fi),[n,i]=D.useState(),[r,s]=D.useState(()=>new qr),[o,a]=D.useState(()=>new qr),[l,u]=D.useState("false"),[h,p]=D.useState(),[g,v]=D.useState(),C=D.useMemo(()=>e.column.getUniqueId(),[]),w=D.useRef(),S=D.useRef(null),x=D.useRef(null),E=D.useRef(null),T=D.useRef(),R=D.useCallback(O=>{if(S.current=O,w.current=O?t.createBean(new kd):t.destroyBean(w.current),!O||!e.isAlive())return;const I={setWidth:z=>{S.current&&(S.current.style.width=z)},toggleCss:(z,J)=>s(ae=>ae.setClass(z,J)),setUserStyles:z=>i(z),setHeaderWrapperHidden:z=>{const J=E.current;J&&(z?J.style.setProperty("display","none"):J.style.removeProperty("display"))},setHeaderWrapperMaxHeight:z=>{const J=E.current;J&&(z!=null?J.style.setProperty("max-height",`${z}px`):J.style.removeProperty("max-height"),J.classList.toggle("ag-header-cell-comp-wrapper-limited-height",z!=null))},setUserCompDetails:z=>v(z),setResizableDisplayed:z=>{a(J=>J.setClass("ag-hidden",!z)),u(z?"false":"true")},setAriaExpanded:z=>p(z),getUserCompInstance:()=>T.current||void 0};e.setComp(I,O,x.current,E.current,w.current)},[]);D.useLayoutEffect(()=>Cp(g,t,E.current),[g]),D.useEffect(()=>{S.current&&e.setDragSource(S.current)},[g]);const F=D.useMemo(()=>!!(g?.componentFromFramework&&Ld(g.componentClass)),[g]),P=D.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),_=D.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),L=g?.componentFromFramework,A=g?.componentClass;return te.createElement("div",{ref:R,style:n,className:P,"col-id":C,role:"columnheader","aria-expanded":h},te.createElement("div",{ref:E,className:"ag-header-cell-comp-wrapper",role:"presentation"},L?F?te.createElement(A,{...g.params}):te.createElement(A,{...g.params,ref:T}):null),te.createElement("div",{ref:x,"aria-hidden":l,className:_}))},uZ=D.memo(cZ),dZ=({ctrl:e})=>{const{context:t}=D.useContext(Fi),{topOffset:n,rowHeight:i}=D.useMemo(()=>e.getTopAndHeight(),[]),[r,s]=D.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=D.useState(()=>i+"px"),[u,h]=D.useState(()=>n+"px"),p=D.useRef([]),[g,v]=D.useState(()=>e.getUpdatedHeaderCtrls()),C=D.useRef(),w=D.useRef(null),S=D.useCallback(T=>{if(w.current=T,C.current=T?t.createBean(new kd):t.destroyBean(C.current),!T)return;const R={setHeight:F=>l(F),setTop:F=>h(F),setHeaderCtrls:(F,P,_)=>{const L=p.current,A=q0(L,F,P);A!==L&&(p.current=A,Wf(_,()=>v(A)))},setWidth:F=>{w.current&&(w.current.style.width=F)},setRowIndex:F=>{s(F)}};e.setComp(R,C.current,!1)},[]),x=D.useMemo(()=>({height:a,top:u}),[a,u]),E=D.useCallback(T=>{switch(e.type){case"group":return te.createElement(uZ,{ctrl:T,key:T.instanceId});case"filter":return te.createElement(lZ,{ctrl:T,key:T.instanceId});default:return te.createElement(sZ,{ctrl:T,key:T.instanceId})}},[]);return te.createElement("div",{ref:S,className:o,role:"row",style:x,"aria-rowindex":r},g.map(E))},hZ=D.memo(dZ),fZ=({pinned:e})=>{const[t,n]=D.useState(!0),[i,r]=D.useState([]),{context:s}=D.useContext(Fi),o=D.useRef(null),a=D.useRef(null),l=D.useRef(),u=e==="left",h=e==="right",p=!u&&!h,g=D.useCallback(w=>{if(o.current=w,l.current=w?s.createBean(new oG(e)):s.destroyBean(l.current),!w)return;const S={setDisplayed:n,setCtrls:x=>r(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};l.current.setComp(S,o.current)},[]),v=t?"":"ag-hidden",C=()=>i.map(w=>te.createElement(hZ,{ctrl:w,key:w.instanceId}));return u?te.createElement("div",{ref:g,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):h?te.createElement("div",{ref:g,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):p?te.createElement("div",{ref:g,className:"ag-header-viewport "+v,role:"presentation",tabIndex:-1},te.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},C())):null},wy=D.memo(fZ),pZ=()=>{const[e,t]=D.useState(()=>new qr),[n,i]=D.useState(),{context:r}=D.useContext(Fi),s=D.useRef(null),o=D.useRef(),a=D.useCallback(h=>{if(s.current=h,o.current=h?r.createBean(new nG):r.destroyBean(o.current),!h)return;const p={toggleCss:(g,v)=>t(C=>C.setClass(g,v)),setHeightAndMinHeight:g=>i(g)};o.current.setComp(p,h,h)},[]),l=D.useMemo(()=>"ag-header "+e.toString(),[e]),u=D.useMemo(()=>({height:n,minHeight:n}),[n]);return te.createElement("div",{ref:a,className:l,style:u,role:"presentation"},te.createElement(wy,{pinned:"left"}),te.createElement(wy,{pinned:null}),te.createElement(wy,{pinned:"right"}))},gZ=D.memo(pZ),mZ=(e,t)=>{D.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const r=document.createComment(e);return i.insertBefore(r,n),()=>{i.removeChild(r)}}}},[e])},Ul=mZ,vZ=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new bt(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){tC(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},CZ=e=>{const t=D.useRef(e),n=D.useRef(),i=D.useRef(!1),r=D.useRef(!1),[,s]=D.useState(0);i.current&&(r.current=!0),D.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(o=>o+1),()=>{r.current&&n.current?.()}),[])},wZ=e=>{const[t,n]=D.useState(),i=D.useContext(Fi),{context:r,popupSvc:s,gos:o,editSvc:a}=i,{editDetails:l,cellCtrl:u,eParentCell:h}=e;return CZ(()=>{const{compDetails:p}=l,g=o.get("stopEditingWhenCellsLoseFocus"),v=r.createBean(a.createPopupEditorWrapper(p.params)),C=v.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&C.appendChild(F)}const{column:w,rowNode:S}=u,x={column:w,rowNode:S,type:"popupCellEditor",eventSource:h,ePopup:C,position:l.popupPosition,keepWithinBounds:!0},E=s?.positionPopupByComponent.bind(s,x),T=s?.addPopup({modal:g,eChild:C,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:E,ariaOwns:h}),R=T?T.hideFunc:void 0;return n(v),e.jsChildComp?.afterGuiAttached?.(),()=>{R?.(),r.destroyBean(v)}}),D.useLayoutEffect(()=>()=>{u.isCellFocused()&&t?.getGui().contains(xn(i))&&h.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Wv.createPortal(e.wrappedContent,t.getGui()):null},RF=D.memo(wZ),yZ=(e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=Ld(t);return te.createElement(mb.Provider,{value:{setMethods:o=>i.setMethods(o)}},s?te.createElement(t,{...r}):te.createElement(t,{...r,ref:o=>i.setRef(o)}))},FF=(e,t,n)=>e.compProxy?yZ(e,t,n):te.createElement(t,{...e.compDetails.params,ref:n}),SZ=(e,t,n,i,r)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,u=!s.componentFromFramework&&e.popup;return a?FF(e,o,t):l?te.createElement(RF,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:FF(e,o,t)}):u&&r?te.createElement(RF,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}):null},xZ=(e,t,n,i,r,s)=>{const{context:o}=D.useContext(Fi),a=D.useCallback(()=>{const l=r.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),r.current=void 0},[]);D.useEffect(()=>{const l=e!=null,u=e?.compDetails&&!e.compDetails.componentFromFramework,h=t&&n==null;if(!(l&&u&&!h)){a();return}const g=e.compDetails;if(r.current){const C=r.current,S=C.refresh!=null&&e.force==!1?C.refresh(g.params):!1;if(S===!0||S===void 0)return;a()}g.newAgStackInstance().then(C=>{if(!C)return;const w=C.getGui();if(!w)return;(t?n:s.current).appendChild(w),r.current=C})},[e,t,i]),D.useEffect(()=>a,[])},H3=xZ,bZ=({cellCtrl:e,parent:t})=>{const n=D.useRef(),i=D.useMemo(()=>{const{loadingComp:r}=e.getDeferLoadingCellRenderer();return r?{value:void 0,compDetails:r,force:!1}:void 0},[e]);if(H3(i,!1,void 0,1,n,t),i?.compDetails?.componentFromFramework){const r=i.compDetails.componentClass;return te.createElement(r,{...i.compDetails.params})}return te.createElement(te.Fragment,null)},EZ=({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=D.useContext(Fi),{context:r}=i,{column:{colIdSanitised:s},instanceId:o}=e,a=D.useRef(),[l,u]=D.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,p]=D.useState(),[g,v]=D.useState(1),[C,w]=D.useState(),[S,x]=D.useState(!1),[E,T]=D.useState(!1),[R,F]=D.useState(!1),[P,_]=D.useState(),L=D.useMemo(()=>e.isForceWrapper(),[e]),A=D.useMemo(()=>e.getCellAriaRole(),[e]),O=D.useRef(null),I=D.useRef(null),z=D.useRef(null),J=D.useRef(),ae=D.useRef(),ie=D.useRef(),j=D.useRef([]),W=D.useRef(),[Q,ce]=D.useState(0),H=D.useCallback(We=>{W.current=We,ce(dt=>dt+1)},[]),le=l!=null&&(S||R||E)&&(h==null||!!h.popup),B=L||le,Y=D.useCallback(We=>{if(ae.current=We,We){const dt=We.isCancelBeforeStart&&We.isCancelBeforeStart();setTimeout(()=>{dt?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(We))})}},[e]),K=D.useRef();K.current||(K.current=new pp(()=>O.current)),H3(l,B,W.current,Q,J,O);const ee=D.useRef();D.useLayoutEffect(()=>{const We=ee.current,dt=l;if(ee.current=l,We==null||We.compDetails==null||dt==null||dt.compDetails==null)return;const st=We.compDetails,ke=dt.compDetails;if(st.componentClass!=ke.componentClass||z.current?.refresh==null)return;z.current.refresh(ke.params)!=!0&&v(vt=>vt+1)},[l]),D.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework))return;const dt=h.compDetails,st=h.popup===!0,ke=dt.newAgStackInstance();return ke.then(tt=>{if(!tt)return;const vt=tt.getGui();Y(tt),st||((L?ie:O).current?.appendChild(vt),tt.afterGuiAttached&&tt.afterGuiAttached()),_(tt)}),()=>{ke.then(tt=>{const vt=tt.getGui();e.disableEditorTooltipFeature(),r.destroyBean(tt),Y(void 0),_(void 0),vt?.parentElement?.removeChild(vt)})}},[h]);const de=D.useCallback(We=>{if(ie.current=We,!We){j.current.forEach(st=>st()),j.current=[];return}const dt=st=>{if(st){const ke=st.getGui();We.insertAdjacentElement("afterbegin",ke),j.current.push(()=>{r.destroyBean(st),Jo(ke)})}return st};if(S){const st=e.createSelectionCheckbox();dt(st)}R&&dt(e.createDndSource()),E&&dt(e.createRowDragComp())},[e,r,R,E,S]),Ie=D.useCallback(()=>{const We=!e.isCellSpanning()||I.current,dt=O.current;if(a.current=dt?r.createBean(new kd):r.destroyBean(a.current),!dt||!We||!e)return;const st={toggleCss:(tt,vt)=>K.current.toggleCss(tt,vt),setUserStyles:tt=>w(tt),getFocusableElement:()=>O.current,setIncludeSelection:tt=>x(tt),setIncludeRowDrag:tt=>T(tt),setIncludeDndSource:tt=>F(tt),getCellEditor:()=>ae.current||null,getCellRenderer:()=>z.current??J.current,getParentOfValue:()=>W.current??ie.current??O.current,setRenderDetails:(tt,vt,Ft)=>{const It=()=>{u(mn=>mn?.compDetails!==tt||mn?.value!==vt||mn?.force!==Ft?{value:vt,compDetails:tt,force:Ft}:mn)};if(tt?.params?.deferRender&&!e.rowNode.group){const{loadingComp:mn,onReady:Kn}=e.getDeferLoadingCellRenderer();if(mn){u({value:void 0,compDetails:mn,force:!1}),Kn.then(()=>NQ(It));return}}It()},setEditDetails:(tt,vt,Ft,It)=>{if(tt){let mn;tt.componentFromFramework&&(It?mn=new vZ(tt.params,()=>v(Kn=>Kn+1)):vb()),p({compDetails:tt,popup:vt,popupPosition:Ft,compProxy:mn}),vt||u(void 0)}else e.hasBrowserFocus()&&st.getFocusableElement().focus({preventScroll:!0}),p(Kn=>{Kn?.compProxy&&(ae.current=void 0)})},refreshEditStyles:(tt,vt)=>{if(!O.current)return;const{current:Ft}=K;Ft.toggleCss("ag-cell-value",!B),Ft.toggleCss("ag-cell-inline-editing",!!tt&&!vt),Ft.toggleCss("ag-cell-popup-editing",!!tt&&!!vt),Ft.toggleCss("ag-cell-not-inline-editing",!tt||!!vt)}},ke=ie.current||void 0;e.setComp(st,dt,I.current??void 0,ke,t,n,a.current)},[]),Oe=D.useCallback(We=>{O.current=We,Ie()},[]),_e=D.useCallback(We=>{I.current=We,Ie()},[]),Pe=D.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Ld(l.compDetails.componentClass)),[l]);D.useLayoutEffect(()=>{if(!O.current)return;const{current:We}=K;We.toggleCss("ag-cell-value",!B),We.toggleCss("ag-cell-inline-editing",!!h&&!h.popup),We.toggleCss("ag-cell-popup-editing",!!h&&!!h.popup),We.toggleCss("ag-cell-not-inline-editing",!h||!!h.popup)});const it=()=>{const{compDetails:We,value:dt}=l;if(!We)return dt?.toString?.()??dt;if(We.componentFromFramework){const st=We.componentClass;return te.createElement(D.Suspense,{fallback:te.createElement(bZ,{cellCtrl:e,parent:O})},Pe?te.createElement(st,{...We.params,key:g}):te.createElement(st,{...We.params,key:g,ref:z}))}},et=()=>{const We=()=>l==null?null:B?te.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:H},it()):it(),dt=st=>SZ(st,Y,O.current,e,P);return h!=null?h.popup?te.createElement(te.Fragment,null,We(),dt(h)):dt(h):We()},Lt=()=>te.createElement("div",{ref:Oe,style:C,role:A,"col-id":s},B?te.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:de},et()):et());return e.isCellSpanning()?te.createElement("div",{ref:_e,className:"ag-spanned-cell-wrapper",role:"presentation"},Lt()):Lt()},TZ=D.memo(EZ),DZ=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:r}=D.useContext(Fi),s=D.useContext(k3)==="default",o=D.useRef(),a=D.useRef(e.getDomOrder()),l=e.isFullWidth(),u=e.rowNode.displayed,[h,p]=D.useState(()=>u?e.rowNode.getRowIndexString():null),[g,v]=D.useState(()=>e.rowId),[C,w]=D.useState(()=>e.businessKey),[S,x]=D.useState(()=>e.rowStyles),E=D.useRef(null),[T,R]=D.useState(()=>null),[F,P]=D.useState(),[_,L]=D.useState(()=>u?e.getInitialRowTop(t):void 0),[A,O]=D.useState(()=>u?e.getInitialTransform(t):void 0),I=D.useRef(null),z=D.useRef(),J=D.useRef(!1),[ae,ie]=D.useState(0);D.useEffect(()=>{if(J.current||!F||ae>10)return;const _e=I.current?.firstChild;_e?(e.setupDetailRowAutoHeight(_e),J.current=!0):ie(Pe=>Pe+1)},[F,ae]);const j=D.useRef();j.current||(j.current=new pp(()=>I.current));const W=D.useRef(()=>{}),Q=D.useCallback(_e=>(W.current=_e,()=>{W.current=()=>{}}),[]),ce=BQ(Q,()=>E.current,[]),H=s?ce:T,le=D.useCallback(_e=>{if(I.current=_e,o.current=_e?n.createBean(new kd):n.destroyBean(o.current),!_e){e.unsetComp(t);return}if(!e.isAlive())return;const Pe={setTop:L,setTransform:O,toggleCss:(it,et)=>j.current.toggleCss(it,et),setDomOrder:it=>a.current=it,setRowIndex:p,setRowId:v,setRowBusinessKey:w,setUserStyles:x,setCellCtrls:(it,et)=>{const Lt=E.current,We=q0(Lt,it,a.current);We!==Lt&&(E.current=We,s?W.current():Wf(et,()=>R(We)))},showFullWidth:it=>P(it),getFullWidthCellRenderer:()=>z.current,refreshFullWidth:it=>de.current?(P(et=>({...et,params:it()})),!0):!z.current||!z.current.refresh?!1:z.current.refresh(it())};e.setComp(Pe,_e,t,o.current)},[]);D.useLayoutEffect(()=>Cp(F,n,I.current,z),[F]);const B=D.useMemo(()=>{const _e={top:_,transform:A};return Object.assign(_e,S),_e},[_,A,S]),Y=l&&F?.componentFromFramework,K=!l&&H!=null,ee=D.useMemo(()=>!!(F?.componentFromFramework&&Ld(F.componentClass)),[F]),de=D.useRef(!1);D.useEffect(()=>{de.current=ee&&!!F&&!!i.get("reactiveCustomComponents")},[ee,F]);const Ie=()=>H?.map(_e=>te.createElement(TZ,{cellCtrl:_e,editingCell:r?.isEditing(_e,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:_e.instanceId})),Oe=()=>{const _e=F.componentClass;return ee?te.createElement(_e,{...F.params}):te.createElement(_e,{...F.params,ref:z})};return te.createElement("div",{ref:le,role:"row",style:B,"row-index":h,"row-id":g,"row-business-key":C},K?Ie():Y?Oe():null)},MF=D.memo(DZ),RZ=({name:e})=>{const{context:t,gos:n}=D.useContext(Fi),i=D.useMemo(()=>mp(e),[e]),r=D.useRef(null),s=D.useRef(null),o=D.useRef(null),a=D.useRef([]),l=D.useRef([]),[u,h]=D.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,g=D.useRef([]),v=D.useRef([]),[C,w]=D.useState(()=>[]),S=D.useRef(!1),x=D.useRef(),E=D.useMemo(()=>Wr("ag-viewport",dk(e)),[e]),T=D.useMemo(()=>Wr(s0(e)),[e]),R=D.useMemo(()=>Wr("ag-spanning-container",OH(e)),[e]),F=i.type==="center"||p,P=F?r:s;Ul(" AG Row Container "+e+" ",P);const _=D.useCallback(()=>{const ie=!F||r.current!=null,j=s.current!=null,W=!p||o.current!=null;return ie&&j&&W},[]),L=D.useCallback(()=>r.current==null&&s.current==null&&o.current==null,[]),A=D.useCallback(()=>{if(L()&&(x.current=t.destroyBean(x.current)),_()){const ie=Q=>{const ce=q0(l.current,a.current,S.current);ce!==l.current&&(l.current=ce,Wf(Q,()=>h(ce)))},j=Q=>{const ce=q0(v.current,g.current,S.current);ce!==v.current&&(v.current=ce,Wf(Q,()=>w(ce)))},W={setHorizontalScroll:Q=>{r.current&&(r.current.scrollLeft=Q)},setViewportHeight:Q=>{r.current&&(r.current.style.height=Q)},setRowCtrls:({rowCtrls:Q,useFlushSync:ce})=>{const H=!!ce&&a.current.length>0&&Q.length>0;a.current=Q,ie(H)},setSpannedRowCtrls:(Q,ce)=>{const H=!!ce&&g.current.length>0&&Q.length>0;g.current=Q,j(H)},setDomOrder:Q=>{S.current!=Q&&(S.current=Q,ie(!1))},setContainerWidth:Q=>{s.current&&(s.current.style.width=Q)},setOffsetTop:Q=>{s.current&&(s.current.style.transform=`translateY(${Q})`)}};x.current=t.createBean(new UH(e)),x.current.setComp(W,s.current,o.current??void 0,r.current)}},[_,L]),O=D.useCallback(ie=>{s.current=ie,A()},[A]),I=D.useCallback(ie=>{o.current=ie,A()},[A]),z=D.useCallback(ie=>{r.current=ie,A()},[A]),J=()=>te.createElement("div",{className:T,ref:O,role:"rowgroup"},u.map(ie=>te.createElement(MF,{rowCtrl:ie,containerType:i.type,key:ie.instanceId})));if(!F)return J();const ae=()=>te.createElement("div",{className:R,ref:I,role:"rowgroup"},C.map(ie=>te.createElement(MF,{rowCtrl:ie,containerType:i.type,key:ie.instanceId})));return te.createElement("div",{className:E,ref:z,role:"presentation"},J(),p?ae():null)},FZ=D.memo(RZ),MZ=()=>{const e=D.useContext(Fi),{context:t,overlays:n}=e,[i,r]=D.useState(""),[s,o]=D.useState(0),[a,l]=D.useState(0),[u,h]=D.useState("0px"),[p,g]=D.useState("0px"),[v,C]=D.useState("100%"),[w,S]=D.useState("0px"),[x,E]=D.useState("0px"),[T,R]=D.useState("100%"),[F,P]=D.useState(!0),[_,L]=D.useState(!0),[A,O]=D.useState(null),[I,z]=D.useState(""),[J,ae]=D.useState(null),[ie,j]=D.useState("ag-layout-normal"),W=D.useRef();W.current||(W.current=new pp(()=>Q.current));const Q=D.useRef(null),ce=D.useRef(null),H=D.useRef(null),le=D.useRef(null),B=D.useRef(null),Y=D.useRef(null),K=D.useRef(null),ee=D.useRef([]),de=D.useRef([]);Ul(" AG Grid Body ",Q),Ul(" AG Pinned Top ",ce),Ul(" AG Sticky Top ",H),Ul(" AG Middle ",Y),Ul(" AG Pinned Bottom ",K);const Ie=D.useCallback(It=>{if(Q.current=It,!It){ee.current=t.destroyBeans(ee.current),de.current.forEach(nt=>nt()),de.current=[];return}if(!t)return;const mn=(nt,xt)=>{nt.appendChild(xt),de.current.push(()=>nt.removeChild(xt))},Kn=nt=>{const xt=t.createBean(new nt);return ee.current.push(xt),xt},Ne=(nt,xt,rr)=>{mn(nt,document.createComment(rr)),mn(nt,Kn(xt).getGui())};Ne(It,XH," AG Fake Horizontal Scroll ");const Qe=n?.getOverlayWrapperCompClass();Qe&&Ne(It,Qe," AG Overlay Wrapper "),B.current&&Ne(B.current,ZH," AG Fake Vertical Scroll ");const Mt={setRowAnimationCssOnBodyViewport:r,setColumnCount:nt=>{Q.current&&JN(Q.current,nt)},setRowCount:nt=>{Q.current&&QN(Q.current,nt)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:C,setTopInvisible:P,setBottomInvisible:L,setColumnMovingCss:(nt,xt)=>W.current.toggleCss(nt,xt),updateLayoutClasses:j,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:z,setCellSelectableCss:(nt,xt)=>ae(xt?nt:null),setBodyViewportWidth:nt=>{Y.current&&(Y.current.style.width=nt)},registerBodyViewportResizeListener:nt=>{if(Y.current){const xt=ca(e,Y.current,nt);de.current.push(()=>xt())}},setStickyBottomHeight:S,setStickyBottomBottom:E,setStickyBottomWidth:R,setGridRootRole:nt=>It.setAttribute("role",nt)},ft=t.createBean(new KH);ee.current.push(ft),ft.setComp(Mt,It,Y.current,ce.current,K.current,H.current,le.current)},[]),Oe=D.useMemo(()=>Wr("ag-root","ag-unselectable",ie),[ie]),_e=D.useMemo(()=>Wr("ag-body-viewport",i,ie,A,J),[i,ie,A,J]),Pe=D.useMemo(()=>Wr("ag-body",ie),[ie]),it=D.useMemo(()=>Wr("ag-floating-top",F?"ag-invisible":null,J),[J,F]),et=D.useMemo(()=>Wr("ag-sticky-top",J),[J]),Lt=D.useMemo(()=>Wr("ag-sticky-bottom",w==="0px"?"ag-invisible":null,J),[J,w]),We=D.useMemo(()=>Wr("ag-floating-bottom",_?"ag-invisible":null,J),[J,_]),dt=D.useMemo(()=>({height:s,minHeight:s,overflowY:I}),[s,I]),st=D.useMemo(()=>({height:u,top:p,width:v}),[u,p,v]),ke=D.useMemo(()=>({height:w,bottom:x,width:T}),[w,x,T]),tt=D.useMemo(()=>({height:a,minHeight:a,overflowY:I}),[a,I]),vt=It=>te.createElement(FZ,{name:It,key:`${It}-container`}),Ft=({section:It,children:mn,className:Kn,style:Ne})=>te.createElement("div",{ref:It,className:Kn,role:"presentation",style:Ne},mn.map(vt));return te.createElement("div",{ref:Ie,className:Oe},te.createElement(gZ,null),Ft({section:ce,className:it,style:dt,children:["topLeft","topCenter","topRight","topFullWidth"]}),te.createElement("div",{className:Pe,ref:B,role:"presentation"},Ft({section:Y,className:_e,children:["left","center","right","fullWidth"]})),Ft({section:H,className:et,style:st,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ft({section:le,className:Lt,style:ke,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ft({section:K,className:We,style:tt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},_Z=D.memo(MZ),AZ=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=D.useContext(Fi),u=D.useRef(null),h=D.useRef(null),p=D.useRef(),g=x=>{const E=x==null?void 0:parseInt(x,10).toString();[u,h].forEach(T=>{E===void 0?T.current?.removeAttribute("tabindex"):T.current?.setAttribute("tabindex",E)})};D.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){p.current?.forceFocusOutOfContainer(x)}}));const v=D.useCallback(()=>{const x=u.current,E=h.current;if(!x&&!E){p.current=l.destroyBean(p.current);return}if(x&&E){const T={setTabIndex:g};p.current=l.createBean(new bk({comp:T,eTopGuard:x,eBottomGuard:E,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:R=>s.focusInnerElement(R),isEmpty:a}))}},[]),C=D.useCallback(x=>{u.current=x,v()},[v]),w=D.useCallback(x=>{h.current=x,v()},[v]),S=x=>{const E=x==="top"?Ju.TAB_GUARD_TOP:Ju.TAB_GUARD_BOTTOM;return te.createElement("div",{className:`${Ju.TAB_GUARD} ${E}`,role:"presentation",ref:x==="top"?C:w})};return te.createElement(te.Fragment,null,S("top"),n,S("bottom"))},PZ=D.forwardRef(AZ),kZ=D.memo(PZ),OZ=({context:e})=>{const[t,n]=D.useState(""),[i,r]=D.useState(""),[s,o]=D.useState(null),[a,l]=D.useState(null),[u,h]=D.useState(!1),[p,g]=D.useState(),v=D.useRef(),C=D.useRef(null),w=D.useRef(),[S,x]=D.useState(null),E=D.useRef(()=>{}),T=D.useRef(),R=D.useRef([]),F=D.useCallback(()=>{},[]),P=D.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Ul(" AG Grid ",C);const _=D.useCallback(J=>{if(C.current=J,v.current=J?e.createBean(new tV):e.destroyBean(v.current),!J||e.isDestroyed())return;const ae=v.current;E.current=ae.focusInnerElement.bind(ae);const ie={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:j=>{if(!j&&T.current?.isDisplayed()){T.current.forceFocusOutOfContainer(j);return}w.current?.forceFocusOutOfContainer(j)},updateLayoutClasses:r,getFocusableContainers:()=>{const j=[],W=C.current?.querySelector(".ag-root");return W&&j.push({getGui:()=>W}),R.current.forEach(Q=>{Q.isDisplayed()&&j.push(Q)}),j},setCursor:o,setUserSelect:l};ae.setComp(ie,J,J),h(!0)},[]);D.useEffect(()=>{const J=v.current,ae=C.current;if(!p||!P||!J||!S||!ae||e.isDestroyed())return;const ie=[],{watermarkSelector:j,paginationSelector:W,sideBarSelector:Q,statusBarSelector:ce,gridHeaderDropZonesSelector:H}=J.getOptionalSelectors(),le=[];if(H){const Y=e.createBean(new H.component),K=Y.getGui();ae.insertAdjacentElement("afterbegin",K),le.push(K),ie.push(Y)}if(Q){const Y=e.createBean(new Q.component),K=Y.getGui(),ee=S.querySelector(".ag-tab-guard-bottom");ee&&(ee.insertAdjacentElement("beforebegin",K),le.push(K)),ie.push(Y),R.current.push(Y)}const B=Y=>{const K=e.createBean(new Y),ee=K.getGui();return ae.insertAdjacentElement("beforeend",ee),le.push(ee),ie.push(K),K};if(ce&&B(ce.component),W){const Y=B(W.component);T.current=Y,R.current.push(Y)}return j&&B(j.component),()=>{e.destroyBeans(ie),le.forEach(Y=>{Y.parentElement?.removeChild(Y)})}},[p,S,P]);const L=D.useMemo(()=>Wr("ag-root-wrapper",t,i),[t,i]),A=D.useMemo(()=>Wr("ag-root-wrapper-body","ag-focus-managed",i),[i]),O=D.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),I=D.useCallback(J=>{w.current=J,g(J!==null)},[]),z=D.useCallback(()=>!v.current?.isFocusable(),[]);return te.createElement("div",{ref:_,className:L,style:O,role:"presentation"},te.createElement("div",{className:A,ref:x,role:"presentation"},u&&S&&P&&te.createElement(Fi.Provider,{value:P},te.createElement(kZ,{ref:I,eFocusableElement:S,onTabKeyDown:F,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:z},te.createElement(_Z,null)))))},LZ=D.memo(OZ),IZ=class extends xe{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},G3={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},NZ={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...G3},V3=new Set(Object.keys(NZ)),BZ=new Set(Object.keys(G3)),z3=e=>{const t=D.useRef(),n=D.useRef(null),i=D.useRef(null),r=D.useRef([]),s=D.useRef([]),o=D.useRef(e),a=D.useRef(),l=D.useRef(),u=D.useRef(!1),[h,p]=D.useState(void 0),[,g]=D.useState(0),v=D.useCallback(x=>{if(n.current=x,!x){r.current.forEach(I=>I()),r.current.length=0;return}const E=e.modules||[];i.current||(i.current=new iZ(()=>g(I=>I+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{i.current?.destroy(),i.current=null}));const T=k7(e.gridOptions,e,Object.keys(e).filter(I=>!V3.has(I))),R=()=>{if(u.current){const I=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let z=I();for(;z;)z(),z=I()}},F=new zZ(R);a.current=F;const P=new IZ,_={providedBeanInstances:{frameworkCompWrapper:new GZ(i.current,T),renderStatus:P},modules:E,frameworkOverrides:F,setThemeOnGridDiv:!0},L=I=>{p(I),I.createBean(P),r.current.push(()=>{I.destroy()}),I.getBean("ctrlsSvc").whenReady({addDestroyFunc:z=>{r.current.push(z)}},()=>{if(I.isDestroyed())return;const z=t.current;z&&e.passGridApi?.(z)})},A=I=>{I.getBean("ctrlsSvc").whenReady({addDestroyFunc:z=>{r.current.push(z)}},()=>{s.current.forEach(z=>z()),s.current.length=0,u.current=!0})},O=new aY;T.gridId??(T.gridId=l.current),t.current=O.create(x,T,L,A,_),r.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),C=D.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=D.useCallback(x=>{u.current&&!a.current?.shouldQueueUpdates()?x():s.current.push(x)},[]);D.useEffect(()=>{const x=HZ(o.current,e);o.current=e,w(()=>{t.current&&O7(x,t.current)})},[e]);const S=!te.useSyncExternalStore||Zm(e,"renderingMode")==="legacy"?"legacy":"default";return te.createElement("div",{style:C,className:e.className,ref:v},te.createElement(k3.Provider,{value:S},h&&!h.isDestroyed()?te.createElement(LZ,{context:h}):null,i.current?.getPortals()??null))};function HZ(e,t){const n={};return Object.keys(t).forEach(i=>{if(V3.has(i)){BZ.has(i)&&Me(274,{prop:i});return}const r=t[i];e[i]!==r&&(n[i]=r)}),n}var GZ=class extends dY{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Zm(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return Zm(n,"enableFilterHandlers")?YQ:jQ;case"floatingFilterComponent":return Zm(n,"enableFilterHandlers")?qQ:KQ;case"dateComponent":return WQ;case"dragAndDropImageComponent":return UQ;case"loadingOverlayComponent":return QQ;case"noRowsOverlayComponent":return JQ;case"statusPanel":return eZ;case"toolPanel":return tZ;case"menuItem":return ZQ;case"cellRenderer":return zQ;case"innerHeaderComponent":return XQ}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":vb();break}const r=!t.cellRenderer&&t.name!=="toolPanel";return new N3(e,this.parent,t,r)}},VZ=D.forwardRef((e,t)=>{const n=D.useContext(Fi),{registry:i,context:r,gos:s,rowModel:o}=n,[a,l]=D.useState(()=>new qr),[u,h]=D.useState(()=>new qr),[p,g]=D.useState(),[v,C]=D.useState(),w=D.useRef(),S=D.useRef(null),x=D.useRef(),E=D.useMemo(()=>eB(e.api.getGridId(),p?.rowModelType??"clientSide"),[e]),T=D.useMemo(()=>a.toString()+" ag-details-row",[a]),R=D.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&D.useImperativeHandle(t,()=>({refresh(){return w.current?.refresh()??!1}})),e.template&&Me(230);const F=D.useCallback(_=>{if(S.current=_,!_){w.current=r.destroyBean(w.current),x.current?.();return}const L={toggleCss:(O,I)=>l(z=>z.setClass(O,I)),toggleDetailGridCss:(O,I)=>h(z=>z.setClass(O,I)),setDetailGrid:O=>g(O),setRowData:O=>C(O),getGui:()=>S.current},A=i.createDynamicBean("detailCellRendererCtrl",!0);if(A&&(r.createBean(A),A.init(L,e),w.current=A,s.get("detailRowAutoHeight"))){const O=()=>{if(S.current==null)return;const I=S.current.clientHeight;I!=null&&I>0&&setTimeout(()=>{e.node.setRowHeight(I),(Hn(s)||kc(s))&&o.onRowHeightChanged()},0)};x.current=ca(n,_,O),O()}},[]),P=D.useCallback(_=>{w.current?.registerDetailWithMaster(_)},[]);return te.createElement("div",{className:T,ref:F},p&&te.createElement(z3,{className:R,...p,modules:E,rowData:v,passGridApi:P}))}),zZ=class extends Ek{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:TF,agGroupRowRenderer:TF,agDetailCellRenderer:VZ},this.wrapIncoming=(t,n)=>n==="ensureVisible"?IQ(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return LQ()}},WZ=class extends D.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return te.createElement(z3,{...this.props,passGridApi:this.setGridApi})}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var X0={};X0.version="0.18.5";var W3=1252,UZ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],U3=function(e){UZ.indexOf(e)!=-1&&(W3=e)};function jZ(){U3(1252)}var Uf=function(e){U3(e)};function YZ(){Uf(1200),jZ()}var rm=function(t){return String.fromCharCode(t)},_F=function(t){return String.fromCharCode(t)},Q0,Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jf(e){for(var t="",n=0,i=0,r=0,s=0,o=0,a=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),s=n>>2,i=e.charCodeAt(u++),o=(n&3)<<4|i>>4,r=e.charCodeAt(u++),a=(i&15)<<2|r>>6,l=r&63,isNaN(i)?a=l=64:isNaN(r)&&(l=64),t+=Ja.charAt(s)+Ja.charAt(o)+Ja.charAt(a)+Ja.charAt(l);return t}function ta(e){var t="",n=0,i=0,r=0,s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Ja.indexOf(e.charAt(u++)),o=Ja.indexOf(e.charAt(u++)),n=s<<2|o>>4,t+=String.fromCharCode(n),a=Ja.indexOf(e.charAt(u++)),i=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(i)),l=Ja.indexOf(e.charAt(u++)),r=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(r));return t}var kt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),da=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function bc(e){return kt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function AF(e){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ps=function(t){return kt?da(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function nC(e){if(typeof ArrayBuffer>"u")return ps(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!=e.length;++i)n[i]=e.charCodeAt(i)&255;return t}function wp(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function $Z(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var di=kt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:da(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var i=new Uint8Array(n),r=0;for(t=0,n=0;t<e.length;n+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)i.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";i.set(new Uint8Array(e[t]),n)}return i}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function KZ(e){for(var t=[],n=0,i=e.length+250,r=bc(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[n++]=o;else if(o<2048)r[n++]=192|o>>6&31,r[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++s)&1023;r[n++]=240|o>>8&7,r[n++]=128|o>>2&63,r[n++]=128|a>>6&15|(o&3)<<4,r[n++]=128|a&63}else r[n++]=224|o>>12&15,r[n++]=128|o>>6&63,r[n++]=128|o&63;n>i&&(t.push(r.slice(0,n)),n=0,r=bc(65535),i=65530)}return t.push(r.slice(0,n)),di(t)}var Cf=/\u0000/g,sm=/[\u0001-\u0006]/g;function nd(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function ms(e,t){var n=""+e;return n.length>=t?n:Tn("0",t-n.length)+n}function Cb(e,t){var n=""+e;return n.length>=t?n:Tn(" ",t-n.length)+n}function Z0(e,t){var n=""+e;return n.length>=t?n:n+Tn(" ",t-n.length)}function qZ(e,t){var n=""+Math.round(e);return n.length>=t?n:Tn("0",t-n.length)+n}function XZ(e,t){var n=""+e;return n.length>=t?n:Tn("0",t-n.length)+n}var PF=Math.pow(2,32);function Mu(e,t){if(e>PF||e<-PF)return qZ(e,t);var n=Math.round(e);return XZ(n,t)}function J0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var kF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function QZ(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},OF={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZZ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ev(e,t,n){for(var i=e<0?-1:1,r=e*i,s=0,o=1,a=0,l=1,u=0,h=0,p=Math.floor(r);u<t&&(p=Math.floor(r),a=p*o+s,h=p*u+l,!(r-p<5e-8));)r=1/(r-p),s=o,o=a,l=u,u=h;if(h>t&&(u>t?(h=l,a=s):(h=u,a=o)),!n)return[0,i*a,h];var g=Math.floor(i*a/h);return[g,i*a-g*h,h]}function om(e,t,n){if(e>2958465||e<0)return null;var i=e|0,r=Math.floor(86400*(e-i)),s=0,o=[],a={D:i,T:r,u:86400*(e-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(i+=1462),a.u>.9999&&(a.u=0,++r==86400&&(a.T=r=0,++i,++a.D)),i===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(i===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),i<60&&(s=(s+6)%7),n&&(s=sJ(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=s,a}var j3=new Date(1899,11,31,0,0,0),JZ=j3.getTime(),eJ=new Date(1900,2,1,0,0,0);function Y3(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=eJ&&(n+=1440*60*1e3),(n-(JZ+(e.getTimezoneOffset()-j3.getTimezoneOffset())*6e4))/(1440*60*1e3)}function wb(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tJ(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nJ(e){var t=e<0?12:11,n=wb(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function iJ(e){var t=wb(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function rJ(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=nJ(e):t===10?n=e.toFixed(10).substr(0,12):n=iJ(e),wb(tJ(n.toUpperCase()))}function US(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):rJ(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ul(14,Y3(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sJ(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function oJ(e,t,n,i){var r="",s=0,o=0,a=n.y,l,u=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return yy[n.m-1][1];case 5:return yy[n.m-1][0];default:return yy[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return kF[n.q][0];default:return kF[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?ms(n.S,t.length):(i>=2?o=i===3?1e3:100:o=i===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(r=ms(s,2+i),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var h=u>0?ms(l,u):"";return h}function el(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,i=e.substr(0,n);n!=e.length;n+=t)i+=(i.length>0?",":"")+e.substr(n,t);return i}var $3=/%/g;function aJ(e,t,n){var i=t.replace($3,""),r=t.length-i.length;return zo(e,i,n*Math.pow(10,2*r))+Tn("%",r)}function lJ(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return zo(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function K3(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+K3(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(r+s)%r)+"."+h.substr(s)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var q3=/# (\?+)( ?)\/( ?)(\d+)/;function cJ(e,t,n){var i=parseInt(e[4],10),r=Math.round(t*i),s=Math.floor(r/i),o=r-s*i,a=i;return n+(s===0?"":""+s)+" "+(o===0?Tn(" ",e[1].length+1+e[4].length):Cb(o,e[1].length)+e[2]+"/"+e[3]+ms(a,e[4].length))}function uJ(e,t,n){return n+(t===0?"":""+t)+Tn(" ",e[1].length+2+e[4].length)}var X3=/^#*0*\.([0#]+)/,Q3=/\).*[0#]/,Z3=/\(###\) ###\\?-####/;function Pi(e){for(var t="",n,i=0;i!=e.length;++i)switch(n=e.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function LF(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function IF(e,t){var n=e-Math.floor(e),i=Math.pow(10,t);return t<(""+Math.round(n*i)).length?0:Math.round(n*i)}function dJ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function hJ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Br(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Q3)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Br("n",i,n):"("+Br("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return lJ(e,t,n);if(t.indexOf("%")!==-1)return aJ(e,t,n);if(t.indexOf("E")!==-1)return K3(t,n);if(t.charCodeAt(0)===36)return"$"+Br(e,t.substr(t.charAt(1)==" "?2:1),n);var r,s,o,a,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Mu(l,t.length);if(t.match(/^[#?]+$/))return r=Mu(n,0),r==="0"&&(r=""),r.length>t.length?r:Pi(t.substr(0,t.length-r.length))+r;if(s=t.match(q3))return cJ(s,l,u);if(t.match(/^#+0+$/))return u+Mu(l,t.length-t.indexOf("0"));if(s=t.match(X3))return r=LF(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Pi(s[1])).replace(/\.$/,"."+Pi(s[1])).replace(/\.(\d*)$/,function(C,w){return"."+w+Tn("0",Pi(s[1]).length-w.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+LF(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+el(Mu(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Br(e,t,-n):el(""+(Math.floor(n)+dJ(n,s[1].length)))+"."+ms(IF(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Br(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=nd(Br(e,t.replace(/[\\-]/g,""),n)),o=0,nd(nd(t.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<r.length?r.charAt(o++):C==="0"?"0":""}));if(t.match(Z3))return r=Br(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var h="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=ev(l,Math.pow(10,o)-1,!1),r=""+u,h=zo("n",s[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),r+=h+s[2]+"/"+s[3],h=Z0(a[2],o),h.length<s[4].length&&(h=Pi(s[4].substr(s[4].length-h.length))+h),r+=h,r;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=ev(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Cb(a[1],o)+s[2]+"/"+s[3]+Z0(a[2],o):Tn(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return r=Mu(n,0),t.length<=r.length?r:Pi(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=t.indexOf(".")-o,g=t.length-r.length-p;return Pi(t.substr(0,p)+r+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=IF(n,s[1].length),n<0?"-"+Br(e,t,-n):el(hJ(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?ms(0,3-C.length):"")+C})+"."+ms(o,s[1].length);switch(t){case"###,##0.00":return Br(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var v=el(Mu(l,0));return v!=="0"?u+v:"";case"###,###.00":return Br(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Br(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fJ(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return zo(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function pJ(e,t,n){var i=t.replace($3,""),r=t.length-i.length;return zo(e,i,n*Math.pow(10,2*r))+Tn("%",r)}function J3(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+J3(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(r+s)%r)+"."+h.substr(s)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Bs(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Q3)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bs("n",i,n):"("+Bs("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return fJ(e,t,n);if(t.indexOf("%")!==-1)return pJ(e,t,n);if(t.indexOf("E")!==-1)return J3(t,n);if(t.charCodeAt(0)===36)return"$"+Bs(e,t.substr(t.charAt(1)==" "?2:1),n);var r,s,o,a,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+ms(l,t.length);if(t.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>t.length?r:Pi(t.substr(0,t.length-r.length))+r;if(s=t.match(q3))return uJ(s,l,u);if(t.match(/^#+0+$/))return u+ms(l,t.length-t.indexOf("0"));if(s=t.match(X3))return r=(""+n).replace(/^([^\.]+)$/,"$1."+Pi(s[1])).replace(/\.$/,"."+Pi(s[1])),r=r.replace(/\.(\d*)$/,function(C,w){return"."+w+Tn("0",Pi(s[1]).length-w.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+el(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bs(e,t,-n):el(""+n)+"."+Tn("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Bs(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=nd(Bs(e,t.replace(/[\\-]/g,""),n)),o=0,nd(nd(t.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<r.length?r.charAt(o++):C==="0"?"0":""}));if(t.match(Z3))return r=Bs(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var h="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=ev(l,Math.pow(10,o)-1,!1),r=""+u,h=zo("n",s[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),r+=h+s[2]+"/"+s[3],h=Z0(a[2],o),h.length<s[4].length&&(h=Pi(s[4].substr(s[4].length-h.length))+h),r+=h,r;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=ev(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Cb(a[1],o)+s[2]+"/"+s[3]+Z0(a[2],o):Tn(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return r=""+n,t.length<=r.length?r:Pi(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=t.indexOf(".")-o,g=t.length-r.length-p;return Pi(t.substr(0,p)+r+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Bs(e,t,-n):el(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?ms(0,3-C.length):"")+C})+"."+ms(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=el(""+l);return v!=="0"?u+v:"";default:if(t.match(/\.[0#?]*$/))return Bs(e,t.slice(0,t.lastIndexOf(".")),n)+Pi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zo(e,t,n){return(n|0)===n?Bs(e,t,n):Br(e,t,n)}function gJ(e){for(var t=[],n=!1,i=0,r=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var eO=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tO(e){for(var t=0,n="",i="";t<e.length;)switch(n=e.charAt(t)){case"G":J0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(i=n;e.charAt(t++)!=="]"&&t<e.length;)i+=e.charAt(t);if(i.match(eO))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function mJ(e,t,n,i){for(var r=[],s="",o=0,a="",l="t",u,h,p,g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!J0(e,o))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(p=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(p);r[r.length]={t:"t",v:s},++o;break;case"\\":var v=e.charAt(++o),C=v==="("||v===")"?v:"t";r[r.length]={t:C,v},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=om(t,n,e.charAt(o+1)==="2"),u==null))return"";r[r.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=om(t,n),u==null))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=g),r[r.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var w={t:a,v:a};if(u==null&&(u=om(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",o+=5,g="h"):(w.t="t",++o),u==null&&w.t==="T")return"";r[r.length]=w,l=a;break;case"[":for(s=a;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(eO)){if(u==null&&(u=om(t,n),u==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",tO(e)||(r[r.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=a;++o<e.length&&(a=e.charAt(o))==="0";)s+=a;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;r[r.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;r[r.length]={t:a,v:s},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:i===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:a,v:a},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"t",v:a},++o;break}var S=0,x=0,E;for(o=r.length-1,l="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=g,l="h",S<1&&(S=1);break;case"s":(E=r[o].v.match(/\.0+$/))&&(x=Math.max(x,E[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":l=r[o].t;break;case"m":l==="s"&&(r[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&r[o].v.match(/[Hh]/)&&(S=1),S<2&&r[o].v.match(/[Mm]/)&&(S=2),S<3&&r[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",R;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=oJ(r[o].t.charCodeAt(0),r[o].v,u,x),r[o].t="t";break;case"n":case"?":for(R=o+1;r[R]!=null&&((a=r[R].t)==="?"||a==="D"||(a===" "||a==="t")&&r[R+1]!=null&&(r[R+1].t==="?"||r[R+1].t==="t"&&r[R+1].v==="/")||r[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(r[R].v==="/"||r[R].v===" "&&r[R+1]!=null&&r[R+1].t=="?"));)r[o].v+=r[R].v,r[R]={v:"",t:";"},++R;T+=r[o].v,o=R-1;break;case"G":r[o].t="t",r[o].v=US(t,n);break}var F="",P,_;if(T.length>0){T.charCodeAt(0)==40?(P=t<0&&T.charCodeAt(0)===45?-t:t,_=zo("n",T,P)):(P=t<0&&i>1?-t:t,_=zo("n",T,P),P<0&&r[0]&&r[0].t=="t"&&(_=_.substr(1),r[0].v="-"+r[0].v)),R=_.length-1;var L=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){L=o;break}var A=r.length;if(L===r.length&&_.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(R>=r[o].v.length-1?(R-=r[o].v.length,r[o].v=_.substr(R+1,r[o].v.length)):R<0?r[o].v="":(r[o].v=_.substr(0,R+1),R=-1),r[o].t="t",A=o);R>=0&&A<r.length&&(r[A].v=_.substr(0,R+1)+r[A].v)}else if(L!==r.length&&_.indexOf("E")===-1){for(R=_.indexOf(".")-1,o=L;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(h=r[o].v.indexOf(".")>-1&&o===L?r[o].v.indexOf(".")-1:r[o].v.length-1,F=r[o].v.substr(h+1);h>=0;--h)R>=0&&(r[o].v.charAt(h)==="0"||r[o].v.charAt(h)==="#")&&(F=_.charAt(R--)+F);r[o].v=F,r[o].t="t",A=o}for(R>=0&&A<r.length&&(r[A].v=_.substr(0,R+1)+r[A].v),R=_.indexOf(".")+1,o=L;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==L)){for(h=r[o].v.indexOf(".")>-1&&o===L?r[o].v.indexOf(".")+1:0,F=r[o].v.substr(0,h);h<r[o].v.length;++h)R<_.length&&(F+=_.charAt(R++));r[o].v=F,r[o].t="t",A=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(P=i>1&&t<0&&o>0&&r[o-1].v==="-"?-t:t,r[o].v=zo(r[o].t,r[o].v,P),r[o].t="t");var O="";for(o=0;o!==r.length;++o)r[o]!=null&&(O+=r[o].v);return O}var NF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BF(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function vJ(e,t){var n=gJ(e),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[i,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(NF),a=n[1].match(NF);return BF(t,o)?[i,n[0]]:BF(t,a)?[i,n[1]]:[i,n[o!=null&&a!=null?2:1]]}return[i,s]}function ul(e,t,n){n==null&&(n={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?i=n.dateNF:i=e;break;case"number":e==14&&n.dateNF?i=n.dateNF:i=(n.table!=null?n.table:Dn)[e],i==null&&(i=n.table&&n.table[OF[e]]||Dn[OF[e]]),i==null&&(i=ZZ[e]||"General");break}if(J0(i,0))return US(t,n);t instanceof Date&&(t=Y3(t,n.date1904));var r=vJ(i,t);if(J0(r[1]))return US(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return mJ(r[1],t,n,r[0])}function nO(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Dn[n]==null){t<0&&(t=n);continue}if(Dn[n]==e){t=n;break}}t<0&&(t=391)}return Dn[t]=e,t}function iC(e){for(var t=0;t!=392;++t)e[t]!==void 0&&nO(e[t],t)}function rC(){Dn=QZ()}var iO=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CJ(e){var t=typeof e=="number"?Dn[e]:e;return t=t.replace(iO,"(\\d+)"),new RegExp("^"+t+"$")}function wJ(e,t,n){var i=-1,r=-1,s=-1,o=-1,a=-1,l=-1;(t.match(iO)||[]).forEach(function(p,g){var v=parseInt(n[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":i=v;break;case"d":s=v;break;case"h":o=v;break;case"s":l=v;break;case"m":o>=0?a=v:r=v;break}}),l>=0&&a==-1&&r>=0&&(a=r,r=-1);var u=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:i==-1&&r==-1&&s==-1?h:u+"T"+h}var yJ=function(){var e={};e.version="1.2.0";function t(){for(var _=0,L=new Array(256),A=0;A!=256;++A)_=A,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,L[A]=_;return typeof Int32Array<"u"?new Int32Array(L):L}var n=t();function i(_){var L=0,A=0,O=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)I[O]=_[O];for(O=0;O!=256;++O)for(A=_[O],L=256+O;L<4096;L+=256)A=I[L]=A>>>8^_[A&255];var z=[];for(O=1;O!=16;++O)z[O-1]=typeof Int32Array<"u"?I.subarray(O*256,O*256+256):I.slice(O*256,O*256+256);return z}var r=i(n),s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],h=r[5],p=r[6],g=r[7],v=r[8],C=r[9],w=r[10],S=r[11],x=r[12],E=r[13],T=r[14];function R(_,L){for(var A=L^-1,O=0,I=_.length;O<I;)A=A>>>8^n[(A^_.charCodeAt(O++))&255];return~A}function F(_,L){for(var A=L^-1,O=_.length-15,I=0;I<O;)A=T[_[I++]^A&255]^E[_[I++]^A>>8&255]^x[_[I++]^A>>16&255]^S[_[I++]^A>>>24]^w[_[I++]]^C[_[I++]]^v[_[I++]]^g[_[I++]]^p[_[I++]]^h[_[I++]]^u[_[I++]]^l[_[I++]]^a[_[I++]]^o[_[I++]]^s[_[I++]]^n[_[I++]];for(O+=15;I<O;)A=A>>>8^n[(A^_[I++])&255];return~A}function P(_,L){for(var A=L^-1,O=0,I=_.length,z=0,J=0;O<I;)z=_.charCodeAt(O++),z<128?A=A>>>8^n[(A^z)&255]:z<2048?(A=A>>>8^n[(A^(192|z>>6&31))&255],A=A>>>8^n[(A^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,J=_.charCodeAt(O++)&1023,A=A>>>8^n[(A^(240|z>>8&7))&255],A=A>>>8^n[(A^(128|z>>2&63))&255],A=A>>>8^n[(A^(128|J>>6&15|(z&3)<<4))&255],A=A>>>8^n[(A^(128|J&63))&255]):(A=A>>>8^n[(A^(224|z>>12&15))&255],A=A>>>8^n[(A^(128|z>>6&63))&255],A=A>>>8^n[(A^(128|z&63))&255]);return~A}return e.table=n,e.bstr=R,e.buf=F,e.str=P,e}(),tn=function(){var t={};t.version="1.2.1";function n(k,X){for(var V=k.split("/"),U=X.split("/"),q=0,Z=0,ge=Math.min(V.length,U.length);q<ge;++q){if(Z=V[q].length-U[q].length)return Z;if(V[q]!=U[q])return V[q]<U[q]?-1:1}return V.length-U.length}function i(k){if(k.charAt(k.length-1)=="/")return k.slice(0,-1).indexOf("/")===-1?k:i(k.slice(0,-1));var X=k.lastIndexOf("/");return X===-1?k:k.slice(0,X+1)}function r(k){if(k.charAt(k.length-1)=="/")return r(k.slice(0,-1));var X=k.lastIndexOf("/");return X===-1?k:k.slice(X+1)}function s(k,X){typeof X=="string"&&(X=new Date(X));var V=X.getHours();V=V<<6|X.getMinutes(),V=V<<5|X.getSeconds()>>>1,k.write_shift(2,V);var U=X.getFullYear()-1980;U=U<<4|X.getMonth()+1,U=U<<5|X.getDate(),k.write_shift(2,U)}function o(k){var X=k.read_shift(2)&65535,V=k.read_shift(2)&65535,U=new Date,q=V&31;V>>>=5;var Z=V&15;V>>>=4,U.setMilliseconds(0),U.setFullYear(V+1980),U.setMonth(Z-1),U.setDate(q);var ge=X&31;X>>>=5;var be=X&63;return X>>>=6,U.setHours(X),U.setMinutes(be),U.setSeconds(ge<<1),U}function a(k){pr(k,0);for(var X={},V=0;k.l<=k.length-4;){var U=k.read_shift(2),q=k.read_shift(2),Z=k.l+q,ge={};switch(U){case 21589:V=k.read_shift(1),V&1&&(ge.mtime=k.read_shift(4)),q>5&&(V&2&&(ge.atime=k.read_shift(4)),V&4&&(ge.ctime=k.read_shift(4))),ge.mtime&&(ge.mt=new Date(ge.mtime*1e3));break}k.l=Z,X[U]=ge}return X}var l;function u(){return l||(l={})}function h(k,X){if(k[0]==80&&k[1]==75)return Kd(k,X);if((k[0]|32)==109&&(k[1]|32)==105)return _C(k,X);if(k.length<512)throw new Error("CFB file size "+k.length+" < 512");var V=3,U=512,q=0,Z=0,ge=0,be=0,he=0,ve=[],we=k.slice(0,512);pr(we,0);var Ae=p(we);switch(V=Ae[0],V){case 3:U=512;break;case 4:U=4096;break;case 0:if(Ae[1]==0)return Kd(k,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}U!==512&&(we=k.slice(0,U),pr(we,28));var Be=k.slice(0,U);g(we,V);var Ye=we.read_shift(4,"i");if(V===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);we.l+=4,ge=we.read_shift(4,"i"),we.l+=4,we.chk("00100000","Mini Stream Cutoff Size: "),be=we.read_shift(4,"i"),q=we.read_shift(4,"i"),he=we.read_shift(4,"i"),Z=we.read_shift(4,"i");for(var Le=-1,Ue=0;Ue<109&&(Le=we.read_shift(4,"i"),!(Le<0));++Ue)ve[Ue]=Le;var ct=v(k,U);S(he,Z,ct,U,ve);var Xt=E(ct,ge,ve,U);Xt[ge].name="!Directory",q>0&&be!==J&&(Xt[be].name="!MiniFAT"),Xt[ve[0]].name="!FAT",Xt.fat_addrs=ve,Xt.ssz=U;var Qt={},on=[],go=[],wa=[];T(ge,Xt,ct,on,q,Qt,go,be),C(go,wa,on),on.shift();var Rr={FileIndex:go,FullPaths:wa};return X&&X.raw&&(Rr.raw={header:Be,sectors:ct}),Rr}function p(k){if(k[k.l]==80&&k[k.l+1]==75)return[0,0];k.chk(ae,"Header Signature: "),k.l+=16;var X=k.read_shift(2,"u");return[k.read_shift(2,"u"),X]}function g(k,X){var V=9;switch(k.l+=2,V=k.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}k.chk("0600","Mini Sector Shift: "),k.chk("000000000000","Reserved: ")}function v(k,X){for(var V=Math.ceil(k.length/X)-1,U=[],q=1;q<V;++q)U[q-1]=k.slice(q*X,(q+1)*X);return U[V-1]=k.slice(V*X),U}function C(k,X,V){for(var U=0,q=0,Z=0,ge=0,be=0,he=V.length,ve=[],we=[];U<he;++U)ve[U]=we[U]=U,X[U]=V[U];for(;be<we.length;++be)U=we[be],q=k[U].L,Z=k[U].R,ge=k[U].C,ve[U]===U&&(q!==-1&&ve[q]!==q&&(ve[U]=ve[q]),Z!==-1&&ve[Z]!==Z&&(ve[U]=ve[Z])),ge!==-1&&(ve[ge]=U),q!==-1&&U!=ve[U]&&(ve[q]=ve[U],we.lastIndexOf(q)<be&&we.push(q)),Z!==-1&&U!=ve[U]&&(ve[Z]=ve[U],we.lastIndexOf(Z)<be&&we.push(Z));for(U=1;U<he;++U)ve[U]===U&&(Z!==-1&&ve[Z]!==Z?ve[U]=ve[Z]:q!==-1&&ve[q]!==q&&(ve[U]=ve[q]));for(U=1;U<he;++U)if(k[U].type!==0){if(be=U,be!=ve[be])do be=ve[be],X[U]=X[be]+"/"+X[U];while(be!==0&&ve[be]!==-1&&be!=ve[be]);ve[U]=-1}for(X[0]+="/",U=1;U<he;++U)k[U].type!==2&&(X[U]+="/")}function w(k,X,V){for(var U=k.start,q=k.size,Z=[],ge=U;V&&q>0&&ge>=0;)Z.push(X.slice(ge*z,ge*z+z)),q-=z,ge=jl(V,ge*4);return Z.length===0?Ee(0):di(Z).slice(0,k.size)}function S(k,X,V,U,q){var Z=J;if(k===J){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(k!==-1){var ge=V[k],be=(U>>>2)-1;if(!ge)return;for(var he=0;he<be&&(Z=jl(ge,he*4))!==J;++he)q.push(Z);S(jl(ge,U-4),X-1,V,U,q)}}function x(k,X,V,U,q){var Z=[],ge=[];q||(q=[]);var be=U-1,he=0,ve=0;for(he=X;he>=0;){q[he]=!0,Z[Z.length]=he,ge.push(k[he]);var we=V[Math.floor(he*4/U)];if(ve=he*4&be,U<4+ve)throw new Error("FAT boundary crossed: "+he+" 4 "+U);if(!k[we])break;he=jl(k[we],ve)}return{nodes:Z,data:YF([ge])}}function E(k,X,V,U){var q=k.length,Z=[],ge=[],be=[],he=[],ve=U-1,we=0,Ae=0,Be=0,Ye=0;for(we=0;we<q;++we)if(be=[],Be=we+X,Be>=q&&(Be-=q),!ge[Be]){he=[];var Le=[];for(Ae=Be;Ae>=0;){Le[Ae]=!0,ge[Ae]=!0,be[be.length]=Ae,he.push(k[Ae]);var Ue=V[Math.floor(Ae*4/U)];if(Ye=Ae*4&ve,U<4+Ye)throw new Error("FAT boundary crossed: "+Ae+" 4 "+U);if(!k[Ue]||(Ae=jl(k[Ue],Ye),Le[Ae]))break}Z[Be]={nodes:be,data:YF([he])}}return Z}function T(k,X,V,U,q,Z,ge,be){for(var he=0,ve=U.length?2:0,we=X[k].data,Ae=0,Be=0,Ye;Ae<we.length;Ae+=128){var Le=we.slice(Ae,Ae+128);pr(Le,64),Be=Le.read_shift(2),Ye=Eb(Le,0,Be-ve),U.push(Ye);var Ue={name:Ye,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},ct=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);ct!==0&&(Ue.ct=R(Le,Le.l-8));var Xt=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);Xt!==0&&(Ue.mt=R(Le,Le.l-8)),Ue.start=Le.read_shift(4,"i"),Ue.size=Le.read_shift(4,"i"),Ue.size<0&&Ue.start<0&&(Ue.size=Ue.type=0,Ue.start=J,Ue.name=""),Ue.type===5?(he=Ue.start,q>0&&he!==J&&(X[he].name="!StreamData")):Ue.size>=4096?(Ue.storage="fat",X[Ue.start]===void 0&&(X[Ue.start]=x(V,Ue.start,X.fat_addrs,X.ssz)),X[Ue.start].name=Ue.name,Ue.content=X[Ue.start].data.slice(0,Ue.size)):(Ue.storage="minifat",Ue.size<0?Ue.size=0:he!==J&&Ue.start!==J&&X[he]&&(Ue.content=w(Ue,X[he].data,(X[be]||{}).data))),Ue.content&&pr(Ue.content,0),Z[Ye]=Ue,ge.push(Ue)}}function R(k,X){return new Date((Cr(k,X+4)/1e7*Math.pow(2,32)+Cr(k,X)/1e7-11644473600)*1e3)}function F(k,X){return u(),h(l.readFileSync(k),X)}function P(k,X){var V=X&&X.type;switch(V||kt&&Buffer.isBuffer(k)&&(V="buffer"),V||"base64"){case"file":return F(k,X);case"base64":return h(ps(ta(k)),X);case"binary":return h(ps(k),X)}return h(k,X)}function _(k,X){var V=X||{},U=V.root||"Root Entry";if(k.FullPaths||(k.FullPaths=[]),k.FileIndex||(k.FileIndex=[]),k.FullPaths.length!==k.FileIndex.length)throw new Error("inconsistent CFB structure");k.FullPaths.length===0&&(k.FullPaths[0]=U+"/",k.FileIndex[0]={name:U,type:5}),V.CLSID&&(k.FileIndex[0].clsid=V.CLSID),L(k)}function L(k){var X="Sh33tJ5";if(!tn.find(k,"/"+X)){var V=Ee(4);V[0]=55,V[1]=V[3]=50,V[2]=54,k.FileIndex.push({name:X,type:2,content:V,size:4,L:69,R:69,C:69}),k.FullPaths.push(k.FullPaths[0]+X),A(k)}}function A(k,X){_(k);for(var V=!1,U=!1,q=k.FullPaths.length-1;q>=0;--q){var Z=k.FileIndex[q];switch(Z.type){case 0:U?V=!0:(k.FileIndex.pop(),k.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Z.R*Z.L*Z.C)&&(V=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!X)){var ge=new Date(1987,1,19),be=0,he=Object.create?Object.create(null):{},ve=[];for(q=0;q<k.FullPaths.length;++q)he[k.FullPaths[q]]=!0,k.FileIndex[q].type!==0&&ve.push([k.FullPaths[q],k.FileIndex[q]]);for(q=0;q<ve.length;++q){var we=i(ve[q][0]);U=he[we],U||(ve.push([we,{name:r(we).replace("/",""),type:1,clsid:j,ct:ge,mt:ge,content:null}]),he[we]=!0)}for(ve.sort(function(Ye,Le){return n(Ye[0],Le[0])}),k.FullPaths=[],k.FileIndex=[],q=0;q<ve.length;++q)k.FullPaths[q]=ve[q][0],k.FileIndex[q]=ve[q][1];for(q=0;q<ve.length;++q){var Ae=k.FileIndex[q],Be=k.FullPaths[q];if(Ae.name=r(Be).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||j,q===0)Ae.C=ve.length>1?1:-1,Ae.size=0,Ae.type=5;else if(Be.slice(-1)=="/"){for(be=q+1;be<ve.length&&i(k.FullPaths[be])!=Be;++be);for(Ae.C=be>=ve.length?-1:be,be=q+1;be<ve.length&&i(k.FullPaths[be])!=i(Be);++be);Ae.R=be>=ve.length?-1:be,Ae.type=1}else i(k.FullPaths[q+1]||"")==i(Be)&&(Ae.R=q+1),Ae.type=2}}}function O(k,X){var V=X||{};if(V.fileType=="mad")return _s(k,V);switch(A(k),V.fileType){case"zip":return bl(k,V)}var U=function(Ye){for(var Le=0,Ue=0,ct=0;ct<Ye.FileIndex.length;++ct){var Xt=Ye.FileIndex[ct];if(Xt.content){var Qt=Xt.content.length;Qt>0&&(Qt<4096?Le+=Qt+63>>6:Ue+=Qt+511>>9)}}for(var on=Ye.FullPaths.length+3>>2,go=Le+7>>3,wa=Le+127>>7,Rr=go+Ue+on+wa,rs=Rr+127>>7,El=rs<=109?0:Math.ceil((rs-109)/127);Rr+rs+El+127>>7>rs;)El=++rs<=109?0:Math.ceil((rs-109)/127);var ss=[1,El,rs,wa,on,Ue,Le,0];return Ye.FileIndex[0].size=Le<<6,ss[7]=(Ye.FileIndex[0].start=ss[0]+ss[1]+ss[2]+ss[3]+ss[4]+ss[5])+(ss[6]+7>>3),ss}(k),q=Ee(U[7]<<9),Z=0,ge=0;{for(Z=0;Z<8;++Z)q.write_shift(1,ie[Z]);for(Z=0;Z<8;++Z)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Z=0;Z<3;++Z)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:J),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:J),q.write_shift(4,U[1]),Z=0;Z<109;++Z)q.write_shift(-4,Z<U[2]?U[1]+Z:-1)}if(U[1])for(ge=0;ge<U[1];++ge){for(;Z<236+ge*127;++Z)q.write_shift(-4,Z<U[2]?U[1]+Z:-1);q.write_shift(-4,ge===U[1]-1?J:ge+1)}var be=function(Ye){for(ge+=Ye;Z<ge-1;++Z)q.write_shift(-4,Z+1);Ye&&(++Z,q.write_shift(-4,J))};for(ge=Z=0,ge+=U[1];Z<ge;++Z)q.write_shift(-4,W.DIFSECT);for(ge+=U[2];Z<ge;++Z)q.write_shift(-4,W.FATSECT);be(U[3]),be(U[4]);for(var he=0,ve=0,we=k.FileIndex[0];he<k.FileIndex.length;++he)we=k.FileIndex[he],we.content&&(ve=we.content.length,!(ve<4096)&&(we.start=ge,be(ve+511>>9)));for(be(U[6]+7>>3);q.l&511;)q.write_shift(-4,W.ENDOFCHAIN);for(ge=Z=0,he=0;he<k.FileIndex.length;++he)we=k.FileIndex[he],we.content&&(ve=we.content.length,!(!ve||ve>=4096)&&(we.start=ge,be(ve+63>>6)));for(;q.l&511;)q.write_shift(-4,W.ENDOFCHAIN);for(Z=0;Z<U[4]<<2;++Z){var Ae=k.FullPaths[Z];if(!Ae||Ae.length===0){for(he=0;he<17;++he)q.write_shift(4,0);for(he=0;he<3;++he)q.write_shift(4,-1);for(he=0;he<12;++he)q.write_shift(4,0);continue}we=k.FileIndex[Z],Z===0&&(we.start=we.size?we.start-1:J);var Be=Z===0&&V.root||we.name;if(ve=2*(Be.length+1),q.write_shift(64,Be,"utf16le"),q.write_shift(2,ve),q.write_shift(1,we.type),q.write_shift(1,we.color),q.write_shift(-4,we.L),q.write_shift(-4,we.R),q.write_shift(-4,we.C),we.clsid)q.write_shift(16,we.clsid,"hex");else for(he=0;he<4;++he)q.write_shift(4,0);q.write_shift(4,we.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,we.start),q.write_shift(4,we.size),q.write_shift(4,0)}for(Z=1;Z<k.FileIndex.length;++Z)if(we=k.FileIndex[Z],we.size>=4096)if(q.l=we.start+1<<9,kt&&Buffer.isBuffer(we.content))we.content.copy(q,q.l,0,we.size),q.l+=we.size+511&-512;else{for(he=0;he<we.size;++he)q.write_shift(1,we.content[he]);for(;he&511;++he)q.write_shift(1,0)}for(Z=1;Z<k.FileIndex.length;++Z)if(we=k.FileIndex[Z],we.size>0&&we.size<4096)if(kt&&Buffer.isBuffer(we.content))we.content.copy(q,q.l,0,we.size),q.l+=we.size+63&-64;else{for(he=0;he<we.size;++he)q.write_shift(1,we.content[he]);for(;he&63;++he)q.write_shift(1,0)}if(kt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function I(k,X){var V=k.FullPaths.map(function(he){return he.toUpperCase()}),U=V.map(function(he){var ve=he.split("/");return ve[ve.length-(he.slice(-1)=="/"?2:1)]}),q=!1;X.charCodeAt(0)===47?(q=!0,X=V[0].slice(0,-1)+X):q=X.indexOf("/")!==-1;var Z=X.toUpperCase(),ge=q===!0?V.indexOf(Z):U.indexOf(Z);if(ge!==-1)return k.FileIndex[ge];var be=!Z.match(sm);for(Z=Z.replace(Cf,""),be&&(Z=Z.replace(sm,"!")),ge=0;ge<V.length;++ge)if((be?V[ge].replace(sm,"!"):V[ge]).replace(Cf,"")==Z||(be?U[ge].replace(sm,"!"):U[ge]).replace(Cf,"")==Z)return k.FileIndex[ge];return null}var z=64,J=-2,ae="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],j="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:j,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(k,X,V){u();var U=O(k,V);l.writeFileSync(X,U)}function ce(k){for(var X=new Array(k.length),V=0;V<k.length;++V)X[V]=String.fromCharCode(k[V]);return X.join("")}function H(k,X){var V=O(k,X);switch(X&&X.type||"buffer"){case"file":return u(),l.writeFileSync(X.filename,V),V;case"binary":return typeof V=="string"?V:ce(V);case"base64":return jf(typeof V=="string"?V:ce(V));case"buffer":if(kt)return Buffer.isBuffer(V)?V:da(V);case"array":return typeof V=="string"?ps(V):V}return V}var le;function B(k){try{var X=k.InflateRaw,V=new X;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)le=k;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function Y(k,X){if(!le)return va(k,X);var V=le.InflateRaw,U=new V,q=U._processChunk(k.slice(k.l),U._finishFlushFlag);return k.l+=U.bytesRead,q}function K(k){return le?le.deflateRawSync(k):rr(k)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(k){var X=(k<<1|k<<11)&139536|(k<<5|k<<15)&558144;return(X>>16|X>>8|X)&255}for(var _e=typeof Uint8Array<"u",Pe=_e?new Uint8Array(256):[],it=0;it<256;++it)Pe[it]=Oe(it);function et(k,X){var V=Pe[k&255];return X<=8?V>>>8-X:(V=V<<8|Pe[k>>8&255],X<=16?V>>>16-X:(V=V<<8|Pe[k>>16&255],V>>>24-X))}function Lt(k,X){var V=X&7,U=X>>>3;return(k[U]|(V<=6?0:k[U+1]<<8))>>>V&3}function We(k,X){var V=X&7,U=X>>>3;return(k[U]|(V<=5?0:k[U+1]<<8))>>>V&7}function dt(k,X){var V=X&7,U=X>>>3;return(k[U]|(V<=4?0:k[U+1]<<8))>>>V&15}function st(k,X){var V=X&7,U=X>>>3;return(k[U]|(V<=3?0:k[U+1]<<8))>>>V&31}function ke(k,X){var V=X&7,U=X>>>3;return(k[U]|(V<=1?0:k[U+1]<<8))>>>V&127}function tt(k,X,V){var U=X&7,q=X>>>3,Z=(1<<V)-1,ge=k[q]>>>U;return V<8-U||(ge|=k[q+1]<<8-U,V<16-U)||(ge|=k[q+2]<<16-U,V<24-U)||(ge|=k[q+3]<<24-U),ge&Z}function vt(k,X,V){var U=X&7,q=X>>>3;return U<=5?k[q]|=(V&7)<<U:(k[q]|=V<<U&255,k[q+1]=(V&7)>>8-U),X+3}function Ft(k,X,V){var U=X&7,q=X>>>3;return V=(V&1)<<U,k[q]|=V,X+1}function It(k,X,V){var U=X&7,q=X>>>3;return V<<=U,k[q]|=V&255,V>>>=8,k[q+1]=V,X+8}function mn(k,X,V){var U=X&7,q=X>>>3;return V<<=U,k[q]|=V&255,V>>>=8,k[q+1]=V&255,k[q+2]=V>>>8,X+16}function Kn(k,X){var V=k.length,U=2*V>X?2*V:X+5,q=0;if(V>=X)return k;if(kt){var Z=AF(U);if(k.copy)k.copy(Z);else for(;q<k.length;++q)Z[q]=k[q];return Z}else if(_e){var ge=new Uint8Array(U);if(ge.set)ge.set(k);else for(;q<V;++q)ge[q]=k[q];return ge}return k.length=U,k}function Ne(k){for(var X=new Array(k),V=0;V<k;++V)X[V]=0;return X}function Qe(k,X,V){var U=1,q=0,Z=0,ge=0,be=0,he=k.length,ve=_e?new Uint16Array(32):Ne(32);for(Z=0;Z<32;++Z)ve[Z]=0;for(Z=he;Z<V;++Z)k[Z]=0;he=k.length;var we=_e?new Uint16Array(he):Ne(he);for(Z=0;Z<he;++Z)ve[q=k[Z]]++,U<q&&(U=q),we[Z]=0;for(ve[0]=0,Z=1;Z<=U;++Z)ve[Z+16]=be=be+ve[Z-1]<<1;for(Z=0;Z<he;++Z)be=k[Z],be!=0&&(we[Z]=ve[be+16]++);var Ae=0;for(Z=0;Z<he;++Z)if(Ae=k[Z],Ae!=0)for(be=et(we[Z],U)>>U-Ae,ge=(1<<U+4-Ae)-1;ge>=0;--ge)X[be|ge<<Ae]=Ae&15|Z<<4;return U}var Mt=_e?new Uint16Array(512):Ne(512),ft=_e?new Uint16Array(32):Ne(32);if(!_e){for(var nt=0;nt<512;++nt)Mt[nt]=0;for(nt=0;nt<32;++nt)ft[nt]=0}(function(){for(var k=[],X=0;X<32;X++)k.push(5);Qe(k,ft,32);var V=[];for(X=0;X<=143;X++)V.push(8);for(;X<=255;X++)V.push(9);for(;X<=279;X++)V.push(7);for(;X<=287;X++)V.push(8);Qe(V,Mt,288)})();var xt=function(){for(var X=_e?new Uint8Array(32768):[],V=0,U=0;V<Ie.length-1;++V)for(;U<Ie[V+1];++U)X[U]=V;for(;U<32768;++U)X[U]=29;var q=_e?new Uint8Array(259):[];for(V=0,U=0;V<de.length-1;++V)for(;U<de[V+1];++U)q[U]=V;function Z(be,he){for(var ve=0;ve<be.length;){var we=Math.min(65535,be.length-ve),Ae=ve+we==be.length;for(he.write_shift(1,+Ae),he.write_shift(2,we),he.write_shift(2,~we&65535);we-- >0;)he[he.l++]=be[ve++]}return he.l}function ge(be,he){for(var ve=0,we=0,Ae=_e?new Uint16Array(32768):[];we<be.length;){var Be=Math.min(65535,be.length-we);if(Be<10){for(ve=vt(he,ve,+(we+Be==be.length)),ve&7&&(ve+=8-(ve&7)),he.l=ve/8|0,he.write_shift(2,Be),he.write_shift(2,~Be&65535);Be-- >0;)he[he.l++]=be[we++];ve=he.l*8;continue}ve=vt(he,ve,+(we+Be==be.length)+2);for(var Ye=0;Be-- >0;){var Le=be[we];Ye=(Ye<<5^Le)&32767;var Ue=-1,ct=0;if((Ue=Ae[Ye])&&(Ue|=we&-32768,Ue>we&&(Ue-=32768),Ue<we))for(;be[Ue+ct]==be[we+ct]&&ct<250;)++ct;if(ct>2){Le=q[ct],Le<=22?ve=It(he,ve,Pe[Le+1]>>1)-1:(It(he,ve,3),ve+=5,It(he,ve,Pe[Le-23]>>5),ve+=3);var Xt=Le<8?0:Le-4>>2;Xt>0&&(mn(he,ve,ct-de[Le]),ve+=Xt),Le=X[we-Ue],ve=It(he,ve,Pe[Le]>>3),ve-=3;var Qt=Le<4?0:Le-2>>1;Qt>0&&(mn(he,ve,we-Ue-Ie[Le]),ve+=Qt);for(var on=0;on<ct;++on)Ae[Ye]=we&32767,Ye=(Ye<<5^be[we])&32767,++we;Be-=ct-1}else Le<=143?Le=Le+48:ve=Ft(he,ve,1),ve=It(he,ve,Pe[Le]),Ae[Ye]=we&32767,++we}ve=It(he,ve,0)-1}return he.l=(ve+7)/8|0,he.l}return function(he,ve){return he.length<8?Z(he,ve):ge(he,ve)}}();function rr(k){var X=Ee(50+Math.floor(k.length*1.1)),V=xt(k,X);return X.slice(0,V)}var ga=_e?new Uint16Array(32768):Ne(32768),ma=_e?new Uint16Array(32768):Ne(32768),ns=_e?new Uint16Array(128):Ne(128),Dr=1,Vi=1;function Ms(k,X){var V=st(k,X)+257;X+=5;var U=st(k,X)+1;X+=5;var q=dt(k,X)+4;X+=4;for(var Z=0,ge=_e?new Uint8Array(19):Ne(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,ve=_e?new Uint8Array(8):Ne(8),we=_e?new Uint8Array(8):Ne(8),Ae=ge.length,Be=0;Be<q;++Be)ge[ee[Be]]=Z=We(k,X),he<Z&&(he=Z),ve[Z]++,X+=3;var Ye=0;for(ve[0]=0,Be=1;Be<=he;++Be)we[Be]=Ye=Ye+ve[Be-1]<<1;for(Be=0;Be<Ae;++Be)(Ye=ge[Be])!=0&&(be[Be]=we[Ye]++);var Le=0;for(Be=0;Be<Ae;++Be)if(Le=ge[Be],Le!=0){Ye=Pe[be[Be]]>>8-Le;for(var Ue=(1<<7-Le)-1;Ue>=0;--Ue)ns[Ye|Ue<<Le]=Le&7|Be<<3}var ct=[];for(he=1;ct.length<V+U;)switch(Ye=ns[ke(k,X)],X+=Ye&7,Ye>>>=3){case 16:for(Z=3+Lt(k,X),X+=2,Ye=ct[ct.length-1];Z-- >0;)ct.push(Ye);break;case 17:for(Z=3+We(k,X),X+=3;Z-- >0;)ct.push(0);break;case 18:for(Z=11+ke(k,X),X+=7;Z-- >0;)ct.push(0);break;default:ct.push(Ye),he<Ye&&(he=Ye);break}var Xt=ct.slice(0,V),Qt=ct.slice(V);for(Be=V;Be<286;++Be)Xt[Be]=0;for(Be=U;Be<30;++Be)Qt[Be]=0;return Dr=Qe(Xt,ga,286),Vi=Qe(Qt,ma,30),X}function is(k,X){if(k[0]==3&&!(k[1]&3))return[bc(X),2];for(var V=0,U=0,q=AF(X||1<<18),Z=0,ge=q.length>>>0,be=0,he=0;(U&1)==0;){if(U=We(k,V),V+=3,U>>>1)U>>1==1?(be=9,he=5):(V=Ms(k,V),be=Dr,he=Vi);else{V&7&&(V+=8-(V&7));var ve=k[V>>>3]|k[(V>>>3)+1]<<8;if(V+=32,ve>0)for(!X&&ge<Z+ve&&(q=Kn(q,Z+ve),ge=q.length);ve-- >0;)q[Z++]=k[V>>>3],V+=8;continue}for(;;){!X&&ge<Z+32767&&(q=Kn(q,Z+32767),ge=q.length);var we=tt(k,V,be),Ae=U>>>1==1?Mt[we]:ga[we];if(V+=Ae&15,Ae>>>=4,(Ae>>>8&255)===0)q[Z++]=Ae;else{if(Ae==256)break;Ae-=257;var Be=Ae<8?0:Ae-4>>2;Be>5&&(Be=0);var Ye=Z+de[Ae];Be>0&&(Ye+=tt(k,V,Be),V+=Be),we=tt(k,V,he),Ae=U>>>1==1?ft[we]:ma[we],V+=Ae&15,Ae>>>=4;var Le=Ae<4?0:Ae-2>>1,Ue=Ie[Ae];for(Le>0&&(Ue+=tt(k,V,Le),V+=Le),!X&&ge<Ye&&(q=Kn(q,Ye+100),ge=q.length);Z<Ye;)q[Z]=q[Z-Ue],++Z}}}return X?[q,V+7>>>3]:[q.slice(0,Z),V+7>>>3]}function va(k,X){var V=k.slice(k.l||0),U=is(V,X);return k.l+=U[1],U[0]}function xl(k,X){if(k)typeof console<"u"&&console.error(X);else throw new Error(X)}function Kd(k,X){var V=k;pr(V,0);var U=[],q=[],Z={FileIndex:U,FullPaths:q};_(Z,{root:X.root});for(var ge=V.length-4;(V[ge]!=80||V[ge+1]!=75||V[ge+2]!=5||V[ge+3]!=6)&&ge>=0;)--ge;V.l=ge+4,V.l+=4;var be=V.read_shift(2);V.l+=6;var he=V.read_shift(4);for(V.l=he,ge=0;ge<be;++ge){V.l+=20;var ve=V.read_shift(4),we=V.read_shift(4),Ae=V.read_shift(2),Be=V.read_shift(2),Ye=V.read_shift(2);V.l+=8;var Le=V.read_shift(4),Ue=a(V.slice(V.l+Ae,V.l+Ae+Be));V.l+=Ae+Be+Ye;var ct=V.l;V.l=Le+4,qd(V,ve,we,Z,Ue),V.l=ct}return Z}function qd(k,X,V,U,q){k.l+=2;var Z=k.read_shift(2),ge=k.read_shift(2),be=o(k);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var he=k.read_shift(4),ve=k.read_shift(4),we=k.read_shift(4),Ae=k.read_shift(2),Be=k.read_shift(2),Ye="",Le=0;Le<Ae;++Le)Ye+=String.fromCharCode(k[k.l++]);if(Be){var Ue=a(k.slice(k.l,k.l+Be));(Ue[21589]||{}).mt&&(be=Ue[21589].mt),((q||{})[21589]||{}).mt&&(be=q[21589].mt)}k.l+=Be;var ct=k.slice(k.l,k.l+ve);switch(ge){case 8:ct=Y(k,we);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ge)}var Xt=!1;Z&8&&(he=k.read_shift(4),he==134695760&&(he=k.read_shift(4),Xt=!0),ve=k.read_shift(4),we=k.read_shift(4)),ve!=X&&xl(Xt,"Bad compressed size: "+X+" != "+ve),we!=V&&xl(Xt,"Bad uncompressed size: "+V+" != "+we),Xn(U,Ye,ct,{unsafe:!0,mt:be})}function bl(k,X){var V=X||{},U=[],q=[],Z=Ee(1),ge=V.compression?8:0,be=0,he=0,ve=0,we=0,Ae=0,Be=k.FullPaths[0],Ye=Be,Le=k.FileIndex[0],Ue=[],ct=0;for(he=1;he<k.FullPaths.length;++he)if(Ye=k.FullPaths[he].slice(Be.length),Le=k.FileIndex[he],!(!Le.size||!Le.content||Ye=="Sh33tJ5")){var Xt=we,Qt=Ee(Ye.length);for(ve=0;ve<Ye.length;++ve)Qt.write_shift(1,Ye.charCodeAt(ve)&127);Qt=Qt.slice(0,Qt.l),Ue[Ae]=yJ.buf(Le.content,0);var on=Le.content;ge==8&&(on=K(on)),Z=Ee(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,be),Z.write_shift(2,ge),Le.mt?s(Z,Le.mt):Z.write_shift(4,0),Z.write_shift(-4,Ue[Ae]),Z.write_shift(4,on.length),Z.write_shift(4,Le.content.length),Z.write_shift(2,Qt.length),Z.write_shift(2,0),we+=Z.length,U.push(Z),we+=Qt.length,U.push(Qt),we+=on.length,U.push(on),Z=Ee(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,be),Z.write_shift(2,ge),Z.write_shift(4,0),Z.write_shift(-4,Ue[Ae]),Z.write_shift(4,on.length),Z.write_shift(4,Le.content.length),Z.write_shift(2,Qt.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,Xt),ct+=Z.l,q.push(Z),ct+=Qt.length,q.push(Qt),++Ae}return Z=Ee(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Ae),Z.write_shift(2,Ae),Z.write_shift(4,ct),Z.write_shift(4,we),Z.write_shift(2,0),di([di(U),di(q),Z])}var Yc={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pp(k,X){if(k.ctype)return k.ctype;var V=k.name||"",U=V.match(/\.([^\.]+)$/);return U&&Yc[U[1]]||X&&(U=(V=X).match(/[\.\\]([^\.\\])+$/),U&&Yc[U[1]])?Yc[U[1]]:"application/octet-stream"}function kp(k){for(var X=jf(k),V=[],U=0;U<X.length;U+=76)V.push(X.slice(U,U+76));return V.join(`\r
`)+`\r
`}function Xd(k){var X=k.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ve){var we=ve.charCodeAt(0).toString(16).toUpperCase();return"="+(we.length==1?"0"+we:we)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],U=X.split(`\r
`),q=0;q<U.length;++q){var Z=U[q];if(Z.length==0){V.push("");continue}for(var ge=0;ge<Z.length;){var be=76,he=Z.slice(ge,ge+be);he.charAt(be-1)=="="?be--:he.charAt(be-2)=="="?be-=2:he.charAt(be-3)=="="&&(be-=3),he=Z.slice(ge,ge+be),ge+=be,ge<Z.length&&(he+="="),V.push(he)}}return V.join(`\r
`)}function Qd(k){for(var X=[],V=0;V<k.length;++V){for(var U=k[V];V<=k.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+k[++V];X.push(U)}for(var q=0;q<X.length;++q)X[q]=X[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return ps(X.join(`\r
`))}function Op(k,X,V){for(var U="",q="",Z="",ge,be=0;be<10;++be){var he=X[be];if(!he||he.match(/^\s*$/))break;var ve=he.match(/^(.*?):\s*([^\s].*)$/);if(ve)switch(ve[1].toLowerCase()){case"content-location":U=ve[2].trim();break;case"content-type":Z=ve[2].trim();break;case"content-transfer-encoding":q=ve[2].trim();break}}switch(++be,q.toLowerCase()){case"base64":ge=ps(ta(X.slice(be).join("")));break;case"quoted-printable":ge=Qd(X.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var we=Xn(k,U.slice(V.length),ge,{unsafe:!0});Z&&(we.ctype=Z)}function _C(k,X){if(ce(k.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=X&&X.root||"",U=(kt&&Buffer.isBuffer(k)?k.toString("binary"):ce(k)).split(`\r
`),q=0,Z="";for(q=0;q<U.length;++q)if(Z=U[q],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),V||(V=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),Z.slice(0,V.length)!=V););var ge=(U[1]||"").match(/boundary="(.*?)"/);if(!ge)throw new Error("MAD cannot find boundary");var be="--"+(ge[1]||""),he=[],ve=[],we={FileIndex:he,FullPaths:ve};_(we);var Ae,Be=0;for(q=0;q<U.length;++q){var Ye=U[q];Ye!==be&&Ye!==be+"--"||(Be++&&Op(we,U.slice(Ae,q),V),Ae=q)}return we}function _s(k,X){var V=X||{},U=V.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],Z=k.FullPaths[0],ge=Z,be=k.FileIndex[0],he=1;he<k.FullPaths.length;++he)if(ge=k.FullPaths[he].slice(Z.length),be=k.FileIndex[he],!(!be.size||!be.content||ge=="Sh33tJ5")){ge=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var ve=be.content,we=kt&&Buffer.isBuffer(ve)?ve.toString("binary"):ce(ve),Ae=0,Be=Math.min(1024,we.length),Ye=0,Le=0;Le<=Be;++Le)(Ye=we.charCodeAt(Le))>=32&&Ye<128&&++Ae;var Ue=Ae>=Be*4/5;q.push(U),q.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ge),q.push("Content-Transfer-Encoding: "+(Ue?"quoted-printable":"base64")),q.push("Content-Type: "+Pp(be,ge)),q.push(""),q.push(Ue?Xd(we):kp(we))}return q.push(U+`--\r
`),q.join(`\r
`)}function qn(k){var X={};return _(X,k),X}function Xn(k,X,V,U){var q=U&&U.unsafe;q||_(k);var Z=!q&&tn.find(k,X);if(!Z){var ge=k.FullPaths[0];X.slice(0,ge.length)==ge?ge=X:(ge.slice(-1)!="/"&&(ge+="/"),ge=(ge+X).replace("//","/")),Z={name:r(X),type:2},k.FileIndex.push(Z),k.FullPaths.push(ge),q||tn.utils.cfb_gc(k)}return Z.content=V,Z.size=V?V.length:0,U&&(U.CLSID&&(Z.clsid=U.CLSID),U.mt&&(Z.mt=U.mt),U.ct&&(Z.ct=U.ct)),Z}function Ca(k,X){_(k);var V=tn.find(k,X);if(V){for(var U=0;U<k.FileIndex.length;++U)if(k.FileIndex[U]==V)return k.FileIndex.splice(U,1),k.FullPaths.splice(U,1),!0}return!1}function Zd(k,X,V){_(k);var U=tn.find(k,X);if(U){for(var q=0;q<k.FileIndex.length;++q)if(k.FileIndex[q]==U)return k.FileIndex[q].name=r(V),k.FullPaths[q]=V,!0}return!1}function AC(k){A(k,!0)}return t.find=I,t.read=P,t.parse=h,t.write=H,t.writeFile=Q,t.utils={cfb_new:qn,cfb_add:Xn,cfb_del:Ca,cfb_mov:Zd,cfb_gc:AC,ReadShift:yf,CheckField:SO,prep_blob:pr,bconcat:di,use_zlib:B,_deflateRaw:rr,_inflateRaw:va,consts:W},t}();function SJ(e){return typeof e=="string"?nC(e):Array.isArray(e)?$Z(e):e}function yp(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=nC(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var i=n=="utf8"?$f(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,e);if(typeof Blob<"u"){var r=new Blob([SJ(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=wp(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function wi(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(e,t[i])&&n.push(t[i]);return n}function HF(e,t){for(var n=[],i=wi(e),r=0;r!==i.length;++r)n[e[i[r]][t]]==null&&(n[e[i[r]][t]]=i[r]);return n}function yb(e){for(var t=[],n=wi(e),i=0;i!==n.length;++i)t[e[n[i]]]=n[i];return t}function sC(e){for(var t=[],n=wi(e),i=0;i!==n.length;++i)t[e[n[i]]]=parseInt(n[i],10);return t}function xJ(e){for(var t=[],n=wi(e),i=0;i!==n.length;++i)t[e[n[i]]]==null&&(t[e[n[i]]]=[]),t[e[n[i]]].push(n[i]);return t}var tv=new Date(1899,11,30,0,0,0);function er(e,t){var n=e.getTime(),i=tv.getTime()+(e.getTimezoneOffset()-tv.getTimezoneOffset())*6e4;return(n-i)/(1440*60*1e3)}var rO=new Date,bJ=tv.getTime()+(rO.getTimezoneOffset()-tv.getTimezoneOffset())*6e4,GF=rO.getTimezoneOffset();function sO(e){var t=new Date;return t.setTime(e*24*60*60*1e3+bJ),t.getTimezoneOffset()!==GF&&t.setTime(t.getTime()+(t.getTimezoneOffset()-GF)*6e4),t}var VF=new Date("2017-02-19T19:06:09.000Z"),oO=isNaN(VF.getFullYear())?new Date("2/19/17"):VF,EJ=oO.getFullYear()==2017;function Bi(e,t){var n=new Date(e);if(EJ)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(oO.getFullYear()==1917&&!isNaN(n.getFullYear())){var i=n.getFullYear();return e.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function oC(e,t){if(kt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var i=[],r=0;r!=e.length;++r)i.push(String.fromCharCode(e[r]));return i.join("")}function tr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=tr(e[n]));return t}function Tn(e,t){for(var n="";n.length<t;)n+=e;return n}function Wo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,s){return n=-n,s}),!isNaN(t=Number(i)))?t/n:t}var TJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yf(e){var t=new Date(e),n=new Date(NaN),i=t.getYear(),r=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&TJ.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||s>1)&&i!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function ht(e,t,n){if(e.FullPaths){if(typeof n=="string"){var i;return kt?i=da(n):i=KZ(n),tn.utils.cfb_add(e,t,i)}tn.utils.cfb_add(e,t,n)}else e.file(t,n)}function Sb(){return tn.utils.cfb_new()}var zn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DJ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xb=yb(DJ),bb=/[&<>'"]/g,RJ=/[\u0000-\u0008\u000b-\u001f]/g;function $t(e){var t=e+"";return t.replace(bb,function(n){return xb[n]}).replace(RJ,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function zF(e){return $t(e).replace(/ /g,"_x0020_")}var aO=/[\u0000-\u001f]/g;function FJ(e){var t=e+"";return t.replace(bb,function(n){return xb[n]}).replace(/\n/g,"<br/>").replace(aO,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function MJ(e){var t=e+"";return t.replace(bb,function(n){return xb[n]}).replace(aO,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function _J(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function AJ(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Sy(e){for(var t="",n=0,i=0,r=0,s=0,o=0,a=0;n<e.length;){if(i=e.charCodeAt(n++),i<128){t+=String.fromCharCode(i);continue}if(r=e.charCodeAt(n++),i>191&&i<224){o=(i&31)<<6,o|=r&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),i<240){t+=String.fromCharCode((i&15)<<12|(r&63)<<6|s&63);continue}o=e.charCodeAt(n++),a=((i&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function WF(e){var t=bc(2*e.length),n,i,r=1,s=0,o=0,a;for(i=0;i<e.length;i+=r)r=1,(a=e.charCodeAt(i))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(i+1)&63),r=2):a<240?(n=(a&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),r=3):(r=4,n=(a&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function UF(e){return da(e,"binary").toString("utf8")}var am="foo bar baz",wf=kt&&(UF(am)==Sy(am)&&UF||WF(am)==Sy(am)&&WF)||Sy,$f=kt?function(e){return da(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,i=0,r=0;n<e.length;)switch(i=e.charCodeAt(n++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=e.charCodeAt(n++)-56320+(i<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)))}return t.join("")},PJ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var i=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<e.length;++r)i=i.replace(e[r][0],e[r][1]);return i}}(),lO=/(^\s|\s$|\n)/;function hi(e,t){return"<"+e+(t.match(lO)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Kf(e){return wi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function He(e,t,n){return"<"+e+(n!=null?Kf(n):"")+(t!=null?(t.match(lO)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function jS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function kJ(e,t){switch(typeof e){case"string":var n=He("vt:lpwstr",$t(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return He((e|0)==e?"vt:i4":"vt:r8",$t(String(e)));case"boolean":return He("vt:bool",e?"true":"false")}if(e instanceof Date)return He("vt:filetime",jS(e));throw new Error("Unable to serialize "+e)}var ni={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Id=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],vr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function OJ(e,t){for(var n=1-2*(e[t+7]>>>7),i=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),r=e[t+6]&15,s=5;s>=0;--s)r=r*256+e[t+s];return i==2047?r==0?n*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function LJ(e,t,n){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,s=0,o=i?-t:t;isFinite(o)?o==0?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=s&255;e[n+6]=(r&15)<<4|s&15,e[n+7]=r>>4|i}var jF=function(e){for(var t=[],n=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var r=0,s=e[0][i].length;r<s;r+=n)t.push.apply(t,e[0][i].slice(r,r+n));return t},YF=kt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:da(t)})):jF(e)}:jF,$F=function(e,t,n){for(var i=[],r=t;r<n;r+=2)i.push(String.fromCharCode(af(e,r)));return i.join("").replace(Cf,"")},Eb=kt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Cf,""):$F(e,t,n)}:$F,KF=function(e,t,n){for(var i=[],r=t;r<t+n;++r)i.push(("0"+e[r].toString(16)).slice(-2));return i.join("")},cO=kt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):KF(e,t,n)}:KF,qF=function(e,t,n){for(var i=[],r=t;r<n;r++)i.push(String.fromCharCode(Nu(e,r)));return i.join("")},Sp=kt?function(t,n,i){return Buffer.isBuffer(t)?t.toString("utf8",n,i):qF(t,n,i)}:qF,uO=function(e,t){var n=Cr(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},dO=uO,hO=function(e,t){var n=Cr(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},fO=hO,pO=function(e,t){var n=2*Cr(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},gO=pO,mO=function(t,n){var i=Cr(t,n);return i>0?Eb(t,n+4,n+4+i):""},vO=mO,CO=function(e,t){var n=Cr(e,t);return n>0?Sp(e,t+4,t+4+n):""},wO=CO,yO=function(e,t){return OJ(e,t)},nv=yO,Tb=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};kt&&(dO=function(t,n){if(!Buffer.isBuffer(t))return uO(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},fO=function(t,n){if(!Buffer.isBuffer(t))return hO(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},gO=function(t,n){if(!Buffer.isBuffer(t))return pO(t,n);var i=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i-1)},vO=function(t,n){if(!Buffer.isBuffer(t))return mO(t,n);var i=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i)},wO=function(t,n){if(!Buffer.isBuffer(t))return CO(t,n);var i=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+i)},nv=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):yO(t,n)},Tb=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Nu=function(e,t){return e[t]},af=function(e,t){return e[t+1]*256+e[t]},IJ=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Cr=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},NJ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yf(e,t){var n="",i,r,s=[],o,a,l,u;switch(t){case"dbcs":if(u=this.l,kt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(af(this,u)),u+=2;e*=2;break;case"utf8":n=Sp(this,this.l,this.l+e);break;case"utf16le":e*=2,n=Eb(this,this.l,this.l+e);break;case"wstr":return yf.call(this,e,"dbcs");case"lpstr-ansi":n=dO(this,this.l),e=4+Cr(this,this.l);break;case"lpstr-cp":n=fO(this,this.l),e=4+Cr(this,this.l);break;case"lpwstr":n=gO(this,this.l),e=4+2*Cr(this,this.l);break;case"lpp4":e=4+Cr(this,this.l),n=vO(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Cr(this,this.l),n=wO(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Nu(this,this.l+e++))!==0;)s.push(rm(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=af(this,this.l+e))!==0;)s.push(rm(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Nu(this,u),this.l=u+1,a=yf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(rm(af(this,u))),u+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Nu(this,u),this.l=u+1,a=yf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(rm(Nu(this,u))),u+=1}n=s.join("");break;default:switch(e){case 1:return i=Nu(this,this.l),this.l++,i;case 2:return i=(t==="i"?IJ:af)(this,this.l),this.l+=2,i;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(i=(e>0?jl:NJ)(this,this.l),this.l+=4,i):(r=Cr(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return e==8?r=nv(this,this.l):r=nv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:n=cO(this,this.l,e);break}}return this.l+=e,n}var BJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},HJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},GJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function VJ(e,t,n){var i=0,r=0;if(n==="dbcs"){for(r=0;r!=t.length;++r)GJ(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;i=t.length}else if(n==="hex"){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var o=t.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=t&255;break;case 2:i=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:i=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:i=4,BJ(this,t,this.l);break;case 8:if(i=8,n==="f"){LJ(this,t,this.l);break}case 16:break;case-4:i=4,HJ(this,t,this.l);break}return this.l+=i,this}function SO(e,t){var n=cO(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function pr(e,t){e.l=t,e.read_shift=yf,e.chk=SO,e.write_shift=VJ}function lo(e,t){e.l+=t}function Ee(e){var t=bc(e);return pr(t,0),t}function qi(){var e=[],t=kt?256:2048,n=function(u){var h=Ee(u);return pr(h,0),h},i=n(t),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},s=function(u){return i&&u<i.length-i.l?i:(r(),i=n(Math.max(u+1,t)))},o=function(){return r(),di(e)},a=function(u){r(),i=u,i.l==null&&(i.l=i.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function Fe(e,t,n,i){var r=+t,s;if(!isNaN(r)){i||(i=Ose[r].p||(n||[]).length||0),s=1+(r>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var a=0;a!=4;++a)if(i>=128)o.write_shift(1,(i&127)+128),i>>=7;else{o.write_shift(1,i);break}i>0&&Tb(n)&&e.push(n)}}function Sf(e,t,n){var i=tr(e);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!n||n.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function XF(e,t,n){var i=tr(e);return i.s=Sf(i.s,t.s,n),i.e=Sf(i.e,t.s,n),i}function xf(e,t){if(e.cRel&&e.c<0)for(e=tr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=tr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Kt(e);return!e.cRel&&e.cRel!=null&&(n=UJ(n)),!e.rRel&&e.rRel!=null&&(n=zJ(n)),n}function xy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ti(e.s.c)+":"+(e.e.cRel?"":"$")+Ti(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ci(e.s.r)+":"+(e.e.rRel?"":"$")+Ci(e.e.r):xf(e.s,t.biff)+":"+xf(e.e,t.biff)}function Db(e){return parseInt(WJ(e),10)-1}function Ci(e){return""+(e+1)}function zJ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function WJ(e){return e.replace(/\$(\d+)$/,"$1")}function Rb(e){for(var t=jJ(e),n=0,i=0;i!==t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}function Ti(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function UJ(e){return e.replace(/^([A-Z])/,"$$$1")}function jJ(e){return e.replace(/^\$([A-Z])/,"$1")}function YJ(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ii(e){for(var t=0,n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:t-1}}function Kt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Er(e){var t=e.indexOf(":");return t==-1?{s:ii(e),e:ii(e)}:{s:ii(e.slice(0,t)),e:ii(e.slice(t+1))}}function Vn(e,t){return typeof t>"u"||typeof t=="number"?Vn(e.s,e.e):(typeof e!="string"&&(e=Kt(e)),typeof t!="string"&&(t=Kt(t)),e==t?e:e+":"+t)}function dn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,s=e.length;for(n=0;i<s&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.s.c=--n,n=0;i<s&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(t.s.r=--n,i===s||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,n=0;i!=s&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.e.c=--n,n=0;i!=s&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return t.e.r=--n,t}function QF(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ul(e.z,n?er(t):t)}catch{}try{return e.w=ul((e.XF||{}).numFmtId||(n?14:0),n?er(t):t)}catch{return""+t}}function na(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?xp[e.v]||e.v:t==null?QF(e,e.v):QF(e,t))}function Bc(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",i={};return i[n]=e,{SheetNames:[n],Sheets:i}}function xO(e,t,n){var i=n||{},r=e?Array.isArray(e):i.dense,s=e||(r?[]:{}),o=0,a=0;if(s&&i.origin!=null){if(typeof i.origin=="number")o=i.origin;else{var l=typeof i.origin=="string"?ii(i.origin):i.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=dn(s["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var v={v:t[p][g]},C=o+p,w=a+g;if(u.s.r>C&&(u.s.r=C),u.s.c>w&&(u.s.c=w),u.e.r<C&&(u.e.r=C),u.e.c<w&&(u.e.c=w),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))v=t[p][g];else if(Array.isArray(v.v)&&(v.f=t[p][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(i.nullError)v.t="e",v.v=0;else if(i.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=i.dateNF||Dn[14],i.cellDates?(v.t="d",v.w=ul(v.z,er(v.v))):(v.t="n",v.v=er(v.v),v.w=ul(v.z,v.v))):v.t="s";if(r)s[C]||(s[C]=[]),s[C][w]&&s[C][w].z&&(v.z=s[C][w].z),s[C][w]=v;else{var S=Kt({c:w,r:C});s[S]&&s[S].z&&(v.z=s[S].z),s[S]=v}}}return u.s.c<1e7&&(s["!ref"]=Vn(u)),s}function Nd(e,t){return xO(null,e,t)}function $J(e){return e.read_shift(4,"i")}function ys(e,t){return t||(t=Ee(4)),t.write_shift(4,e),t}function Di(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ri(e,t){var n=!1;return t==null&&(n=!0,t=Ee(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function KJ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qJ(e,t){return t||(t=Ee(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Fb(e,t){var n=e.l,i=e.read_shift(1),r=Di(e),s=[],o={t:r,h:r};if((i&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(KJ(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function XJ(e,t){var n=!1;return t==null&&(n=!0,t=Ee(15+4*e.t.length)),t.write_shift(1,0),ri(e.t,t),n?t.slice(0,t.l):t}var QJ=Fb;function ZJ(e,t){var n=!1;return t==null&&(n=!0,t=Ee(23+4*e.t.length)),t.write_shift(1,1),ri(e.t,t),t.write_shift(4,1),qJ({},t),n?t.slice(0,t.l):t}function ts(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Hc(e,t){return t==null&&(t=Ee(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Gc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Vc(e,t){return t==null&&(t=Ee(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var JJ=Di,bO=ri;function Mb(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function iv(e,t){var n=!1;return t==null&&(n=!0,t=Ee(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var eee=Di,YS=Mb,_b=iv;function EO(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,i=t[0]&2;e.l+=4;var r=i===0?nv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):jl(t,0)>>2;return n?r/100:r}function TO(e,t){t==null&&(t=Ee(4));var n=0,i=0,r=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?i=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(i=1,n=1),i)t.write_shift(-4,((n?r:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function DO(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tee(e,t){return t||(t=Ee(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var zc=DO,Bd=tee;function Hd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ec(e,t){return(t||Ee(8)).write_shift(8,e,"f")}function nee(e){var t={},n=e.read_shift(1),i=n>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,i){case 0:t.auto=1;break;case 1:t.index=r;var u=dee[r];u&&(t.rgb=lM(u));break;case 2:t.rgb=lM([o,a,l]);break;case 3:t.theme=r;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function rv(e,t){if(t||(t=Ee(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var i=e.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}return t}function iee(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function ree(e,t){t||(t=Ee(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var RO=2,fr=3,lm=11,sv=19,cm=64,see=65,oee=71,aee=4108,lee=4126,ui=80,ZF={1:{n:"CodePage",t:RO},2:{n:"Category",t:ui},3:{n:"PresentationFormat",t:ui},4:{n:"ByteCount",t:fr},5:{n:"LineCount",t:fr},6:{n:"ParagraphCount",t:fr},7:{n:"SlideCount",t:fr},8:{n:"NoteCount",t:fr},9:{n:"HiddenCount",t:fr},10:{n:"MultimediaClipCount",t:fr},11:{n:"ScaleCrop",t:lm},12:{n:"HeadingPairs",t:aee},13:{n:"TitlesOfParts",t:lee},14:{n:"Manager",t:ui},15:{n:"Company",t:ui},16:{n:"LinksUpToDate",t:lm},17:{n:"CharacterCount",t:fr},19:{n:"SharedDoc",t:lm},22:{n:"HyperlinksChanged",t:lm},23:{n:"AppVersion",t:fr,p:"version"},24:{n:"DigSig",t:see},26:{n:"ContentType",t:ui},27:{n:"ContentStatus",t:ui},28:{n:"Language",t:ui},29:{n:"Version",t:ui},255:{},2147483648:{n:"Locale",t:sv},2147483651:{n:"Behavior",t:sv},1919054434:{}},JF={1:{n:"CodePage",t:RO},2:{n:"Title",t:ui},3:{n:"Subject",t:ui},4:{n:"Author",t:ui},5:{n:"Keywords",t:ui},6:{n:"Comments",t:ui},7:{n:"Template",t:ui},8:{n:"LastAuthor",t:ui},9:{n:"RevNumber",t:ui},10:{n:"EditTime",t:cm},11:{n:"LastPrinted",t:cm},12:{n:"CreatedDate",t:cm},13:{n:"ModifiedDate",t:cm},14:{n:"PageCount",t:fr},15:{n:"WordCount",t:fr},16:{n:"CharCount",t:fr},17:{n:"Thumbnail",t:oee},18:{n:"Application",t:ui},19:{n:"DocSecurity",t:fr},255:{},2147483648:{n:"Locale",t:sv},2147483651:{n:"Behavior",t:sv},1919054434:{}};function cee(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var uee=cee([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),dee=tr(uee),xp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hee={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},um={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function FO(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MO(e,t){var n=xJ(hee),i=[],r;i[i.length]=zn,i[i.length]=He("Types",null,{xmlns:ni.CT,"xmlns:xsd":ni.xsd,"xmlns:xsi":ni.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return He("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(r=e[l][0],i[i.length]=He("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:um[l][t.bookType]||um[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){i[i.length]=He("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:um[l][t.bookType]||um[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(u){i[i.length]=He("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var At={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _O(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function id(e){var t=[zn,He("Relationships",null,{xmlns:ni.RELS})];return wi(e["!id"]).forEach(function(n){t[t.length]=He("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Yt(e,t,n,i,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=i,r.Target=n,[At.HLINK,At.XPATH,At.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}function fee(e){var t=[zn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function eM(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function pee(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function gee(e){var t=[zn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(eM(e[n][0],e[n][1])),t.push(pee("",e[n][0]));return t.push(eM("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function AO(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+X0.version+"</meta:generator></office:meta></office:document-meta>"}var uc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function by(e,t,n,i,r){r[e]!=null||t==null||t===""||(r[e]=t,t=$t(t),i[i.length]=n?He(e,t,n):hi(e,t))}function PO(e,t){var n=t||{},i=[zn,He("cp:coreProperties",null,{"xmlns:cp":ni.CORE_PROPS,"xmlns:dc":ni.dc,"xmlns:dcterms":ni.dcterms,"xmlns:dcmitype":ni.dcmitype,"xmlns:xsi":ni.xsi})],r={};if(!e&&!n.Props)return i.join("");e&&(e.CreatedDate!=null&&by("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:jS(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),e.ModifiedDate!=null&&by("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:jS(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var s=0;s!=uc.length;++s){var o=uc[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&by(o[0],a,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var rd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],kO=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function OO(e){var t=[],n=He;return e||(e={}),e.Application="SheetJS",t[t.length]=zn,t[t.length]=He("Properties",null,{xmlns:ni.EXT_PROPS,"xmlns:vt":ni.vt}),rd.forEach(function(i){if(e[i[1]]!==void 0){var r;switch(i[2]){case"string":r=$t(String(e[i[1]]));break;case"bool":r=e[i[1]]?"true":"false";break}r!==void 0&&(t[t.length]=n(i[0],r))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(i){return"<vt:lpstr>"+$t(i)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function LO(e){var t=[zn,He("Properties",null,{xmlns:ni.CUST_PROPS,"xmlns:vt":ni.vt})];if(!e)return t.join("");var n=1;return wi(e).forEach(function(r){++n,t[t.length]=He("property",kJ(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:$t(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var tM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function mee(e,t){var n=[];return wi(tM).map(function(i){for(var r=0;r<uc.length;++r)if(uc[r][1]==i)return uc[r];for(r=0;r<rd.length;++r)if(rd[r][1]==i)return rd[r];throw i}).forEach(function(i){if(e[i[1]]!=null){var r=t&&t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:e[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(hi(tM[i[1]]||i[1],r))}}),He("DocumentProperties",n.join(""),{xmlns:vr.o})}function vee(e,t){var n=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return e&&wi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<uc.length;++o)if(s==uc[o][1])return;for(o=0;o<rd.length;++o)if(s==rd[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),r.push(He(zF(s),a,{"dt:dt":l}))}}),t&&wi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),r.push(He(zF(s),o,{"dt:dt":a}))}}),"<"+i+' xmlns="'+vr.o+'">'+r.join("")+"</"+i+">"}function Cee(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,i=n%Math.pow(2,32),r=(n-i)/Math.pow(2,32);i*=1e7,r*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),r+=s);var o=Ee(8);return o.write_shift(4,i),o.write_shift(4,r),o}function nM(e,t){var n=Ee(4),i=Ee(4);switch(n.write_shift(4,e==80?31:e),e){case 3:i.write_shift(-4,t);break;case 5:i=Ee(8),i.write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=Cee(t);break;case 31:case 80:for(i=Ee(4+2*(t.length+1)+(t.length%2?0:2)),i.write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return di([n,i])}var IO=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function wee(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function iM(e,t,n){var i=Ee(8),r=[],s=[],o=8,a=0,l=Ee(8),u=Ee(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),r.push(u),o+=8+l.length,!t){u=Ee(8),u.write_shift(4,0),r.unshift(u);var h=[Ee(4)];for(h[0].write_shift(4,e.length),a=0;a<e.length;++a){var p=e[a][0];for(l=Ee(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=di(h),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(IO.indexOf(e[a][0])>-1||kO.indexOf(e[a][0])>-1)&&e[a][1]!=null){var g=e[a][1],v=0;if(t){v=+t[e[a][0]];var C=n[v];if(C.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}l=nM(C.t,g)}else{var S=wee(g);S==-1&&(S=31,g=String(g)),l=nM(S,g)}s.push(l),u=Ee(8),u.write_shift(4,t?v:2+a),r.push(u),o+=8+l.length}var x=8*(s.length+1);for(a=0;a<s.length;++a)r[a].write_shift(4,x),x+=s[a].length;return i.write_shift(4,o),i.write_shift(4,s.length),di([i].concat(r).concat(s))}function rM(e,t,n,i,r,s){var o=Ee(r?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,tn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,r?68:48);var l=iM(e,n,i);if(a.push(l),r){var u=iM(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(u)}return di(a)}function yee(e,t){t||(t=Ee(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function See(e,t){return e.read_shift(t)===1}function ki(e,t){return t||(t=Ee(2)),t.write_shift(2,+!!e),t}function NO(e){return e.read_shift(2,"u")}function Vr(e,t){return t||(t=Ee(2)),t.write_shift(2,e),t}function BO(e,t,n){return n||(n=Ee(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function HO(e,t,n){var i=e.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var o=i?e.read_shift(i,r):"";return o}function xee(e){var t=e.t||"",n=Ee(3);n.write_shift(2,t.length),n.write_shift(1,1);var i=Ee(2*t.length);i.write_shift(2*t.length,t,"utf16le");var r=[n,i];return di(r)}function bee(e,t,n){var i;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return r===0?i=e.read_shift(t,"sbcs-cont"):i=e.read_shift(t,"dbcs-cont"),i}function Eee(e,t,n){var i=e.read_shift(n&&n.biff==2?1:2);return i===0?(e.l++,""):bee(e,i,n)}function Tee(e,t,n){if(n.biff>5)return Eee(e,t,n);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function GO(e,t,n){return n||(n=Ee(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function sM(e,t){t||(t=Ee(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Dee(e){var t=Ee(512),n=0,i=e.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),s=r>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(s==28)i=i.slice(1),sM(i,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var a=r>-1?i.slice(0,r):i;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),s&8&&sM(r>-1?i.slice(r+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,i.length-3*l+1),n=0;n<i.length-3*l;++n)t.write_shift(1,i.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Tc(e,t,n,i){return i||(i=Ee(6)),i.write_shift(2,e),i.write_shift(2,t),i.write_shift(2,n||0),i}function Ree(e,t,n){var i=n.biff>8?4:2,r=e.read_shift(i),s=e.read_shift(i,"i"),o=e.read_shift(i,"i");return[r,s,o]}function Fee(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2);return{s:{c:i,r:t},e:{c:r,r:n}}}function VO(e,t){return t||(t=Ee(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ab(e,t,n){var i=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ee(r);return s.write_shift(2,i),s.write_shift(2,t),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Mee(e,t){var n=!t||t.biff==8,i=Ee(n?112:54);for(i.write_shift(t.biff==8?2:1,7),n&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(n?0:536870912));i.l<i.length;)i.write_shift(1,n?0:32);return i}function _ee(e,t){var n=!t||t.biff>=8?2:1,i=Ee(8+n*e.name.length);i.write_shift(4,e.pos),i.write_shift(1,e.hs||0),i.write_shift(1,e.dt),i.write_shift(1,e.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function Aee(e,t){var n=Ee(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var i=[],r=0;r<e.length;++r)i[r]=xee(e[r]);var s=di([n].concat(i));return s.parts=[n.length].concat(i.map(function(o){return o.length})),s}function Pee(){var e=Ee(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function kee(e){var t=Ee(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Oee(e,t){var n=e.name||"Arial",i=t&&t.biff==5,r=i?15+n.length:16+2*n.length,s=Ee(r);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le"),s}function Lee(e,t,n,i){var r=Ee(10);return Tc(e,t,i,r),r.write_shift(4,n),r}function Iee(e,t,n,i,r){var s=!r||r.biff==8,o=Ee(8+ +s+(1+s)*n.length);return Tc(e,t,i,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function Nee(e,t,n,i){var r=n&&n.biff==5;i||(i=Ee(r?3+t.length:5+2*t.length)),i.write_shift(2,e),i.write_shift(r?1:2,t.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}function Bee(e,t){var n=t.biff==8||!t.biff?4:2,i=Ee(2*n+6);return i.write_shift(n,e.s.r),i.write_shift(n,e.e.r+1),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c+1),i.write_shift(2,0),i}function oM(e,t,n,i){var r=n&&n.biff==5;i||(i=Ee(r?16:20)),i.write_shift(2,0),e.style?(i.write_shift(2,e.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,e.numFmtId||0),i.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function Hee(e){var t=Ee(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Gee(e,t,n,i,r,s){var o=Ee(8);return Tc(e,t,i,o),BO(n,s,o),o}function Vee(e,t,n,i){var r=Ee(14);return Tc(e,t,i,r),Ec(n,r),r}function zee(e,t,n){if(n.biff<8)return Wee(e,t,n);for(var i=[],r=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)i.push(Ree(e,n.biff>8?12:6,n));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return i}function Wee(e,t,n){e[e.l+1]==3&&e[e.l]++;var i=HO(e,t,n);return i.charCodeAt(0)==3?i.slice(1):i}function Uee(e){var t=Ee(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)VO(e[n],t);return t}function jee(e){var t=Ee(24),n=ii(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(i[r],16));return di([t,Dee(e[1])])}function Yee(e){var t=e[1].Tooltip,n=Ee(10+2*(t.length+1));n.write_shift(2,2048);var i=ii(e[0]);n.write_shift(2,i.r),n.write_shift(2,i.r),n.write_shift(2,i.c),n.write_shift(2,i.c);for(var r=0;r<t.length;++r)n.write_shift(2,t.charCodeAt(r));return n.write_shift(2,0),n}function $ee(e){return e||(e=Ee(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Kee(e,t,n){if(!n.cellStyles)return lo(e,t);var i=n&&n.biff>=12?4:2,r=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(i),l=e.read_shift(2);i==2&&(e.l+=2);var u={s:r,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function qee(e,t){var n=Ee(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var i=0;return e.hidden&&(i|=1),n.write_shift(1,i),i=e.level||0,n.write_shift(1,i),n.write_shift(2,0),n}function Xee(e){for(var t=Ee(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function Qee(e,t,n){var i=Ee(15);return Ep(i,e,t),i.write_shift(8,n,"f"),i}function Zee(e,t,n){var i=Ee(9);return Ep(i,e,t),i.write_shift(2,n),i}var Jee=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var u=[],h=bc(1);switch(l.type){case"base64":h=ps(ta(a));break;case"binary":h=ps(a);break;case"buffer":case"array":h=a;break}pr(h,0);var p=h.read_shift(1),g=!!(p&136),v=!1,C=!1;switch(p){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,S=521;p==2&&(w=h.read_shift(2)),h.l+=3,p!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(S=h.read_shift(2));var x=h.read_shift(2),E=l.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),C&&(h.l+=36);for(var T=[],R={},F=Math.min(h.length,p==2?521:S-10-(v?264:0)),P=C?32:11;h.l<F&&h[h.l]!=13;)switch(R={},R.name=Q0.utils.decode(E,h.slice(h.l,h.l+P)).replace(/[\u0000\r\n].*$/g,""),h.l+=P,R.type=String.fromCharCode(h.read_shift(1)),p!=2&&!C&&(R.offset=h.read_shift(4)),R.len=h.read_shift(1),p==2&&(R.offset=h.read_shift(2)),R.dec=h.read_shift(1),R.name.length&&T.push(R),p!=2&&(h.l+=C?13:14),R.type){case"B":(!v||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(h[h.l]!==13&&(h.l=S-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=S;var _=0,L=0;for(u[0]=[],L=0;L!=T.length;++L)u[0][L]=T[L].name;for(;w-- >0;){if(h[h.l]===42){h.l+=x;continue}for(++h.l,u[++_]=[],L=0,L=0;L!=T.length;++L){var A=h.slice(h.l,h.l+T[L].len);h.l+=T[L].len,pr(A,0);var O=Q0.utils.decode(E,A);switch(T[L].type){case"C":O.trim().length&&(u[_][L]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[_][L]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[_][L]=O;break;case"F":u[_][L]=parseFloat(O.trim());break;case"+":case"I":u[_][L]=C?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[_][L]=!0;break;case"N":case"F":u[_][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[_][L]="##MEMO##"+(C?parseInt(O.trim(),10):A.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[_][L]=+O||0);break;case"@":u[_][L]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[_][L]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[_][L]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[_][L]=-A.read_shift(-8,"f");break;case"B":if(v&&T[L].len==8){u[_][L]=A.read_shift(8,"f");break}case"G":case"P":A.l+=T[L].len;break;case"0":if(T[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[L].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=T,u}function i(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Nd(n(a,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function r(a,l){try{return Bc(i(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&Uf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=qi(),p=uv(a,{header:1,raw:!0,cellDates:!0}),g=p[0],v=p.slice(1),C=a["!cols"]||[],w=0,S=0,x=0,E=1;for(w=0;w<g.length;++w){if(((C[w]||{}).DBF||{}).name){g[w]=C[w].DBF.name,++x;continue}if(g[w]!=null){if(++x,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(S=0;S<1024;++S)if(g.indexOf(g[w]+"_"+S)==-1){g[w]+="_"+S;break}}}}var T=dn(a["!ref"]),R=[],F=[],P=[];for(w=0;w<=T.e.c-T.s.c;++w){var _="",L="",A=0,O=[];for(S=0;S<v.length;++S)v[S][w]!=null&&O.push(v[S][w]);if(O.length==0||g[w]==null){R[w]="?";continue}for(S=0;S<O.length;++S){switch(typeof O[S]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=O[S]instanceof Date?"D":"C";break;default:L="C"}A=Math.max(A,String(O[S]).length),_=_&&_!=L?"C":L}A>250&&(A=250),L=((C[w]||{}).DBF||{}).type,L=="C"&&C[w].DBF.len>A&&(A=C[w].DBF.len),_=="B"&&L=="N"&&(_="N",P[w]=C[w].DBF.dec,A=C[w].DBF.len),F[w]=_=="C"||L=="N"?A:s[_]||0,E+=F[w],R[w]=_}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,v.length),I.write_shift(2,296+32*x),I.write_shift(2,E),w=0;w<4;++w)I.write_shift(4,0);for(I.write_shift(4,0|(+t[W3]||3)<<8),w=0,S=0;w<g.length;++w)if(g[w]!=null){var z=h.next(32),J=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,J,"sbcs"),z.write_shift(1,R[w]=="?"?"C":R[w],"sbcs"),z.write_shift(4,S),z.write_shift(1,F[w]||s[R[w]]||0),z.write_shift(1,P[w]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),S+=F[w]||s[R[w]]||0}var ae=h.next(264);for(ae.write_shift(4,13),w=0;w<65;++w)ae.write_shift(4,0);for(w=0;w<v.length;++w){var ie=h.next(E);for(ie.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(R[S]){case"L":ie.write_shift(1,v[w][S]==null?63:v[w][S]?84:70);break;case"B":ie.write_shift(8,v[w][S]||0,"f");break;case"N":var j="0";for(typeof v[w][S]=="number"&&(j=v[w][S].toFixed(P[S]||0)),x=0;x<F[S]-j.length;++x)ie.write_shift(1,32);ie.write_shift(1,j,"sbcs");break;case"D":v[w][S]?(ie.write_shift(4,("0000"+v[w][S].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(v[w][S].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+v[w][S].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var W=String(v[w][S]!=null?v[w][S]:"").slice(0,F[S]);for(ie.write_shift(1,W,"sbcs"),x=0;x<F[S]-W.length;++x)ie.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:r,to_sheet:i,from_sheet:o}}(),ete=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+wi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,v){var C=e[v];return typeof C=="number"?_F(C):C},i=function(g,v,C){var w=v.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return w==59?g:_F(w)};e["|"]=254;function r(g,v){switch(v.type){case"base64":return s(ta(g),v);case"binary":return s(g,v);case"buffer":return s(kt&&Buffer.isBuffer(g)?g.toString("binary"):wp(g),v);case"array":return s(oC(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var C=g.split(/[\n\r]+/),w=-1,S=-1,x=0,E=0,T=[],R=[],F=null,P={},_=[],L=[],A=[],O=0,I;for(+v.codepage>=0&&Uf(+v.codepage);x!==C.length;++x){O=0;var z=C[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,n),J=z.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),ae=J[0],ie;if(z.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&R.push(z.slice(3).replace(/;;/g,";"));break;case"C":var j=!1,W=!1,Q=!1,ce=!1,H=-1,le=-1;for(E=1;E<J.length;++E)switch(J[E].charAt(0)){case"A":break;case"X":S=parseInt(J[E].slice(1))-1,W=!0;break;case"Y":for(w=parseInt(J[E].slice(1))-1,W||(S=0),I=T.length;I<=w;++I)T[I]=[];break;case"K":ie=J[E].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(Wo(ie))?isNaN(Yf(ie).getDate())||(ie=Bi(ie)):(ie=Wo(ie),F!==null&&tO(F)&&(ie=sO(ie))),j=!0;break;case"E":ce=!0;var B=Zte(J[E].slice(1),{r:w,c:S});T[w][S]=[T[w][S],B];break;case"S":Q=!0,T[w][S]=[T[w][S],"S5S"];break;case"G":break;case"R":H=parseInt(J[E].slice(1))-1;break;case"C":le=parseInt(J[E].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}if(j&&(T[w][S]&&T[w][S].length==2?T[w][S][0]=ie:T[w][S]=ie,F=null),Q){if(ce)throw new Error("SYLK shared formula cannot have own formula");var Y=H>-1&&T[H][le];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");T[w][S][1]=Jte(Y[1],{r:w-H,c:S-le})}break;case"F":var K=0;for(E=1;E<J.length;++E)switch(J[E].charAt(0)){case"X":S=parseInt(J[E].slice(1))-1,++K;break;case"Y":for(w=parseInt(J[E].slice(1))-1,I=T.length;I<=w;++I)T[I]=[];break;case"M":O=parseInt(J[E].slice(1))/20;break;case"F":break;case"G":break;case"P":F=R[parseInt(J[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=J[E].slice(1).split(" "),I=parseInt(A[0],10);I<=parseInt(A[1],10);++I)O=parseInt(A[2],10),L[I-1]=O===0?{hidden:!0}:{wch:O},Pb(L[I-1]);break;case"C":S=parseInt(J[E].slice(1))-1,L[S]||(L[S]={});break;case"R":w=parseInt(J[E].slice(1))-1,_[w]||(_[w]={}),O>0?(_[w].hpt=O,_[w].hpx=YO(O)):O===0&&(_[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}K<1&&(F=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}}return _.length>0&&(P["!rows"]=_),L.length>0&&(P["!cols"]=L),v&&v.sheetRows&&(T=T.slice(0,v.sheetRows)),[T,P]}function o(g,v){var C=r(g,v),w=C[0],S=C[1],x=Nd(w,v);return wi(S).forEach(function(E){x[E]=S[E]}),x}function a(g,v){return Bc(o(g,v),v)}function l(g,v,C,w){var S="C;Y"+(C+1)+";X"+(w+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+Ob(g.f,{r:C,c:w}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(g,v){v.forEach(function(C,w){var S="F;W"+(w+1)+" "+(w+1)+" ";C.hidden?S+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=ov(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=av(C.wpx)),typeof C.wch=="number"&&(S+=Math.round(C.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function h(g,v){v.forEach(function(C,w){var S="F;";C.hidden?S+="M0;":C.hpt?S+="M"+20*C.hpt+";":C.hpx&&(S+="M"+20*lv(C.hpx)+";"),S.length>2&&g.push(S+"R"+(w+1))})}function p(g,v){var C=["ID;PWXL;N;E"],w=[],S=dn(g["!ref"]),x,E=Array.isArray(g),T=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),g["!cols"]&&u(C,g["!cols"]),g["!rows"]&&h(C,g["!rows"]),C.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var R=S.s.r;R<=S.e.r;++R)for(var F=S.s.c;F<=S.e.c;++F){var P=Kt({r:R,c:F});x=E?(g[R]||[])[F]:g[P],!(!x||x.v==null&&(!x.f||x.F))&&w.push(l(x,g,R,F))}return C.join(T)+T+w.join(T)+T+"E"+T}return{to_workbook:a,to_sheet:o,from_sheet:p}}(),tte=function(){function e(s,o){switch(o.type){case"base64":return t(ta(s),o);case"binary":return t(s,o);case"buffer":return t(kt&&Buffer.isBuffer(s)?s.toString("binary"):wp(s),o);case"array":return t(oC(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var a=s.split(`
`),l=-1,u=-1,h=0,p=[];h!==a.length;++h){if(a[h].trim()==="BOT"){p[++l]=[],u=0;continue}if(!(l<0)){var g=a[h].trim().split(","),v=g[0],C=g[1];++h;for(var w=a[h]||"";(w.match(/["]/g)||[]).length&1&&h<a.length-1;)w+=`
`+a[++h];switch(w=w.trim(),+v){case-1:if(w==="BOT"){p[++l]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[l][u]=!0:w==="FALSE"?p[l][u]=!1:isNaN(Wo(C))?isNaN(Yf(C).getDate())?p[l][u]=C:p[l][u]=Bi(C):p[l][u]=Wo(C),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[l][u++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function n(s,o){return Nd(e(s,o),o)}function i(s,o){return Bc(n(s,o),o)}var r=function(){var s=function(l,u,h,p,g){l.push(u),l.push(h+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},o=function(l,u,h,p){l.push(u+","+h),l.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var u=[],h=dn(l["!ref"]),p,g=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,h.e.r-h.s.r+1,""),s(u,"TUPLES",0,h.e.c-h.s.c+1,""),s(u,"DATA",0,0,"");for(var v=h.s.r;v<=h.e.r;++v){o(u,-1,0,"BOT");for(var C=h.s.c;C<=h.e.c;++C){var w=Kt({r:v,c:C});if(p=g?(l[v]||[])[C]:l[w],!p){o(u,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,S,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=ul(p.z||Dn[14],er(Bi(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var x=`\r
`,E=u.join(x);return E}}();return{to_workbook:i,to_sheet:n,from_sheet:r}}(),zO=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,g){for(var v=p.split(`
`),C=-1,w=-1,S=0,x=[];S!==v.length;++S){var E=v[S].trim().split(":");if(E[0]==="cell"){var T=ii(E[1]);if(x.length<=T.r)for(C=x.length;C<=T.r;++C)x[C]||(x[C]=[]);switch(C=T.r,w=T.c,E[2]){case"t":x[C][w]=e(E[3]);break;case"v":x[C][w]=+E[3];break;case"vtf":var R=E[E.length-1];case"vtc":switch(E[3]){case"nl":x[C][w]=!!+E[4];break;default:x[C][w]=+E[4];break}E[2]=="vtf"&&(x[C][w]=[x[C][w],R])}}}return g&&g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}function i(p,g){return Nd(n(p,g),g)}function r(p,g){return Bc(i(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],v=[],C,w="",S=Er(p["!ref"]),x=Array.isArray(p),E=S.s.r;E<=S.e.r;++E)for(var T=S.s.c;T<=S.e.c;++T)if(w=Kt({r:E,c:T}),C=x?(p[E]||[])[T]:p[w],!(!C||C.v==null||C.t==="z")){switch(v=["cell",w,"t"],C.t){case"s":case"str":v.push(t(C.v));break;case"n":C.f?(v[2]="vtf",v[3]="n",v[4]=C.v,v[5]=t(C.f)):(v[2]="v",v[3]=C.v);break;case"b":v[2]="vt"+(C.f?"f":"c"),v[3]="nl",v[4]=C.v?"1":"0",v[5]=t(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var R=er(Bi(C.v));v[2]="vtc",v[3]="nd",v[4]=""+R,v[5]=C.w||ul(C.z||Dn[14],R);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[s,o,a,o,u(p),l].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:h}}(),nte=function(){function e(h,p,g,v,C){C.raw?p[g][v]=h:h===""||(h==="TRUE"?p[g][v]=!0:h==="FALSE"?p[g][v]=!1:isNaN(Wo(h))?isNaN(Yf(h).getDate())?p[g][v]=h:p[g][v]=Bi(h):p[g][v]=Wo(h))}function t(h,p){var g=p||{},v=[];if(!h||h.length===0)return v;for(var C=h.split(/[\r\n]/),w=C.length-1;w>=0&&C[w].length===0;)--w;for(var S=10,x=0,E=0;E<=w;++E)x=C[E].indexOf(" "),x==-1?x=C[E].length:x++,S=Math.max(S,x);for(E=0;E<=w;++E){v[E]=[];var T=0;for(e(C[E].slice(0,S).trim(),v,E,T,g),T=1;T<=(C[E].length-S)/10+1;++T)e(C[E].slice(S+(T-1)*10,S+T*10).trim(),v,E,T,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var n={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(h){for(var p={},g=!1,v=0,C=0;v<h.length;++v)(C=h.charCodeAt(v))==34?g=!g:!g&&C in n&&(p[C]=(p[C]||0)+1);C=[];for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&C.push([p[v],v]);if(!C.length){p=i;for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&C.push([p[v],v])}return C.sort(function(w,S){return w[0]-S[0]||i[w[1]]-i[S[1]]}),n[C.pop()[1]]||44}function s(h,p){var g=p||{},v="",C=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(v=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(v=h.charAt(4),h=h.slice(6)):v=r(h.slice(0,1024)):g&&g.FS?v=g.FS:v=r(h.slice(0,1024));var S=0,x=0,E=0,T=0,R=0,F=v.charCodeAt(0),P=!1,_=0,L=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var A=g.dateNF!=null?CJ(g.dateNF):null;function O(){var I=h.slice(T,R),z={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)z.t="z";else if(g.raw)z.t="s",z.v=I;else if(I.trim().length===0)z.t="s",z.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(z.t="s",z.v=I.slice(2,-1).replace(/""/g,'"')):ene(I)?(z.t="n",z.f=I.slice(1)):(z.t="s",z.v=I);else if(I=="TRUE")z.t="b",z.v=!0;else if(I=="FALSE")z.t="b",z.v=!1;else if(!isNaN(E=Wo(I)))z.t="n",g.cellText!==!1&&(z.w=I),z.v=E;else if(!isNaN(Yf(I).getDate())||A&&I.match(A)){z.z=g.dateNF||Dn[14];var J=0;A&&I.match(A)&&(I=wJ(I,g.dateNF,I.match(A)||[]),J=1),g.cellDates?(z.t="d",z.v=Bi(I,J)):(z.t="n",z.v=er(Bi(I,J))),g.cellText!==!1&&(z.w=ul(z.z,z.v instanceof Date?er(z.v):z.v)),g.cellNF||delete z.z}else z.t="s",z.v=I;if(z.t=="z"||(g.dense?(C[S]||(C[S]=[]),C[S][x]=z):C[Kt({c:x,r:S})]=z),T=R+1,L=h.charCodeAt(T),w.e.c<x&&(w.e.c=x),w.e.r<S&&(w.e.r=S),_==F)++x;else if(x=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;R<h.length;++R)switch(_=h.charCodeAt(R)){case 34:L===34&&(P=!P);break;case F:case 10:case 13:if(!P&&O())break e;break}return R-T>0&&O(),C["!ref"]=Vn(w),C}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,p):Nd(t(h,p),p)}function a(h,p){var g="",v=p.type=="string"?[0,0,0,0]:poe(h,p);switch(p.type){case"base64":g=ta(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof Q0<"u"||(g=kt&&Buffer.isBuffer(h)?h.toString("binary"):wp(h));break;case"array":g=oC(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=wf(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=wf(g):p.type=="binary"&&typeof Q0<"u",g.slice(0,19)=="socialcalc:version:"?zO.to_sheet(p.type=="string"?g:wf(g),p):o(g,p)}function l(h,p){return Bc(a(h,p),p)}function u(h){for(var p=[],g=dn(h["!ref"]),v,C=Array.isArray(h),w=g.s.r;w<=g.e.r;++w){for(var S=[],x=g.s.c;x<=g.e.c;++x){var E=Kt({r:w,c:x});if(v=C?(h[w]||[])[x]:h[E],!v||v.v==null){S.push("          ");continue}for(var T=(v.w||(na(v),v.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(x===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),aM=function(){function e(B,Y,K){if(B){pr(B,B.l||0);for(var ee=K.Enum||H;B.l<B.length;){var de=B.read_shift(2),Ie=ee[de]||ee[65535],Oe=B.read_shift(2),_e=B.l+Oe,Pe=Ie.f&&Ie.f(B,Oe,K);if(B.l=_e,Y(Pe,Ie,de))return}}}function t(B,Y){switch(Y.type){case"base64":return n(ps(ta(B)),Y);case"binary":return n(ps(B),Y);case"buffer":case"array":return n(B,Y)}throw"Unsupported type "+Y.type}function n(B,Y){if(!B)return B;var K=Y||{},ee=K.dense?[]:{},de="Sheet1",Ie="",Oe=0,_e={},Pe=[],it=[],et={s:{r:0,c:0},e:{r:0,c:0}},Lt=K.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)K.Enum=H,e(B,function(ke,tt,vt){switch(vt){case 0:K.vers=ke,ke>=4096&&(K.qpro=!0);break;case 6:et=ke;break;case 204:ke&&(Ie=ke);break;case 222:Ie=ke;break;case 15:case 51:K.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:vt==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=K.dateNF||Dn[14],K.cellDates&&(ke[1].t="d",ke[1].v=sO(ke[1].v))),K.qpro&&ke[3]>Oe&&(ee["!ref"]=Vn(et),_e[de]=ee,Pe.push(de),ee=K.dense?[]:{},et={s:{r:0,c:0},e:{r:0,c:0}},Oe=ke[3],de=Ie||"Sheet"+(Oe+1),Ie="");var Ft=K.dense?(ee[ke[0].r]||[])[ke[0].c]:ee[Kt(ke[0])];if(Ft){Ft.t=ke[1].t,Ft.v=ke[1].v,ke[1].z!=null&&(Ft.z=ke[1].z),ke[1].f!=null&&(Ft.f=ke[1].f);break}K.dense?(ee[ke[0].r]||(ee[ke[0].r]=[]),ee[ke[0].r][ke[0].c]=ke[1]):ee[Kt(ke[0])]=ke[1];break}},K);else if(B[2]==26||B[2]==14)K.Enum=le,B[2]==14&&(K.qpro=!0,B.l=0),e(B,function(ke,tt,vt){switch(vt){case 204:de=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>Oe&&(ee["!ref"]=Vn(et),_e[de]=ee,Pe.push(de),ee=K.dense?[]:{},et={s:{r:0,c:0},e:{r:0,c:0}},Oe=ke[3],de="Sheet"+(Oe+1)),Lt>0&&ke[0].r>=Lt)break;K.dense?(ee[ke[0].r]||(ee[ke[0].r]=[]),ee[ke[0].r][ke[0].c]=ke[1]):ee[Kt(ke[0])]=ke[1],et.e.c<ke[0].c&&(et.e.c=ke[0].c),et.e.r<ke[0].r&&(et.e.r=ke[0].r);break;case 27:ke[14e3]&&(it[ke[14e3][0]]=ke[14e3][1]);break;case 1537:it[ke[0]]=ke[1],ke[0]==Oe&&(de=ke[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(ee["!ref"]=Vn(et),_e[Ie||de]=ee,Pe.push(Ie||de),!it.length)return{SheetNames:Pe,Sheets:_e};for(var We={},dt=[],st=0;st<it.length;++st)_e[Pe[st]]?(dt.push(it[st]||Pe[st]),We[it[st]]=_e[it[st]]||_e[Pe[st]]):(dt.push(it[st]),We[it[st]]={"!ref":"A1"});return{SheetNames:dt,Sheets:We}}function i(B,Y){var K=Y||{};if(+K.codepage>=0&&Uf(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=qi(),de=dn(B["!ref"]),Ie=Array.isArray(B),Oe=[];Ve(ee,0,s(1030)),Ve(ee,6,l(de));for(var _e=Math.min(de.e.r,8191),Pe=de.s.r;Pe<=_e;++Pe)for(var it=Ci(Pe),et=de.s.c;et<=de.e.c;++et){Pe===de.s.r&&(Oe[et]=Ti(et));var Lt=Oe[et]+it,We=Ie?(B[Pe]||[])[et]:B[Lt];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?Ve(ee,13,v(Pe,et,We.v)):Ve(ee,14,w(Pe,et,We.v));else{var dt=na(We);Ve(ee,15,p(Pe,et,dt.slice(0,239)))}}return Ve(ee,1),ee.end()}function r(B,Y){var K=Y||{};if(+K.codepage>=0&&Uf(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=qi();Ve(ee,0,o(B));for(var de=0,Ie=0;de<B.SheetNames.length;++de)(B.Sheets[B.SheetNames[de]]||{})["!ref"]&&Ve(ee,27,ce(B.SheetNames[de],Ie++));var Oe=0;for(de=0;de<B.SheetNames.length;++de){var _e=B.Sheets[B.SheetNames[de]];if(!(!_e||!_e["!ref"])){for(var Pe=dn(_e["!ref"]),it=Array.isArray(_e),et=[],Lt=Math.min(Pe.e.r,8191),We=Pe.s.r;We<=Lt;++We)for(var dt=Ci(We),st=Pe.s.c;st<=Pe.e.c;++st){We===Pe.s.r&&(et[st]=Ti(st));var ke=et[st]+dt,tt=it?(_e[We]||[])[st]:_e[ke];if(!(!tt||tt.t=="z"))if(tt.t=="n")Ve(ee,23,O(We,st,Oe,tt.v));else{var vt=na(tt);Ve(ee,22,_(We,st,Oe,vt.slice(0,239)))}}++Oe}}return Ve(ee,1),ee.end()}function s(B){var Y=Ee(2);return Y.write_shift(2,B),Y}function o(B){var Y=Ee(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var K=0,ee=0,de=0,Ie=0;Ie<B.SheetNames.length;++Ie){var Oe=B.SheetNames[Ie],_e=B.Sheets[Oe];if(!(!_e||!_e["!ref"])){++de;var Pe=Er(_e["!ref"]);K<Pe.e.r&&(K=Pe.e.r),ee<Pe.e.c&&(ee=Pe.e.c)}}return K>8191&&(K=8191),Y.write_shift(2,K),Y.write_shift(1,de),Y.write_shift(1,ee),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function a(B,Y,K){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&K.qpro?(ee.s.c=B.read_shift(1),B.l++,ee.s.r=B.read_shift(2),ee.e.c=B.read_shift(1),B.l++,ee.e.r=B.read_shift(2),ee):(ee.s.c=B.read_shift(2),ee.s.r=B.read_shift(2),Y==12&&K.qpro&&(B.l+=2),ee.e.c=B.read_shift(2),ee.e.r=B.read_shift(2),Y==12&&K.qpro&&(B.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function l(B){var Y=Ee(8);return Y.write_shift(2,B.s.c),Y.write_shift(2,B.s.r),Y.write_shift(2,B.e.c),Y.write_shift(2,B.e.r),Y}function u(B,Y,K){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(ee[0].c=B.read_shift(1),ee[3]=B.read_shift(1),ee[0].r=B.read_shift(2),B.l+=2):(ee[2]=B.read_shift(1),ee[0].c=B.read_shift(2),ee[0].r=B.read_shift(2)),ee}function h(B,Y,K){var ee=B.l+Y,de=u(B,Y,K);if(de[1].t="s",K.vers==20768){B.l++;var Ie=B.read_shift(1);return de[1].v=B.read_shift(Ie,"utf8"),de}return K.qpro&&B.l++,de[1].v=B.read_shift(ee-B.l,"cstr"),de}function p(B,Y,K){var ee=Ee(7+K.length);ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,B),ee.write_shift(1,39);for(var de=0;de<ee.length;++de){var Ie=K.charCodeAt(de);ee.write_shift(1,Ie>=128?95:Ie)}return ee.write_shift(1,0),ee}function g(B,Y,K){var ee=u(B,Y,K);return ee[1].v=B.read_shift(2,"i"),ee}function v(B,Y,K){var ee=Ee(7);return ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,B),ee.write_shift(2,K,"i"),ee}function C(B,Y,K){var ee=u(B,Y,K);return ee[1].v=B.read_shift(8,"f"),ee}function w(B,Y,K){var ee=Ee(13);return ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,B),ee.write_shift(8,K,"f"),ee}function S(B,Y,K){var ee=B.l+Y,de=u(B,Y,K);if(de[1].v=B.read_shift(8,"f"),K.qpro)B.l=ee;else{var Ie=B.read_shift(2);R(B.slice(B.l,B.l+Ie),de),B.l+=Ie}return de}function x(B,Y,K){var ee=Y&32768;return Y&=-32769,Y=(ee?B:0)+(Y>=8192?Y-16384:Y),(ee?"":"$")+(K?Ti(Y):Ci(Y))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(B,Y){pr(B,0);for(var K=[],ee=0,de="",Ie="",Oe="",_e="";B.l<B.length;){var Pe=B[B.l++];switch(Pe){case 0:K.push(B.read_shift(8,"f"));break;case 1:Ie=x(Y[0].c,B.read_shift(2),!0),de=x(Y[0].r,B.read_shift(2),!1),K.push(Ie+de);break;case 2:{var it=x(Y[0].c,B.read_shift(2),!0),et=x(Y[0].r,B.read_shift(2),!1);Ie=x(Y[0].c,B.read_shift(2),!0),de=x(Y[0].r,B.read_shift(2),!1),K.push(it+et+":"+Ie+de)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(B.read_shift(2));break;case 6:{for(var Lt="";Pe=B[B.l++];)Lt+=String.fromCharCode(Pe);K.push('"'+Lt.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:_e=K.pop(),Oe=K.pop(),K.push(["AND","OR"][Pe-20]+"("+Oe+","+_e+")");break;default:if(Pe<32&&T[Pe])_e=K.pop(),Oe=K.pop(),K.push(Oe+T[Pe]+_e);else if(E[Pe]){if(ee=E[Pe][1],ee==69&&(ee=B[B.l++]),ee>K.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+K.join("|")+"|");return}var We=K.slice(-ee);K.length-=ee,K.push(E[Pe][0]+"("+We.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}K.length==1?Y[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function F(B){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=B.read_shift(2),Y[3]=B[B.l++],Y[0].c=B[B.l++],Y}function P(B,Y){var K=F(B);return K[1].t="s",K[1].v=B.read_shift(Y-4,"cstr"),K}function _(B,Y,K,ee){var de=Ee(6+ee.length);de.write_shift(2,B),de.write_shift(1,K),de.write_shift(1,Y),de.write_shift(1,39);for(var Ie=0;Ie<ee.length;++Ie){var Oe=ee.charCodeAt(Ie);de.write_shift(1,Oe>=128?95:Oe)}return de.write_shift(1,0),de}function L(B,Y){var K=F(B);K[1].v=B.read_shift(2);var ee=K[1].v>>1;if(K[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return K[1].v=ee,K}function A(B,Y){var K=F(B),ee=B.read_shift(4),de=B.read_shift(4),Ie=B.read_shift(2);if(Ie==65535)return ee===0&&de===3221225472?(K[1].t="e",K[1].v=15):ee===0&&de===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Oe=Ie&32768;return Ie=(Ie&32767)-16446,K[1].v=(1-Oe*2)*(de*Math.pow(2,Ie+32)+ee*Math.pow(2,Ie)),K}function O(B,Y,K,ee){var de=Ee(14);if(de.write_shift(2,B),de.write_shift(1,K),de.write_shift(1,Y),ee==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Ie=0,Oe=0,_e=0,Pe=0;return ee<0&&(Ie=1,ee=-ee),Oe=Math.log2(ee)|0,ee/=Math.pow(2,Oe-31),Pe=ee>>>0,(Pe&2147483648)==0&&(ee/=2,++Oe,Pe=ee>>>0),ee-=Pe,Pe|=2147483648,Pe>>>=0,ee*=Math.pow(2,32),_e=ee>>>0,de.write_shift(4,_e),de.write_shift(4,Pe),Oe+=16383+(Ie?32768:0),de.write_shift(2,Oe),de}function I(B,Y){var K=A(B);return B.l+=Y-14,K}function z(B,Y){var K=F(B),ee=B.read_shift(4);return K[1].v=ee>>6,K}function J(B,Y){var K=F(B),ee=B.read_shift(8,"f");return K[1].v=ee,K}function ae(B,Y){var K=J(B);return B.l+=Y-10,K}function ie(B,Y){return B[B.l+Y-1]==0?B.read_shift(Y,"cstr"):""}function j(B,Y){var K=B[B.l++];K>Y-1&&(K=Y-1);for(var ee="";ee.length<K;)ee+=String.fromCharCode(B[B.l++]);return ee}function W(B,Y,K){if(!(!K.qpro||Y<21)){var ee=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var de=B.read_shift(Y-21,"cstr");return[ee,de]}}function Q(B,Y){for(var K={},ee=B.l+Y;B.l<ee;){var de=B.read_shift(2);if(de==14e3){for(K[de]=[0,""],K[de][0]=B.read_shift(2);B[B.l];)K[de][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return K}function ce(B,Y){var K=Ee(5+B.length);K.write_shift(2,14e3),K.write_shift(2,Y);for(var ee=0;ee<B.length;++ee){var de=B.charCodeAt(ee);K[K.l++]=de>127?95:de}return K[K.l++]=0,K}var H={0:{n:"BOF",f:NO},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:j},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:t}}(),ite=/^\s|\s$|[\t\n\r]/;function WO(e,t){if(!t.bookSST)return"";var n=[zn];n[n.length]=He("sst",null,{xmlns:Id[0],count:e.Count,uniqueCount:e.Unique});for(var i=0;i!=e.length;++i)if(e[i]!=null){var r=e[i],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(ite)&&(s+=' xml:space="preserve"'),s+=">"+$t(r.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function rte(e){return[e.read_shift(4),e.read_shift(4)]}function ste(e,t){return t||(t=Ee(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var ote=XJ;function ate(e){var t=qi();Fe(t,159,ste(e));for(var n=0;n<e.length;++n)Fe(t,19,ote(e[n]));return Fe(t,160),t.end()}function lte(e){for(var t=[],n=e.split(""),i=0;i<n.length;++i)t[i]=n[i].charCodeAt(0);return t}function UO(e){var t=0,n,i=lte(e),r=i.length+1,s,o,a,l,u;for(n=bc(r),n[0]=i.length,s=1;s!=r;++s)n[s]=i[s-1];for(s=r-1;s>=0;--s)o=n[s],a=(t&16384)===0?0:1,l=t<<1&32767,u=a|l,t=u^o;return t^52811}var cte=function(){function e(r,s){switch(s.type){case"base64":return t(ta(r),s);case"binary":return t(r,s);case"buffer":return t(kt&&Buffer.isBuffer(r)?r.toString("binary"):wp(r),s);case"array":return t(oC(r),s)}throw new Error("Unrecognized type "+s.type)}function t(r,s){var o=s||{},a=o.dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,p){Array.isArray(a)&&(a[p]=[]);for(var g=/\\\w+\b/g,v=0,C,w=-1;C=g.exec(h);){switch(C[0]){case"\\cell":var S=h.slice(v,g.lastIndex-C[0].length);if(S[0]==" "&&(S=S.slice(1)),++w,S.length){var x={v:S,t:"s"};Array.isArray(a)?a[p][w]=x:a[Kt({r:p,c:w})]=x}break}v=g.lastIndex}w>u.e.c&&(u.e.c=w)}),a["!ref"]=Vn(u),a}function n(r,s){return Bc(e(r,s),s)}function i(r){for(var s=["{\\rtf1\\ansi"],o=dn(r["!ref"]),a,l=Array.isArray(r),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=Kt({r:u,c:h});a=l?(r[u]||[])[h]:r[p],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(na(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:i}}();function lM(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var ute=6,Uo=ute;function ov(e){return Math.floor((e+Math.round(128/Uo)/256)*Uo)}function av(e){return Math.floor((e-5)/Uo*100+.5)/100}function $S(e){return Math.round((e*Uo+5)/Uo*256)/256}function Pb(e){e.width?(e.wpx=ov(e.width),e.wch=av(e.wpx),e.MDW=Uo):e.wpx?(e.wch=av(e.wpx),e.width=$S(e.wch),e.MDW=Uo):typeof e.wch=="number"&&(e.width=$S(e.wch),e.wpx=ov(e.width),e.MDW=Uo),e.customWidth&&delete e.customWidth}var dte=96,jO=dte;function lv(e){return e*96/jO}function YO(e){return e*jO/96}function hte(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&(t[t.length]=He("numFmt",null,{numFmtId:i,formatCode:$t(e[i])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=He("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function fte(e){var t=[];return t[t.length]=He("cellXfs",null),e.forEach(function(n){t[t.length]=He("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=He("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function $O(e,t){var n=[zn,He("styleSheet",null,{xmlns:Id[0],"xmlns:vt":ni.vt})],i;return e.SSF&&(i=hte(e.SSF))!=null&&(n[n.length]=i),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=fte(t.cellXfs))&&(n[n.length]=i),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function pte(e,t){var n=e.read_shift(2),i=Di(e);return[n,i]}function gte(e,t,n){n||(n=Ee(6+4*t.length)),n.write_shift(2,e),ri(t,n);var i=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),i}function mte(e,t,n){var i={};i.sz=e.read_shift(2)/20;var r=iee(e);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var s=e.read_shift(2);switch(s===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(i.underline=o);var a=e.read_shift(1);a>0&&(i.family=a);var l=e.read_shift(1);switch(l>0&&(i.charset=l),e.l++,i.color=nee(e),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Di(e),i}function vte(e,t){t||(t=Ee(153)),t.write_shift(2,e.sz*20),ree(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),rv(e.color,t);var i=0;return i=2,t.write_shift(1,i),ri(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Cte=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ey,wte=lo;function cM(e,t){t||(t=Ee(84)),Ey||(Ey=yb(Cte));var n=Ey[e.patternType];n==null&&(n=40),t.write_shift(4,n);var i=0;if(n!=40)for(rv({auto:1},t),rv({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function yte(e,t){var n=e.l+t,i=e.read_shift(2),r=e.read_shift(2);return e.l=n,{ixfe:i,numFmtId:r}}function KO(e,t,n){n||(n=Ee(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var i=0;return n.write_shift(1,i),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Zh(e,t){return t||(t=Ee(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ste=lo;function xte(e,t){return t||(t=Ee(51)),t.write_shift(1,0),Zh(null,t),Zh(null,t),Zh(null,t),Zh(null,t),Zh(null,t),t.length>t.l?t.slice(0,t.l):t}function bte(e,t){return t||(t=Ee(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),iv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Ete(e,t,n){var i=Ee(2052);return i.write_shift(4,e),iv(t,i),iv(n,i),i.length>i.l?i.slice(0,i.l):i}function Tte(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&++n}),n!=0&&(Fe(e,615,ys(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&Fe(e,44,gte(r,t[r]))}),Fe(e,616))}}function Dte(e){var t=1;Fe(e,611,ys(t)),Fe(e,43,vte({sz:12,color:{theme:1},name:"Calibri",family:2})),Fe(e,612)}function Rte(e){var t=2;Fe(e,603,ys(t)),Fe(e,45,cM({patternType:"none"})),Fe(e,45,cM({patternType:"gray125"})),Fe(e,604)}function Fte(e){var t=1;Fe(e,613,ys(t)),Fe(e,46,xte()),Fe(e,614)}function Mte(e){var t=1;Fe(e,626,ys(t)),Fe(e,47,KO({numFmtId:0},65535)),Fe(e,627)}function _te(e,t){Fe(e,617,ys(t.length)),t.forEach(function(n){Fe(e,47,KO(n,0))}),Fe(e,618)}function Ate(e){var t=1;Fe(e,619,ys(t)),Fe(e,48,bte({xfId:0,name:"Normal"})),Fe(e,620)}function Pte(e){var t=0;Fe(e,505,ys(t)),Fe(e,506)}function kte(e){var t=0;Fe(e,508,Ete(t,"TableStyleMedium9","PivotStyleMedium4")),Fe(e,509)}function Ote(e,t){var n=qi();return Fe(n,278),Tte(n,e.SSF),Dte(n),Rte(n),Fte(n),Mte(n),_te(n,t.cellXfs),Ate(n),Pte(n),kte(n),Fe(n,279),n.end()}function qO(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[zn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Lte(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Di(e)}}function Ite(e){var t=Ee(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ri(e.name,t),t.slice(0,t.l)}function Nte(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Bte(e){var t=Ee(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function Hte(e,t){var n=Ee(8+2*t.length);return n.write_shift(4,e),ri(t,n),n.slice(0,n.l)}function Gte(e){return e.l+=4,e.read_shift(4)!=0}function Vte(e,t){var n=Ee(8);return n.write_shift(4,e),n.write_shift(4,1),n}function zte(){var e=qi();return Fe(e,332),Fe(e,334,ys(1)),Fe(e,335,Ite({name:"XLDAPR",version:12e4,flags:3496657072})),Fe(e,336),Fe(e,339,Hte(1,"XLDAPR")),Fe(e,52),Fe(e,35,ys(514)),Fe(e,4096,ys(0)),Fe(e,4097,Vr(1)),Fe(e,36),Fe(e,53),Fe(e,340),Fe(e,337,Vte(1)),Fe(e,51,Bte([[1,0]])),Fe(e,338),Fe(e,333),e.end()}function XO(){var e=[zn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Wte(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Kt(n);var i=e.read_shift(1);return i&2&&(t.l="1"),i&8&&(t.a="1"),t}var Vu=1024;function QO(e,t){for(var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),r=[He("xml",null,{"xmlns:v":vr.v,"xmlns:o":vr.o,"xmlns:x":vr.x,"xmlns:mv":vr.mv}).replace(/\/>/,">"),He("o:shapelayout",He("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),He("v:shapetype",[He("v:stroke",null,{joinstyle:"miter"}),He("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:i})];Vu<e*1e3;)Vu+=1e3;return t.forEach(function(s){var o=ii(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?He("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=He("v:fill",l,a),h={on:"t",obscured:"t"};++Vu,r=r.concat(["<v:shape"+Kf({id:"_x0000_s"+Vu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,He("v:shadow",null,h),He("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",hi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),hi("x:AutoFill","False"),hi("x:Row",String(o.r)),hi("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function ZO(e){var t=[zn,He("comments",null,{xmlns:Id[0]})],n=[];return t.push("<authors>"),e.forEach(function(i){i[1].forEach(function(r){var s=$t(r.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(i){var r=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=n.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(r=n.indexOf($t(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),s.length<=1)t.push(hi("t",$t(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;t.push(hi("t",$t(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Ute(e,t,n){var i=[zn,He("ThreadedComments",null,{xmlns:ni.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),i.push(He("threadedComment",hi("text",o.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function jte(e){var t=[zn,He("personList",null,{xmlns:ni.TCMNT,"xmlns:x":Id[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,i){t.push(He("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Yte(e){var t={};t.iauthor=e.read_shift(4);var n=zc(e);return t.rfx=n.s,t.ref=Kt(n.s),e.l+=16,t}function $te(e,t){return t==null&&(t=Ee(36)),t.write_shift(4,e[1].iauthor),Bd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Kte=Di;function qte(e){return ri(e.slice(0,54))}function Xte(e){var t=qi(),n=[];return Fe(t,628),Fe(t,630),e.forEach(function(i){i[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),Fe(t,632,qte(r.a)))})}),Fe(t,631),Fe(t,633),e.forEach(function(i){i[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var s={s:ii(i[0]),e:ii(i[0])};Fe(t,635,$te([s,r])),r.t&&r.t.length>0&&Fe(t,637,ZJ(r)),Fe(t,636),delete r.iauthor})}),Fe(t,634),Fe(t,629),t.end()}function Qte(e,t){t.FullPaths.forEach(function(n,i){if(i!=0){var r=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&tn.utils.cfb_add(e,r,t.FileIndex[i].content)}})}var JO=["xlsb","xlsm","xlam","biff8","xla"],Zte=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(i,r,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return a?h+=t.c:--h,l?u+=t.r:--u,r+(a?"":"$")+Ti(h)+(l?"":"$")+Ci(u)}return function(r,s){return t=s,r.replace(e,n)}}(),kb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ob=function(){return function(t,n){return t.replace(kb,function(i,r,s,o,a,l){var u=Rb(o)-(s?0:n.c),h=Db(l)-(a?0:n.r),p=h==0?"":a?h+1:"["+h+"]",g=u==0?"":s?u+1:"["+u+"]";return r+"R"+p+"C"+g})}}();function Jte(e,t){return e.replace(kb,function(n,i,r,s,o,a){return i+(r=="$"?r+s:Ti(Rb(s)+t.c))+(o=="$"?o+a:Ci(Db(a)+t.r))})}function ene(e){return e.length!=1}function Bn(e){e.l+=1}function dl(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function e4(e,t,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return t4(e);n.biff==12&&(i=4)}var r=e.read_shift(i),s=e.read_shift(i),o=dl(e),a=dl(e);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function t4(e){var t=dl(e),n=dl(e),i=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function tne(e,t,n){if(n.biff<8)return t4(e);var i=e.read_shift(n.biff==12?4:2),r=e.read_shift(n.biff==12?4:2),s=dl(e),o=dl(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function n4(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return nne(e);var i=e.read_shift(n&&n.biff==12?4:2),r=dl(e);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function nne(e){var t=dl(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function ine(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function rne(e,t,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return sne(e);var r=e.read_shift(i>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;r>524287;)r-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:o,rRel:a}}function sne(e){var t=e.read_shift(2),n=e.read_shift(1),i=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,i==1&&t>=8192&&(t=t-16384),r==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:r,rRel:i}}function one(e,t,n){var i=(e[e.l++]&96)>>5,r=e4(e,n.biff>=2&&n.biff<=5?6:8,n);return[i,r]}function ane(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=e4(e,s,n);return[i,r,o]}function lne(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function cne(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[i,r]}function une(e,t,n){var i=(e[e.l++]&96)>>5,r=tne(e,t-1,n);return[i,r]}function dne(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[i]}function uM(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function hne(e,t,n){e.l+=2;for(var i=e.read_shift(n&&n.biff==2?1:2),r=[],s=0;s<=i;++s)r.push(e.read_shift(n&&n.biff==2?1:2));return r}function fne(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function pne(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function gne(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function mne(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[i]}function i4(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function vne(e){return e.read_shift(2),i4(e)}function Cne(e){return e.read_shift(2),i4(e)}function wne(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=n4(e,0,n);return[i,r]}function yne(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=rne(e,0,n);return[i,r]}function Sne(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=n4(e,0,n);return[i,r,s]}function xne(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(n&&n.biff<=3?1:2);return[xie[r],o4[r],i]}function bne(e,t,n){var i=e[e.l++],r=e.read_shift(1),s=n&&n.biff<=3?[i==88?-1:0,e.read_shift(1)]:Ene(e);return[r,(s[0]===0?o4:Sie)[s[1]]]}function Ene(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Tne(e,t,n){e.l+=n&&n.biff==2?3:4}function Dne(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function Rne(e){return e.l++,xp[e.read_shift(1)]}function Fne(e){return e.l++,e.read_shift(2)}function Mne(e){return e.l++,e.read_shift(1)!==0}function _ne(e){return e.l++,Hd(e)}function Ane(e,t,n){return e.l++,HO(e,t-1,n)}function Pne(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=See(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=xp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Hd(e);break;case 2:n[1]=Tee(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function kne(e,t,n){for(var i=e.read_shift(n.biff==12?4:2),r=[],s=0;s!=i;++s)r.push((n.biff==12?zc:Fee)(e));return r}function One(e,t,n){var i=0,r=0;n.biff==12?(i=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),i=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,--r==0&&(r=256));for(var s=0,o=[];s!=i&&(o[s]=[]);++s)for(var a=0;a!=r;++a)o[s][a]=Pne(e,n.biff);return o}function Lne(e,t,n){var i=e.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,s=e.read_shift(r);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,s]}function Ine(e,t,n){if(n.biff==5)return Nne(e);var i=e.read_shift(1)>>>5&3,r=e.read_shift(2),s=e.read_shift(4);return[i,r,s]}function Nne(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[t,n,i]}function Bne(e,t,n){var i=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function Hne(e,t,n){var i=e.read_shift(1)>>>5&3,r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function Gne(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[i]}function Vne(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[i,r]}var zne=lo,Wne=lo,Une=lo;function bp(e,t,n){return e.l+=2,[ine(e)]}function Lb(e){return e.l+=6,[]}var jne=bp,Yne=Lb,$ne=Lb,Kne=bp;function r4(e){return e.l+=2,[NO(e),e.read_shift(2)&1]}var qne=bp,Xne=r4,Qne=Lb,Zne=bp,Jne=bp,eie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tie(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2),o=eie[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:i,c:r,C:s}}function nie(e){return e.l+=2,[e.read_shift(4)]}function iie(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function rie(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function sie(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function oie(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function aie(e){return e.l+=4,[0,0]}var dM={1:{n:"PtgExp",f:Dne},2:{n:"PtgTbl",f:Une},3:{n:"PtgAdd",f:Bn},4:{n:"PtgSub",f:Bn},5:{n:"PtgMul",f:Bn},6:{n:"PtgDiv",f:Bn},7:{n:"PtgPower",f:Bn},8:{n:"PtgConcat",f:Bn},9:{n:"PtgLt",f:Bn},10:{n:"PtgLe",f:Bn},11:{n:"PtgEq",f:Bn},12:{n:"PtgGe",f:Bn},13:{n:"PtgGt",f:Bn},14:{n:"PtgNe",f:Bn},15:{n:"PtgIsect",f:Bn},16:{n:"PtgUnion",f:Bn},17:{n:"PtgRange",f:Bn},18:{n:"PtgUplus",f:Bn},19:{n:"PtgUminus",f:Bn},20:{n:"PtgPercent",f:Bn},21:{n:"PtgParen",f:Bn},22:{n:"PtgMissArg",f:Bn},23:{n:"PtgStr",f:Ane},26:{n:"PtgSheet",f:iie},27:{n:"PtgEndSheet",f:rie},28:{n:"PtgErr",f:Rne},29:{n:"PtgBool",f:Mne},30:{n:"PtgInt",f:Fne},31:{n:"PtgNum",f:_ne},32:{n:"PtgArray",f:dne},33:{n:"PtgFunc",f:xne},34:{n:"PtgFuncVar",f:bne},35:{n:"PtgName",f:Lne},36:{n:"PtgRef",f:wne},37:{n:"PtgArea",f:one},38:{n:"PtgMemArea",f:Bne},39:{n:"PtgMemErr",f:zne},40:{n:"PtgMemNoMem",f:Wne},41:{n:"PtgMemFunc",f:Hne},42:{n:"PtgRefErr",f:Gne},43:{n:"PtgAreaErr",f:lne},44:{n:"PtgRefN",f:yne},45:{n:"PtgAreaN",f:une},46:{n:"PtgMemAreaN",f:sie},47:{n:"PtgMemNoMemN",f:oie},57:{n:"PtgNameX",f:Ine},58:{n:"PtgRef3d",f:Sne},59:{n:"PtgArea3d",f:ane},60:{n:"PtgRefErr3d",f:Vne},61:{n:"PtgAreaErr3d",f:cne},255:{}},lie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cie={1:{n:"PtgElfLel",f:r4},2:{n:"PtgElfRw",f:Zne},3:{n:"PtgElfCol",f:jne},6:{n:"PtgElfRwV",f:Jne},7:{n:"PtgElfColV",f:Kne},10:{n:"PtgElfRadical",f:qne},11:{n:"PtgElfRadicalS",f:Qne},13:{n:"PtgElfColS",f:Yne},15:{n:"PtgElfColSV",f:$ne},16:{n:"PtgElfRadicalLel",f:Xne},25:{n:"PtgList",f:tie},29:{n:"PtgSxName",f:nie},255:{}},uie={0:{n:"PtgAttrNoop",f:aie},1:{n:"PtgAttrSemi",f:mne},2:{n:"PtgAttrIf",f:pne},4:{n:"PtgAttrChoose",f:hne},8:{n:"PtgAttrGoto",f:fne},16:{n:"PtgAttrSum",f:Tne},32:{n:"PtgAttrBaxcel",f:uM},33:{n:"PtgAttrBaxcel",f:uM},64:{n:"PtgAttrSpace",f:vne},65:{n:"PtgAttrSpaceSemi",f:Cne},128:{n:"PtgAttrIfError",f:gne},255:{}};function die(e,t,n,i){if(i.biff<8)return lo(e,t);for(var r=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=One(e,0,i),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=kne(e,n[o][1],i),s.push(n[o][2]);break;case"PtgExp":i&&i.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=r-e.l,t!==0&&s.push(lo(e,t)),s}function hie(e,t,n){for(var i=e.l+t,r,s,o=[];i!=e.l;)t=i-e.l,s=e[e.l],r=dM[s]||dM[lie[s]],(s===24||s===25)&&(r=(s===24?cie:uie)[e[e.l+1]]),!r||!r.f?lo(e,t):o.push([r.n,r.f(e,t,n)]);return o}function fie(e){for(var t=[],n=0;n<e.length;++n){for(var i=e[n],r=[],s=0;s<i.length;++s){var o=i[s];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var pie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function gie(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function s4(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!i)return"SH33TJSERR1";var r="";if(n.biff>8)switch(e[i[0]][0]){case 357:return r=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[i[0]][0][3]?(r=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function hM(e,t,n){var i=s4(e,t,n);return i=="#REF"?i:gie(i,n)}function wd(e,t,n,i,r){var s=r&&r.biff||8,o={s:{c:0,r:0}},a=[],l,u,h,p=0,g=0,v,C="";if(!e[0]||!e[0][0])return"";for(var w=-1,S="",x=0,E=e[0].length;x<E;++x){var T=e[0][x];switch(T[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),w>=0){switch(e[0][w][1][0]){case 0:S=Tn(" ",e[0][w][1][1]);break;case 1:S=Tn("\r",e[0][w][1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}u=u+S,w=-1}a.push(u+pie[T[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Sf(T[1][1],o,r),a.push(xf(h,s));break;case"PtgRefN":h=n?Sf(T[1][1],n,r):T[1][1],a.push(xf(h,s));break;case"PtgRef3d":p=T[1][1],h=Sf(T[1][2],o,r),C=hM(i,p,r),a.push(C+"!"+xf(h,s));break;case"PtgFunc":case"PtgFuncVar":var R=T[1][0],F=T[1][1];R||(R=0),R&=127;var P=R==0?[]:a.slice(-R);a.length-=R,F==="User"&&(F=P.shift()),a.push(F+"("+P.join(",")+")");break;case"PtgBool":a.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(T[1]);break;case"PtgNum":a.push(String(T[1]));break;case"PtgStr":a.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(T[1]);break;case"PtgAreaN":v=XF(T[1][1],n?{s:n}:o,r),a.push(xy(v,r));break;case"PtgArea":v=XF(T[1][1],o,r),a.push(xy(v,r));break;case"PtgArea3d":p=T[1][1],v=T[1][2],C=hM(i,p,r),a.push(C+"!"+xy(v,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=T[1][2];var _=(i.names||[])[g-1]||(i[0]||[])[g],L=_?_.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!r.xlfn&&(L=L.slice(6)),a.push(L);break;case"PtgNameX":var A=T[1][1];g=T[1][2];var O;if(r.biff<=5)A<0&&(A=-A),i[A]&&(O=i[A][g]);else{var I="";if(((i[A]||[])[0]||[])[0]==14849||(((i[A]||[])[0]||[])[0]==1025?i[A][g]&&i[A][g].itab>0&&(I=i.SheetNames[i[A][g].itab-1]+"!"):I=i.SheetNames[g-1]+"!"),i[A]&&i[A][g])I+=i[A][g].Name;else if(i[0]&&i[0][g])I+=i[0][g].Name;else{var z=(s4(i,A,r)||"").split(";;");z[g-1]?I=z[g-1]:I+="SH33TJSERRX"}a.push(I);break}O||(O={Name:"SH33TJSERRY"}),a.push(O.Name);break;case"PtgParen":var J="(",ae=")";if(w>=0){switch(S="",e[0][w][1][0]){case 2:J=Tn(" ",e[0][w][1][1])+J;break;case 3:J=Tn("\r",e[0][w][1][1])+J;break;case 4:ae=Tn(" ",e[0][w][1][1])+ae;break;case 5:ae=Tn("\r",e[0][w][1][1])+ae;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}a.push(J+a.pop()+ae);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":h={c:T[1][1],r:T[1][0]};var ie={c:n.c,r:n.r};if(i.sharedf[Kt(h)]){var j=i.sharedf[Kt(h)];a.push(wd(j,o,ie,i,r))}else{var W=!1;for(l=0;l!=i.arrayf.length;++l)if(u=i.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){a.push(wd(u[1],o,ie,i,r)),W=!0;break}W||a.push(T[1])}break;case"PtgArray":a.push("{"+fie(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&w>=0&&Q.indexOf(e[0][x][0])==-1){T=e[0][w];var ce=!0;switch(T[1][0]){case 4:ce=!1;case 0:S=Tn(" ",T[1][1]);break;case 5:ce=!1;case 1:S=Tn("\r",T[1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}a.push((ce?S:"")+a.pop()+(ce?"":S)),w=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function mie(e){if(e==null){var t=Ee(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ec(e);return Ec(0)}function vie(e,t,n,i,r){var s=Tc(t,n,r),o=mie(e.v),a=Ee(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=Ee(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var p=di([s,o,a,u]);return p}function aC(e,t,n){var i=e.read_shift(4),r=hie(e,i,n),s=e.read_shift(4),o=s>0?die(e,s,r,n):null;return[r,o]}var Cie=aC,lC=aC,wie=aC,yie=aC,Sie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},o4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function bie(e){var t="of:="+e.replace(kb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Eie(e){return e.replace(/\./,"!")}var bf=typeof Map<"u";function Ib(e,t,n){var i=0,r=e.length;if(n){if(bf?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=bf?n.get(t):n[t];i<s.length;++i)if(e[s[i]].t===t)return e.Count++,s[i]}}else for(;i<r;++i)if(e[i].t===t)return e.Count++,i;return e[r]={t},e.Count++,e.Unique++,n&&(bf?(n.has(t)||n.set(t,[]),n.get(t).push(r)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(r))),r}function cC(e,t){var n={min:e+1,max:e+1},i=-1;return t.MDW&&(Uo=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?i=av(t.wpx):t.wch!=null&&(i=t.wch),i>-1?(n.width=$S(i),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function a4(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function yl(e,t,n){var i=n.revssf[t.z!=null?t.z:"General"],r=60,s=e.length;if(i==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){nO(t.z,r),n.ssf[r]=t.z,n.revssf[t.z]=i=r;break}}for(r=0;r!=s;++r)if(e[r].numFmtId===i)return r;return e[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Tie(e,t,n){if(e&&e["!ref"]){var i=dn(e["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function Die(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Vn(e[n])+'"/>';return t+"</mergeCells>"}function Rie(e,t,n,i,r){var s=!1,o={},a=null;if(i.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=$f($t(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),a=(a||"")+He("outlinePr",null,u)}!s&&!a||(r[r.length]=He("sheetPr",a,o))}var Fie=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Mie=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ie(e){var t={sheet:1};return Fie.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),Mie.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=UO(e.password).toString(16).toUpperCase()),He("sheetProtection",null,t)}function Aie(e){return a4(e),He("pageMargins",null,e)}function Pie(e,t){for(var n=["<cols>"],i,r=0;r!=t.length;++r)(i=t[r])&&(n[n.length]=He("col",null,cC(r,i)));return n[n.length]="</cols>",n.join("")}function kie(e,t,n,i){var r=typeof e.ref=="string"?e.ref:Vn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Er(r);o.s.r==o.e.r&&(o.e.r=Er(t["!ref"]).e.r,r=Vn(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+n.SheetNames[i]+"'!"+r;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+r}),He("autoFilter",null,{ref:r})}function Oie(e,t,n,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),He("sheetViews",He("sheetView",null,r),{})}function Lie(e,t,n,i){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var r="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=xp[e.v];break;case"d":i&&i.cellDates?r=Bi(e.v,-1).toISOString():(e=tr(e),e.t="n",r=""+(e.v=er(Bi(e.v)))),typeof e.z>"u"&&(e.z=Dn[14]);break;default:r=e.v;break}var a=hi("v",$t(r)),l={r:t},u=yl(i.cellXfs,e,i);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){a=hi("v",""+Ib(i.Strings,e.v,i.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=He("f",$t(e.f),h)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),He("c",a,l)}function Iie(e,t,n,i){var r=[],s=[],o=dn(e["!ref"]),a="",l,u="",h=[],p=0,g=0,v=e["!rows"],C=Array.isArray(e),w={r:u},S,x=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=Ti(g);for(p=o.s.r;p<=o.e.r;++p){for(s=[],u=Ci(p),g=o.s.c;g<=o.e.c;++g){l=h[g]+u;var E=C?(e[p]||[])[g]:e[l];E!==void 0&&(a=Lie(E,l,e,t))!=null&&s.push(a)}(s.length>0||v&&v[p])&&(w={r:u},v&&v[p]&&(S=v[p],S.hidden&&(w.hidden=1),x=-1,S.hpx?x=lv(S.hpx):S.hpt&&(x=S.hpt),x>-1&&(w.ht=x,w.customHeight=1),S.level&&(w.outlineLevel=S.level)),r[r.length]=He("row",s.join(""),w))}if(v)for(;p<v.length;++p)v&&v[p]&&(w={r:p+1},S=v[p],S.hidden&&(w.hidden=1),x=-1,S.hpx?x=lv(S.hpx):S.hpt&&(x=S.hpt),x>-1&&(w.ht=x,w.customHeight=1),S.level&&(w.outlineLevel=S.level),r[r.length]=He("row","",w));return r.join("")}function l4(e,t,n,i){var r=[zn,He("worksheet",null,{xmlns:Id[0],"xmlns:r":ni.r})],s=n.SheetNames[e],o=0,a="",l=n.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",h=dn(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Vn(h)}i||(i={}),l["!comments"]=[];var p=[];Rie(l,n,e,t,r),r[r.length]=He("dimension",null,{ref:u}),r[r.length]=Oie(l,t,e,n),t.sheetFormat&&(r[r.length]=He("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(r[r.length]=Pie(l,l["!cols"])),r[o=r.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=Iie(l,t),a.length>0&&(r[r.length]=a)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),l["!protect"]&&(r[r.length]=_ie(l["!protect"])),l["!autofilter"]!=null&&(r[r.length]=kie(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(r[r.length]=Die(l["!merges"]));var g=-1,v,C=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(C=Yt(i,-1,$t(w[1].Target).replace(/#.*$/,""),At.HLINK),v["r:id"]="rId"+C),(g=w[1].Target.indexOf("#"))>-1&&(v.location=$t(w[1].Target.slice(g+1))),w[1].Tooltip&&(v.tooltip=$t(w[1].Tooltip)),r[r.length]=He("hyperlink",null,v))}),r[r.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(r[r.length]=Aie(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=hi("ignoredErrors",He("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(C=Yt(i,-1,"../drawings/drawing"+(e+1)+".xml",At.DRAW),r[r.length]=He("drawing",null,{"r:id":"rId"+C}),l["!drawing"]=p),l["!comments"].length>0&&(C=Yt(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",At.VML),r[r.length]=He("legacyDrawing",null,{"r:id":"rId"+C}),l["!legacy"]=C),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Nie(e,t){var n={},i=e.l+t;n.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=i,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=r/20),n}function Bie(e,t,n){var i=Ee(145),r=(n["!rows"]||[])[e]||{};i.write_shift(4,e),i.write_shift(4,0);var s=320;r.hpx?s=lv(r.hpx)*20:r.hpt&&(s=r.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),i.write_shift(1,o),i.write_shift(1,0);var a=0,l=i.l;i.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,v=h<<10;v<h+1<<10;++v){u.c=v;var C=Array.isArray(n)?(n[u.r]||[])[u.c]:n[Kt(u)];C&&(p<0&&(p=v),g=v)}p<0||(++a,i.write_shift(4,p),i.write_shift(4,g))}var w=i.l;return i.l=l,i.write_shift(4,a),i.l=w,i.length>i.l?i.slice(0,i.l):i}function Hie(e,t,n,i){var r=Bie(i,n,t);(r.length>17||(t["!rows"]||[])[i])&&Fe(e,0,r)}var Gie=zc,Vie=Bd;function zie(){}function Wie(e,t){var n={},i=e[e.l];return++e.l,n.above=!(i&64),n.left=!(i&128),e.l+=18,n.name=JJ(e),n}function Uie(e,t,n){n==null&&(n=Ee(84+4*e.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),n.write_shift(1,i);for(var r=1;r<3;++r)n.write_shift(1,0);return rv({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),bO(e,n),n.slice(0,n.l)}function jie(e){var t=ts(e);return[t]}function Yie(e,t,n){return n==null&&(n=Ee(8)),Hc(t,n)}function $ie(e){var t=Gc(e);return[t]}function Kie(e,t,n){return n==null&&(n=Ee(4)),Vc(t,n)}function qie(e){var t=ts(e),n=e.read_shift(1);return[t,n,"b"]}function Xie(e,t,n){return n==null&&(n=Ee(9)),Hc(t,n),n.write_shift(1,e.v?1:0),n}function Qie(e){var t=Gc(e),n=e.read_shift(1);return[t,n,"b"]}function Zie(e,t,n){return n==null&&(n=Ee(5)),Vc(t,n),n.write_shift(1,e.v?1:0),n}function Jie(e){var t=ts(e),n=e.read_shift(1);return[t,n,"e"]}function ere(e,t,n){return n==null&&(n=Ee(9)),Hc(t,n),n.write_shift(1,e.v),n}function tre(e){var t=Gc(e),n=e.read_shift(1);return[t,n,"e"]}function nre(e,t,n){return n==null&&(n=Ee(8)),Vc(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function ire(e){var t=ts(e),n=e.read_shift(4);return[t,n,"s"]}function rre(e,t,n){return n==null&&(n=Ee(12)),Hc(t,n),n.write_shift(4,t.v),n}function sre(e){var t=Gc(e),n=e.read_shift(4);return[t,n,"s"]}function ore(e,t,n){return n==null&&(n=Ee(8)),Vc(t,n),n.write_shift(4,t.v),n}function are(e){var t=ts(e),n=Hd(e);return[t,n,"n"]}function lre(e,t,n){return n==null&&(n=Ee(16)),Hc(t,n),Ec(e.v,n),n}function cre(e){var t=Gc(e),n=Hd(e);return[t,n,"n"]}function ure(e,t,n){return n==null&&(n=Ee(12)),Vc(t,n),Ec(e.v,n),n}function dre(e){var t=ts(e),n=EO(e);return[t,n,"n"]}function hre(e,t,n){return n==null&&(n=Ee(12)),Hc(t,n),TO(e.v,n),n}function fre(e){var t=Gc(e),n=EO(e);return[t,n,"n"]}function pre(e,t,n){return n==null&&(n=Ee(8)),Vc(t,n),TO(e.v,n),n}function gre(e){var t=ts(e),n=Fb(e);return[t,n,"is"]}function mre(e){var t=ts(e),n=Di(e);return[t,n,"str"]}function vre(e,t,n){return n==null&&(n=Ee(12+4*e.v.length)),Hc(t,n),ri(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Cre(e){var t=Gc(e),n=Di(e);return[t,n,"str"]}function wre(e,t,n){return n==null&&(n=Ee(8+4*e.v.length)),Vc(t,n),ri(e.v,n),n.length>n.l?n.slice(0,n.l):n}function yre(e,t,n){var i=e.l+t,r=ts(e);r.r=n["!row"];var s=e.read_shift(1),o=[r,s,"b"];if(n.cellFormula){e.l+=2;var a=lC(e,i-e.l,n);o[3]=wd(a,null,r,n.supbooks,n)}else e.l=i;return o}function Sre(e,t,n){var i=e.l+t,r=ts(e);r.r=n["!row"];var s=e.read_shift(1),o=[r,s,"e"];if(n.cellFormula){e.l+=2;var a=lC(e,i-e.l,n);o[3]=wd(a,null,r,n.supbooks,n)}else e.l=i;return o}function xre(e,t,n){var i=e.l+t,r=ts(e);r.r=n["!row"];var s=Hd(e),o=[r,s,"n"];if(n.cellFormula){e.l+=2;var a=lC(e,i-e.l,n);o[3]=wd(a,null,r,n.supbooks,n)}else e.l=i;return o}function bre(e,t,n){var i=e.l+t,r=ts(e);r.r=n["!row"];var s=Di(e),o=[r,s,"str"];if(n.cellFormula){e.l+=2;var a=lC(e,i-e.l,n);o[3]=wd(a,null,r,n.supbooks,n)}else e.l=i;return o}var Ere=zc,Tre=Bd;function Dre(e,t){return t==null&&(t=Ee(4)),t.write_shift(4,e),t}function Rre(e,t){var n=e.l+t,i=zc(e),r=Mb(e),s=Di(e),o=Di(e),a=Di(e);e.l=n;var l={rfx:i,relId:r,loc:s,display:a};return o&&(l.Tooltip=o),l}function Fre(e,t){var n=Ee(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Bd({s:ii(e[0]),e:ii(e[0])},n),_b("rId"+t,n);var i=e[1].Target.indexOf("#"),r=i==-1?"":e[1].Target.slice(i+1);return ri(r||"",n),ri(e[1].Tooltip||"",n),ri("",n),n.slice(0,n.l)}function Mre(){}function _re(e,t,n){var i=e.l+t,r=DO(e),s=e.read_shift(1),o=[r];if(o[2]=s,n.cellFormula){var a=Cie(e,i-e.l,n);o[1]=a}else e.l=i;return o}function Are(e,t,n){var i=e.l+t,r=zc(e),s=[r];if(n.cellFormula){var o=yie(e,i-e.l,n);s[1]=o,e.l=i}else e.l=i;return s}function Pre(e,t,n){n==null&&(n=Ee(18));var i=cC(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(i.width||10)*256),n.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),n.write_shift(2,r),n}var c4=["left","right","top","bottom","header","footer"];function kre(e){var t={};return c4.forEach(function(n){t[n]=Hd(e)}),t}function Ore(e,t){return t==null&&(t=Ee(48)),a4(e),c4.forEach(function(n){Ec(e[n],t)}),t}function Lre(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ire(e,t,n){n==null&&(n=Ee(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),n.write_shift(2,i),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Nre(e){var t=Ee(24);return t.write_shift(4,4),t.write_shift(4,1),Bd(e,t),t}function Bre(e,t){return t==null&&(t=Ee(66)),t.write_shift(2,e.password?UO(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function Hre(){}function Gre(){}function Vre(e,t,n,i,r,s,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=tr(t),t.z=t.z||Dn[14],t.v=er(Bi(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:i};switch(l.s=yl(r.cellXfs,t,r),t.l&&s["!links"].push([Kt(l),t.l]),t.c&&s["!comments"].push([Kt(l),t.c]),t.t){case"s":case"str":return r.bookSST?(a=Ib(r.Strings,t.v,r.revStrings),l.t="s",l.v=a,o?Fe(e,18,ore(t,l)):Fe(e,7,rre(t,l))):(l.t="str",o?Fe(e,17,wre(t,l)):Fe(e,6,vre(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Fe(e,13,pre(t,l)):Fe(e,2,hre(t,l)):o?Fe(e,16,ure(t,l)):Fe(e,5,lre(t,l)),!0;case"b":return l.t="b",o?Fe(e,15,Zie(t,l)):Fe(e,4,Xie(t,l)),!0;case"e":return l.t="e",o?Fe(e,14,nre(t,l)):Fe(e,3,ere(t,l)),!0}return o?Fe(e,12,Kie(t,l)):Fe(e,1,Yie(t,l)),!0}function zre(e,t,n,i){var r=dn(t["!ref"]||"A1"),s,o="",a=[];Fe(e,145);var l=Array.isArray(t),u=r.e.r;t["!rows"]&&(u=Math.max(r.e.r,t["!rows"].length-1));for(var h=r.s.r;h<=u;++h){o=Ci(h),Hie(e,t,r,h);var p=!1;if(h<=r.e.r)for(var g=r.s.c;g<=r.e.c;++g){h===r.s.r&&(a[g]=Ti(g)),s=a[g]+o;var v=l?(t[h]||[])[g]:t[s];if(!v){p=!1;continue}p=Vre(e,v,h,g,i,t,p)}}Fe(e,146)}function Wre(e,t){!t||!t["!merges"]||(Fe(e,177,Dre(t["!merges"].length)),t["!merges"].forEach(function(n){Fe(e,176,Tre(n))}),Fe(e,178))}function Ure(e,t){!t||!t["!cols"]||(Fe(e,390),t["!cols"].forEach(function(n,i){n&&Fe(e,60,Pre(i,n))}),Fe(e,391))}function jre(e,t){!t||!t["!ref"]||(Fe(e,648),Fe(e,649,Nre(dn(t["!ref"]))),Fe(e,650))}function Yre(e,t,n){t["!links"].forEach(function(i){if(i[1].Target){var r=Yt(n,-1,i[1].Target.replace(/#.*$/,""),At.HLINK);Fe(e,494,Fre(i,r))}}),delete t["!links"]}function $re(e,t,n,i){if(t["!comments"].length>0){var r=Yt(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",At.VML);Fe(e,551,_b("rId"+r)),t["!legacy"]=r}}function Kre(e,t,n,i){if(t["!autofilter"]){var r=t["!autofilter"],s=typeof r.ref=="string"?r.ref:Vn(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Er(s);a.s.r==a.e.r&&(a.e.r=Er(t["!ref"]).e.r,s=Vn(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==i){u.Ref="'"+n.SheetNames[i]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+s}),Fe(e,161,Bd(dn(s))),Fe(e,162)}}function qre(e,t,n){Fe(e,133),Fe(e,137,Ire(t,n)),Fe(e,138),Fe(e,134)}function Xre(e,t){t["!protect"]&&Fe(e,535,Bre(t["!protect"]))}function Qre(e,t,n,i){var r=qi(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=dn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Fe(r,129),(n.vbaraw||o["!outline"])&&Fe(r,147,Uie(a,o["!outline"])),Fe(r,148,Vie(l)),qre(r,o,n.Workbook),Ure(r,o),zre(r,o,e,t),Xre(r,o),Kre(r,o,n,e),Wre(r,o),Yre(r,o,i),o["!margins"]&&Fe(r,476,Ore(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&jre(r,o),$re(r,o,e,i),Fe(r,130),r.end()}function Zre(e,t){e.l+=10;var n=Di(e);return{name:n}}var Jre=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ese(e){return!e.Workbook||!e.Workbook.WBProps?"false":AJ(e.Workbook.WBProps.date1904)?"true":"false"}var tse="][*?/\\".split("");function u4(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return tse.forEach(function(i){if(e.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function nse(e,t,n){e.forEach(function(i,r){u4(i);for(var s=0;s<r;++s)if(i==e[s])throw new Error("Duplicate Sheet Name: "+i);if(n){var o=t&&t[r]&&t[r].CodeName||i;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ise(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];nse(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)Tie(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function d4(e){var t=[zn];t[t.length]=He("workbook",null,{xmlns:Id[0],"xmlns:r":ni.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Jre.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(i[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(i.codeName=e.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=He("workbookPr",null,i);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:$t(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=He("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=He("definedName",$t(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function rse(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=YS(e),n.name=Di(e),n}function sse(e,t){return t||(t=Ee(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),_b(e.strRelID,t),ri(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ose(e,t){var n={},i=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var r=t>8?Di(e):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(i&65536),n.backupFile=!!(i&64),n.checkCompatibility=!!(i&4096),n.date1904=!!(i&1),n.filterPrivacy=!!(i&8),n.hidePivotFieldList=!!(i&1024),n.promptedSolutions=!!(i&16),n.publishItems=!!(i&2048),n.refreshAllConnections=!!(i&262144),n.saveExternalLinkValues=!!(i&128),n.showBorderUnselectedTables=!!(i&4),n.showInkAnnotation=!!(i&32),n.showObjects=["all","placeholders","none"][i>>13&3],n.showPivotChartFilter=!!(i&32768),n.updateLinks=["userSet","never","always"][i>>8&3],n}function ase(e,t){t||(t=Ee(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),bO(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function lse(e,t,n){var i=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),s=eee(e),o=wie(e,0,n),a=Mb(e);e.l=i;var l={Name:s,Ptg:o};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}function cse(e,t){Fe(e,143);for(var n=0;n!=t.SheetNames.length;++n){var i=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,r={Hidden:i,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Fe(e,156,sse(r))}Fe(e,144)}function use(e,t){t||(t=Ee(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return ri("SheetJS",t),ri(X0.version,t),ri(X0.version,t),ri("7262",t),t.length>t.l?t.slice(0,t.l):t}function dse(e,t){t||(t=Ee(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function hse(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,i=0,r=-1,s=-1;i<n.length;++i)!n[i]||!n[i].Hidden&&r==-1?r=i:n[i].Hidden==1&&s==-1&&(s=i);s>r||(Fe(e,135),Fe(e,158,dse(r)),Fe(e,136))}}function fse(e,t){var n=qi();return Fe(n,131),Fe(n,128,use()),Fe(n,153,ase(e.Workbook&&e.Workbook.WBProps||null)),hse(n,e),cse(n,e),Fe(n,132),n.end()}function pse(e,t,n){return(t.slice(-4)===".bin"?fse:d4)(e)}function gse(e,t,n,i,r){return(t.slice(-4)===".bin"?Qre:l4)(e,n,i,r)}function mse(e,t,n){return(t.slice(-4)===".bin"?Ote:$O)(e,n)}function vse(e,t,n){return(t.slice(-4)===".bin"?ate:WO)(e,n)}function Cse(e,t,n){return(t.slice(-4)===".bin"?Xte:ZO)(e)}function wse(e){return(e.slice(-4)===".bin"?zte:XO)()}function yse(e,t){var n=[];return e.Props&&n.push(mee(e.Props,t)),e.Custprops&&n.push(vee(e.Props,e.Custprops)),n.join("")}function Sse(){return""}function xse(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,r){var s=[];s.push(He("NumberFormat",null,{"ss:Format":$t(Dn[i.numFmtId])}));var o={"ss:ID":"s"+(21+r)};n.push(He("Style",s.join(""),o))}),He("Styles",n.join(""))}function h4(e){return He("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Ob(e.Ref,{r:0,c:0})})}function bse(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],i=0;i<t.length;++i){var r=t[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(h4(r)))}return He("Names",n.join(""))}function Ese(e,t,n,i){if(!e||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,s=[],o=0;o<r.length;++o){var a=r[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(h4(a)))}return s.join("")}function Tse(e,t,n,i){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(He("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(He("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(He("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n])if(i.Workbook.Sheets[n].Hidden)r.push(He("Visible",i.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==n&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(hi("ProtectContents","True")),e["!protect"].objects&&r.push(hi("ProtectObjects","True")),e["!protect"].scenarios&&r.push(hi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?r.push(hi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&r.push(hi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":He("WorksheetOptions",r.join(""),{xmlns:vr.x})}function Dse(e){return e.map(function(t){var n=_J(t.t||""),i=He("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return He("Comment",i,{"ss:Author":t.a})}).join("")}function Rse(e,t,n,i,r,s,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+$t(Ob(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=ii(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=$t(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=$t(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(a["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(a["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(e.t){case"z":if(!i.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=xp[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Dn[14]);break;case"s":p="String",g=MJ(e.v||"");break}var v=yl(i.cellXfs,e,i);a["ss:StyleID"]="s"+(21+v),a["ss:Index"]=o.c+1;var C=e.v!=null?g:"",w=e.t=="z"?"":'<Data ss:Type="'+p+'">'+C+"</Data>";return(e.c||[]).length>0&&(w+=Dse(e.c)),He("Cell",w,a)}function Fse(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=YO(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Mse(e,t,n,i){if(!e["!ref"])return"";var r=dn(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(S,x){Pb(S);var E=!!S.width,T=cC(x,S),R={"ss:Index":x+1};E&&(R["ss:Width"]=ov(T.width)),S.hidden&&(R["ss:Hidden"]="1"),a.push(He("Column",null,R))});for(var l=Array.isArray(e),u=r.s.r;u<=r.e.r;++u){for(var h=[Fse(u,(e["!rows"]||[])[u])],p=r.s.c;p<=r.e.c;++p){var g=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>p)&&!(s[o].s.r>u)&&!(s[o].e.c<p)&&!(s[o].e.r<u)){(s[o].s.c!=p||s[o].s.r!=u)&&(g=!0);break}if(!g){var v={r:u,c:p},C=Kt(v),w=l?(e[u]||[])[p]:e[C];h.push(Rse(w,C,e,t,n,i,v))}}h.push("</Row>"),h.length>2&&a.push(h.join(""))}return a.join("")}function _se(e,t,n){var i=[],r=n.SheetNames[e],s=n.Sheets[r],o=s?Ese(s,t,e,n):"";return o.length>0&&i.push("<Names>"+o+"</Names>"),o=s?Mse(s,t,e,n):"",o.length>0&&i.push("<Table>"+o+"</Table>"),i.push(Tse(s,t,e,n)),i.join("")}function Ase(e,t){t||(t={}),e.SSF||(e.SSF=tr(Dn)),e.SSF&&(rC(),iC(e.SSF),t.revssf=sC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],yl(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(yse(e,t)),n.push(Sse()),n.push(""),n.push("");for(var i=0;i<e.SheetNames.length;++i)n.push(He("Worksheet",_se(i,t,e),{"ss:Name":$t(e.SheetNames[i])}));return n[2]=xse(e,t),n[3]=bse(e),zn+He("Workbook",n.join(""),{xmlns:vr.ss,"xmlns:o":vr.o,"xmlns:x":vr.x,"xmlns:ss":vr.ss,"xmlns:dt":vr.dt,"xmlns:html":vr.html})}var Ty={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Pse(e,t){var n=[],i=[],r=[],s=0,o,a=HF(ZF,"n"),l=HF(JF,"n");if(e.Props)for(o=wi(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?i:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=wi(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?i:r).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<r.length;++s)IO.indexOf(r[s][0])>-1||kO.indexOf(r[s][0])>-1||r[s][1]!=null&&u.push(r[s]);i.length&&tn.utils.cfb_add(t,"/SummaryInformation",rM(i,Ty.SI,l,JF)),(n.length||u.length)&&tn.utils.cfb_add(t,"/DocumentSummaryInformation",rM(n,Ty.DSI,a,ZF,u.length?u:null,Ty.UDI))}function kse(e,t){var n=t||{},i=tn.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return tn.utils.cfb_add(i,r,f4(e,n)),n.biff==8&&(e.Props||e.Custprops)&&Pse(e,i),n.biff==8&&e.vbaraw&&Qte(i,tn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),i}var Ose={0:{f:Nie},1:{f:jie},2:{f:dre},3:{f:Jie},4:{f:qie},5:{f:are},6:{f:mre},7:{f:ire},8:{f:bre},9:{f:xre},10:{f:yre},11:{f:Sre},12:{f:$ie},13:{f:fre},14:{f:tre},15:{f:Qie},16:{f:cre},17:{f:Cre},18:{f:sre},19:{f:Fb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:lse},40:{},42:{},43:{f:mte},44:{f:pte},45:{f:wte},46:{f:Ste},47:{f:yte},48:{},49:{f:$J},50:{},51:{f:Nte},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Kee},62:{f:gre},63:{f:Wte},64:{f:Hre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:lo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Lre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Wie},148:{f:Gie,p:16},151:{f:Mre},152:{},153:{f:ose},154:{},155:{},156:{f:rse},157:{},158:{},159:{T:1,f:rte},160:{T:-1},161:{T:1,f:zc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ere},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lte},336:{T:-1},337:{f:Gte,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:YS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_re},427:{f:Are},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:kre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Rre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:YS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Kte},633:{T:1},634:{T:-1},635:{T:1,f:Yte},636:{T:-1},637:{f:QJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Zre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Gre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ve(e,t,n,i){var r=t;if(!isNaN(r)){var s=i||(n||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&Tb(n)&&e.push(n)}}function Lse(e,t,n,i){var r=(n||[]).length||0;if(r<=8224)return Ve(e,t,n,r);var s=t;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var h=e.next(4);for(h.write_shift(2,s),h.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u;l<r;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;h.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u}}}function Ep(e,t,n){return e||(e=Ee(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function Ise(e,t,n,i){var r=Ee(9);return Ep(r,e,t),BO(n,i||"b",r),r}function Nse(e,t,n){var i=Ee(8+2*n.length);return Ep(i,e,t),i.write_shift(1,n.length),i.write_shift(n.length,n,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function Bse(e,t,n,i){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?er(Bi(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?Ve(e,2,Zee(n,i,r)):Ve(e,3,Qee(n,i,r));return;case"b":case"e":Ve(e,5,Ise(n,i,t.v,t.t));return;case"s":case"str":Ve(e,4,Nse(n,i,(t.v||"").slice(0,255)));return}Ve(e,1,Ep(null,n,i))}function Hse(e,t,n,i){var r=Array.isArray(t),s=dn(t["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Vn(s)}for(var u=s.s.r;u<=s.e.r;++u){a=Ci(u);for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(l[h]=Ti(h)),o=l[h]+a;var p=r?(t[u]||[])[h]:t[o];p&&Bse(e,p,u,h)}}}function Gse(e,t){for(var n=t||{},i=qi(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(r=s);if(r==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ve(i,n.biff==4?1033:n.biff==3?521:9,Ab(e,16,n)),Hse(i,e.Sheets[e.SheetNames[r]],r,n),Ve(i,10),i.end()}function Vse(e,t,n){Ve(e,49,Oee({sz:12,name:"Arial"},n))}function zse(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&Ve(e,1054,Nee(r,t[r],n))})}function Wse(e,t){var n=Ee(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ve(e,2151,n),n=Ee(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),VO(dn(t["!ref"]||"A1"),n),n.write_shift(4,4),Ve(e,2152,n)}function Use(e,t){for(var n=0;n<16;++n)Ve(e,224,oM({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){Ve(e,224,oM(i,0,t))})}function jse(e,t){for(var n=0;n<t["!links"].length;++n){var i=t["!links"][n];Ve(e,440,jee(i)),i[1].Tooltip&&Ve(e,2048,Yee(i))}delete t["!links"]}function Yse(e,t){if(t){var n=0;t.forEach(function(i,r){++n<=256&&i&&Ve(e,125,qee(cC(r,i),r))})}}function $se(e,t,n,i,r){var s=16+yl(r.cellXfs,t,r);if(t.v==null&&!t.bf){Ve(e,513,Tc(n,i,s));return}if(t.bf)Ve(e,6,vie(t,n,i,r,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?er(Bi(t.v)):t.v;Ve(e,515,Vee(n,i,o,s));break;case"b":case"e":Ve(e,517,Gee(n,i,t.v,s,r,t.t));break;case"s":case"str":if(r.bookSST){var a=Ib(r.Strings,t.v,r.revStrings);Ve(e,253,Lee(n,i,a,s))}else Ve(e,516,Iee(n,i,(t.v||"").slice(0,255),s,r));break;default:Ve(e,513,Tc(n,i,s))}}function Kse(e,t,n){var i=qi(),r=n.SheetNames[e],s=n.Sheets[r]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(s),u=t.biff==8,h,p="",g=[],v=dn(s["!ref"]||"A1"),C=u?65536:16384;if(v.e.c>255||v.e.r>=C){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,C-1)}Ve(i,2057,Ab(n,16,t)),Ve(i,13,Vr(1)),Ve(i,12,Vr(100)),Ve(i,15,ki(!0)),Ve(i,17,ki(!1)),Ve(i,16,Ec(.001)),Ve(i,95,ki(!0)),Ve(i,42,ki(!1)),Ve(i,43,ki(!1)),Ve(i,130,Vr(1)),Ve(i,128,Hee()),Ve(i,131,ki(!1)),Ve(i,132,ki(!1)),u&&Yse(i,s["!cols"]),Ve(i,512,Bee(v,t)),u&&(s["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){p=Ci(w);for(var S=v.s.c;S<=v.e.c;++S){w===v.s.r&&(g[S]=Ti(S)),h=g[S]+p;var x=l?(s[w]||[])[S]:s[h];x&&($se(i,x,w,S,t),u&&x.l&&s["!links"].push([h,x.l]))}}var E=a.CodeName||a.name||r;return u&&Ve(i,574,kee((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&Ve(i,229,Uee(s["!merges"])),u&&jse(i,s),Ve(i,442,GO(E)),u&&Wse(i,s),Ve(i,10),i.end()}function qse(e,t,n){var i=qi(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},a=n.biff==8,l=n.biff==5;if(Ve(i,2057,Ab(e,5,n)),n.bookType=="xla"&&Ve(i,135),Ve(i,225,a?Vr(1200):null),Ve(i,193,yee(2)),l&&Ve(i,191),l&&Ve(i,192),Ve(i,226),Ve(i,92,Mee("SheetJS",n)),Ve(i,66,Vr(a?1200:1252)),a&&Ve(i,353,Vr(0)),a&&Ve(i,448),Ve(i,317,Xee(e.SheetNames.length)),a&&e.vbaraw&&Ve(i,211),a&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ve(i,442,GO(u))}Ve(i,156,Vr(17)),Ve(i,25,ki(!1)),Ve(i,18,ki(!1)),Ve(i,19,Vr(0)),a&&Ve(i,431,ki(!1)),a&&Ve(i,444,Vr(0)),Ve(i,61,Pee()),Ve(i,64,ki(!1)),Ve(i,141,Vr(0)),Ve(i,34,ki(ese(e)=="true")),Ve(i,14,ki(!0)),a&&Ve(i,439,ki(!1)),Ve(i,218,Vr(0)),Vse(i,e,n),zse(i,e.SSF,n),Use(i,n),a&&Ve(i,352,ki(!1));var h=i.end(),p=qi();a&&Ve(p,140,$ee()),a&&n.Strings&&Lse(p,252,Aee(n.Strings)),Ve(p,10);var g=p.end(),v=qi(),C=0,w=0;for(w=0;w<e.SheetNames.length;++w)C+=(a?12:11)+(a?2:1)*e.SheetNames[w].length;var S=h.length+C+g.length;for(w=0;w<e.SheetNames.length;++w){var x=s[w]||{};Ve(v,133,_ee({pos:S,hs:x.Hidden||0,dt:0,name:e.SheetNames[w]},n)),S+=t[w].length}var E=v.end();if(C!=E.length)throw new Error("BS8 "+C+" != "+E.length);var T=[];return h.length&&T.push(h),E.length&&T.push(E),g.length&&T.push(g),di(T)}function Xse(e,t){var n=t||{},i=[];e&&!e.SSF&&(e.SSF=tr(Dn)),e&&e.SSF&&(rC(),iC(e.SSF),n.revssf=sC(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Nb(n),n.cellXfs=[],yl(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)i[i.length]=Kse(r,n,e);return i.unshift(qse(e,i,n)),di(i)}function f4(e,t){for(var n=0;n<=e.SheetNames.length;++n){var i=e.Sheets[e.SheetNames[n]];if(!(!i||!i["!ref"])){var r=Er(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Xse(e,t);case 4:case 3:case 2:return Gse(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Qse(e,t,n,i){for(var r=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<r.length;++u)if(!(r[u].s.r>n||r[u].s.c>o)&&!(r[u].e.r<n||r[u].e.c<o)){if(r[u].s.r<n||r[u].s.c<o){a=-1;break}a=r[u].e.r-r[u].s.r+1,l=r[u].e.c-r[u].s.c+1;break}if(!(a<0)){var h=Kt({r:n,c:o}),p=i.dense?(e[n]||[])[o]:e[h],g=p&&p.v!=null&&(p.h||FJ(p.w||(na(p),p.w)||""))||"",v={};a>1&&(v.rowspan=a),l>1&&(v.colspan=l),i.editable?g='<span contenteditable="true">'+g+"</span>":p&&(v["data-t"]=p&&p.t||"z",p.v!=null&&(v["data-v"]=p.v),p.z!=null&&(v["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),v.id=(i.id||"sjs")+"-"+h,s.push(He("td",g,v))}}var C="<tr>";return C+s.join("")+"</tr>"}var Zse='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jse="</body></html>";function eoe(e,t,n){var i=[];return i.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function p4(e,t){var n=t||{},i=n.header!=null?n.header:Zse,r=n.footer!=null?n.footer:Jse,s=[i],o=Er(e["!ref"]);n.dense=Array.isArray(e),s.push(eoe(e,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(Qse(e,o,a,n));return s.push("</table>"+r),s.join("")}function g4(e,t,n){var i=n||{},r=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var o=typeof i.origin=="string"?ii(i.origin):i.origin;r=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r,c:s}};if(e["!ref"]){var h=Er(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),r==-1&&(u.e.r=r=h.e.r+1)}var p=[],g=0,v=e["!rows"]||(e["!rows"]=[]),C=0,w=0,S=0,x=0,E=0,T=0;for(e["!cols"]||(e["!cols"]=[]);C<a.length&&w<l;++C){var R=a[C];if(fM(R)){if(i.display)continue;v[w]={hidden:!0}}var F=R.children;for(S=x=0;S<F.length;++S){var P=F[S];if(!(i.display&&fM(P))){var _=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):PJ(P.innerHTML),L=P.getAttribute("data-z")||P.getAttribute("z");for(g=0;g<p.length;++g){var A=p[g];A.s.c==x+s&&A.s.r<w+r&&w+r<=A.e.r&&(x=A.e.c+1-s,g=-1)}T=+P.getAttribute("colspan")||1,((E=+P.getAttribute("rowspan")||1)>1||T>1)&&p.push({s:{r:w+r,c:x+s},e:{r:w+r+(E||1)-1,c:x+s+(T||1)-1}});var O={t:"s",v:_},I=P.getAttribute("data-t")||P.getAttribute("t")||"";_!=null&&(_.length==0?O.t=I||"z":i.raw||_.trim().length==0||I=="s"||(_==="TRUE"?O={t:"b",v:!0}:_==="FALSE"?O={t:"b",v:!1}:isNaN(Wo(_))?isNaN(Yf(_).getDate())||(O={t:"d",v:Bi(_)},i.cellDates||(O={t:"n",v:er(O.v)}),O.z=i.dateNF||Dn[14]):O={t:"n",v:Wo(_)})),O.z===void 0&&L!=null&&(O.z=L);var z="",J=P.getElementsByTagName("A");if(J&&J.length)for(var ae=0;ae<J.length&&!(J[ae].hasAttribute("href")&&(z=J[ae].getAttribute("href"),z.charAt(0)!="#"));++ae);z&&z.charAt(0)!="#"&&(O.l={Target:z}),i.dense?(e[w+r]||(e[w+r]=[]),e[w+r][x+s]=O):e[Kt({c:x+s,r:w+r})]=O,u.e.c<x+s&&(u.e.c=x+s),x+=T}}++w}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,w-1+r),e["!ref"]=Vn(u),w>=l&&(e["!fullref"]=Vn((u.e.r=a.length-C+w-1+r,u))),e}function m4(e,t){var n=t||{},i=n.dense?[]:{};return g4(i,e,t)}function toe(e,t){return Bc(m4(e,t),t)}function fM(e){var t="",n=noe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function noe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ioe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Kf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zn+t}}(),pM=function(){var e=function(s){return $t(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,i=function(s,o,a){var l=[];l.push('      <table:table table:name="'+$t(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,h=0,p=Er(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,C=Array.isArray(s);if(s["!cols"])for(h=0;h<=p.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var w="",S=s["!rows"]||[];for(u=0;u<p.s.r;++u)w=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;u<=p.e.r;++u){for(w=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+w+`>
`),h=0;h<p.s.c;++h)l.push(t);for(;h<=p.e.c;++h){var x=!1,E={},T="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>h)&&!(g[v].s.r>u)&&!(g[v].e.c<h)&&!(g[v].e.r<u)){(g[v].s.c!=h||g[v].s.r!=u)&&(x=!0),E["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,E["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(x){l.push(n);continue}var R=Kt({r:u,c:h}),F=C?(s[u]||[])[h]:s[R];if(F&&F.f&&(E["table:formula"]=$t(bie(F.f)),F.F&&F.F.slice(0,R.length)==R)){var P=Er(F.F);E["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,E["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!F){l.push(t);continue}switch(F.t){case"b":T=F.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=F.v?"true":"false";break;case"n":T=F.w||String(F.v||0),E["office:value-type"]="float",E["office:value"]=F.v||0;break;case"s":case"str":T=F.v==null?"":F.v,E["office:value-type"]="string";break;case"d":T=F.w||Bi(F.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Bi(F.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(t);continue}var _=e(T);if(F.l&&F.l.Target){var L=F.l.Target;L=L.charAt(0)=="#"?"#"+Eie(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),_=He("text:a",_,{"xlink:href":L.replace(/&/g,"&amp;")})}l.push("          "+He("table:table-cell",He("text:p",_,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},r=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Pb(p),p.ods=a;var g=u["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=l;var p=u["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[zn],u=Kf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Kf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+h+`>
`),l.push(AO().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),r(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)l.push(i(o.Sheets[o.SheetNames[p]],o,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function v4(e,t){if(t.bookType=="fods")return pM(e,t);var n=Sb(),i="",r=[],s=[];return i="mimetype",ht(n,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",ht(n,i,pM(e,t)),r.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",ht(n,i,ioe(e,t)),r.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",ht(n,i,zn+AO()),r.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",ht(n,i,gee(s)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",ht(n,i,fee(r)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function roe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ps($f(e))}function soe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var i=0;i<t.length;++i)if(e[n+i]!=t[i])continue e;return!0}return!1}function hl(e){var t=e.reduce(function(r,s){return r+s.length},0),n=new Uint8Array(t),i=0;return e.forEach(function(r){n.set(r,i),i+=r.length}),n}function ooe(e,t,n){var i=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,r=n/Math.pow(10,i-6176);e[t+15]|=i>>7,e[t+14]|=(i&127)<<1;for(var s=0;r>=1;++s,r/=256)e[t+s]=r&255;e[t+15]|=n>=0?0:128}function qf(e,t){var n=t?t[0]:0,i=e[n]&127;e:if(e[n++]>=128&&(i|=(e[n]&127)<<7,e[n++]<128||(i|=(e[n]&127)<<14,e[n++]<128)||(i|=(e[n]&127)<<21,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),i}function Wt(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function sd(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function jn(e){for(var t=[],n=[0];n[0]<e.length;){var i=n[0],r=qf(e,n),s=r&7;r=Math.floor(r/8);var o=0,a;if(r==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:o=4,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=qf(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(i))}var u={data:a,type:s};t[r]==null?t[r]=[u]:t[r].push(u)}return t}function ci(e){var t=[];return e.forEach(function(n,i){n.forEach(function(r){r.data&&(t.push(Wt(i*8+r.type)),r.type==2&&t.push(Wt(r.data.length)),t.push(r.data))})}),hl(t)}function cs(e){for(var t,n=[],i=[0];i[0]<e.length;){var r=qf(e,i),s=jn(e.slice(i[0],i[0]+r));i[0]+=r;var o={id:sd(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=jn(a.data),u=sd(l[3][0].data);o.messages.push({meta:l,data:e.slice(i[0],i[0]+u)}),i[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=sd(s[3][0].data)>>>0>0),n.push(o)}return n}function _u(e){var t=[];return e.forEach(function(n){var i=[];i[1]=[{data:Wt(n.id),type:0}],i[2]=[],n.merge!=null&&(i[3]=[{data:Wt(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Wt(o.data.length)}],i[2].push({data:ci(o.meta),type:2})});var s=ci(i);t.push(Wt(s.length)),t.push(s),r.forEach(function(o){return t.push(o)})}),hl(t)}function aoe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],i=qf(t,n),r=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}r.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,u=0;if(s==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),r=[hl(r)],l==0)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(r.push(r[0].slice(-l)),u-=l;u>=r[r.length-1].length;)r.push(r[r.length-1]),u-=r[r.length-1].length;r.push(r[0].slice(-l,-l+u))}}var h=hl(r);if(h.length!=i)throw new Error("Unexpected length: ".concat(h.length," != ").concat(i));return h}function us(e){for(var t=[],n=0;n<e.length;){var i=e[n++],r=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(aoe(i,e.slice(n,n+r))),n+=r}if(n!==e.length)throw new Error("data is not a valid framed stream!");return hl(t)}function Au(e){for(var t=[],n=0;n<e.length;){var i=Math.min(e.length-n,268435455),r=new Uint8Array(4);t.push(r);var s=Wt(i),o=s.length;t.push(s),i<=60?(o++,t.push(new Uint8Array([i-1<<2]))):i<=256?(o+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(o+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(o+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(o+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(e.slice(n,n+i)),o+=i,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,n+=i}return hl(t)}function Dy(e,t){var n=new Uint8Array(32),i=cv(n),r=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,ooe(n,r,e.v),s|=1,r+=16;break;case"b":n[1]=6,i.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,i.setUint32(r,t.indexOf(e.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(8,s,!0),n.slice(0,r)}function Ry(e,t){var n=new Uint8Array(32),i=cv(n),r=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,i.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":n[2]=6,i.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,i.setUint32(r,t.indexOf(e.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(4,s,!0),n.slice(0,r)}function ja(e){var t=jn(e);return qf(t[1][0].data)}function loe(e,t,n){var i,r,s,o;if(!((i=e[6])!=null&&i[0])||!((r=e[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&sd(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=cv(e[7][0].data),h=0,p=[],g=cv(e[4][0].data),v=0,C=[],w=0;w<t.length;++w){if(t[w]==null){u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}u.setUint16(w*2,h,!0),g.setUint16(w*2,v,!0);var S,x;switch(typeof t[w]){case"string":S=Dy({t:"s",v:t[w]},n),x=Ry({t:"s",v:t[w]},n);break;case"number":S=Dy({t:"n",v:t[w]},n),x=Ry({t:"n",v:t[w]},n);break;case"boolean":S=Dy({t:"b",v:t[w]},n),x=Ry({t:"b",v:t[w]},n);break;default:throw new Error("Unsupported value "+t[w])}p.push(S),h+=S.length,C.push(x),v+=x.length,++l}for(e[2][0].data=Wt(l);w<e[7][0].data.length/2;++w)u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return e[6][0].data=hl(p),e[3][0].data=hl(C),l}function coe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=Er(n["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(Vn(i)));var s=uv(n,{range:i,header:1}),o=["~Sh33tJ5~"];s.forEach(function(Y){return Y.forEach(function(K){typeof K=="string"&&o.push(K)})});var a={},l=[],u=tn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0],ee=Y[1];if(K.type==2&&K.name.match(/\.iwa/)){var de=K.content,Ie=us(de),Oe=cs(Ie);Oe.forEach(function(_e){l.push(_e.id),a[_e.id]={deps:[],location:ee,type:sd(_e.messages[0].meta[1][0].data)}})}}),l.sort(function(Y,K){return Y-K});var h=l.filter(function(Y){return Y>1}).map(function(Y){return[Y,Wt(Y)]});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0];if(Y[1],!!K.name.match(/\.iwa/)){var ee=cs(us(K.content));ee.forEach(function(de){de.messages.forEach(function(Ie){h.forEach(function(Oe){de.messages.some(function(_e){return sd(_e.meta[1][0].data)!=11006&&soe(_e.data,Oe[1])})&&a[Oe[0]].deps.push(de.id)})})})}});for(var p=tn.find(u,a[1].location),g=cs(us(p.content)),v,C=0;C<g.length;++C){var w=g[C];w.id==1&&(v=w)}var S=ja(jn(v.messages[0].data)[1][0].data);for(p=tn.find(u,a[S].location),g=cs(us(p.content)),C=0;C<g.length;++C)w=g[C],w.id==S&&(v=w);for(S=ja(jn(v.messages[0].data)[2][0].data),p=tn.find(u,a[S].location),g=cs(us(p.content)),C=0;C<g.length;++C)w=g[C],w.id==S&&(v=w);for(S=ja(jn(v.messages[0].data)[2][0].data),p=tn.find(u,a[S].location),g=cs(us(p.content)),C=0;C<g.length;++C)w=g[C],w.id==S&&(v=w);var x=jn(v.messages[0].data);{x[6][0].data=Wt(i.e.r+1),x[7][0].data=Wt(i.e.c+1);var E=ja(x[46][0].data),T=tn.find(u,a[E].location),R=cs(us(T.content));{for(var F=0;F<R.length&&R[F].id!=E;++F);if(R[F].id!=E)throw"Bad ColumnRowUIDMapArchive";var P=jn(R[F].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var _=0;_<=i.e.c;++_){var L=[];L[1]=L[2]=[{type:0,data:Wt(_+420690)}],P[1].push({type:2,data:ci(L)}),P[2].push({type:0,data:Wt(_)}),P[3].push({type:0,data:Wt(_)})}P[4]=[],P[5]=[],P[6]=[];for(var A=0;A<=i.e.r;++A)L=[],L[1]=L[2]=[{type:0,data:Wt(A+726270)}],P[4].push({type:2,data:ci(L)}),P[5].push({type:0,data:Wt(A)}),P[6].push({type:0,data:Wt(A)});R[F].messages[0].data=ci(P)}T.content=Au(_u(R)),T.size=T.content.length,delete x[46];var O=jn(x[4][0].data);{O[7][0].data=Wt(i.e.r+1);var I=jn(O[1][0].data),z=ja(I[2][0].data);T=tn.find(u,a[z].location),R=cs(us(T.content));{if(R[0].id!=z)throw"Bad HeaderStorageBucket";var J=jn(R[0].messages[0].data);for(A=0;A<s.length;++A){var ae=jn(J[2][0].data);ae[1][0].data=Wt(A),ae[4][0].data=Wt(s[A].length),J[2][A]={type:J[2][0].type,data:ci(ae)}}R[0].messages[0].data=ci(J)}T.content=Au(_u(R)),T.size=T.content.length;var ie=ja(O[2][0].data);T=tn.find(u,a[ie].location),R=cs(us(T.content));{if(R[0].id!=ie)throw"Bad HeaderStorageBucket";for(J=jn(R[0].messages[0].data),_=0;_<=i.e.c;++_)ae=jn(J[2][0].data),ae[1][0].data=Wt(_),ae[4][0].data=Wt(i.e.r+1),J[2][_]={type:J[2][0].type,data:ci(ae)};R[0].messages[0].data=ci(J)}T.content=Au(_u(R)),T.size=T.content.length;var j=ja(O[4][0].data);(function(){for(var Y=tn.find(u,a[j].location),K=cs(us(Y.content)),ee,de=0;de<K.length;++de){var Ie=K[de];Ie.id==j&&(ee=Ie)}var Oe=jn(ee.messages[0].data);{Oe[3]=[];var _e=[];o.forEach(function(et,Lt){_e[1]=[{type:0,data:Wt(Lt)}],_e[2]=[{type:0,data:Wt(1)}],_e[3]=[{type:2,data:roe(et)}],Oe[3].push({type:2,data:ci(_e)})})}ee.messages[0].data=ci(Oe);var Pe=_u(K),it=Au(Pe);Y.content=it,Y.size=Y.content.length})();var W=jn(O[3][0].data);{var Q=W[1][0];delete W[2];var ce=jn(Q.data);{var H=ja(ce[2][0].data);(function(){for(var Y=tn.find(u,a[H].location),K=cs(us(Y.content)),ee,de=0;de<K.length;++de){var Ie=K[de];Ie.id==H&&(ee=Ie)}var Oe=jn(ee.messages[0].data);{delete Oe[6],delete W[7];var _e=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Pe=0,it=0;it<=i.e.r;++it){var et=jn(_e);Pe+=loe(et,s[it],o),et[1][0].data=Wt(it),Oe[5].push({data:ci(et),type:2})}Oe[1]=[{type:0,data:Wt(i.e.c+1)}],Oe[2]=[{type:0,data:Wt(i.e.r+1)}],Oe[3]=[{type:0,data:Wt(Pe)}],Oe[4]=[{type:0,data:Wt(i.e.r+1)}]}ee.messages[0].data=ci(Oe);var Lt=_u(K),We=Au(Lt);Y.content=We,Y.size=Y.content.length})()}Q.data=ci(ce)}O[3][0].data=ci(W)}x[4][0].data=ci(O)}v.messages[0].data=ci(x);var le=_u(g),B=Au(le);return p.content=B,p.size=p.content.length,u}function uoe(e){return function(n){for(var i=0;i!=e.length;++i){var r=e[i];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function Nb(e){uoe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function doe(e,t){return t.bookType=="ods"?v4(e,t):t.bookType=="numbers"?coe(e,t):t.bookType=="xlsb"?hoe(e,t):foe(e,t)}function hoe(e,t){Vu=1024,e&&!e.SSF&&(e.SSF=tr(Dn)),e&&e.SSF&&(rC(),iC(e.SSF),t.revssf=sC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",i=JO.indexOf(t.bookType)>-1,r=FO();Nb(t=t||{});var s=Sb(),o="",a=0;if(t.cellXfs=[],yl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ht(s,o,PO(e.Props,t)),r.coreprops.push(o),Yt(t.rels,2,o,At.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,ht(s,o,OO(e.Props)),r.extprops.push(o),Yt(t.rels,3,o,At.EXT_PROPS),e.Custprops!==e.Props&&wi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ht(s,o,LO(e.Custprops)),r.custprops.push(o),Yt(t.rels,4,o,At.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,ht(s,o,gse(a-1,o,t,e,h)),r.sheets.push(o),Yt(t.wbrels,-1,"worksheets/sheet"+a+"."+n,At.WS[0])}if(p){var v=p["!comments"],C=!1,w="";v&&v.length>0&&(w="xl/comments"+a+"."+n,ht(s,w,Cse(v,w)),r.comments.push(w),Yt(h,-1,"../comments"+a+"."+n,At.CMNT),C=!0),p["!legacy"]&&C&&ht(s,"xl/drawings/vmlDrawing"+a+".vml",QO(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&ht(s,_O(o),id(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,ht(s,o,vse(t.Strings,o,t)),r.strs.push(o),Yt(t.wbrels,-1,"sharedStrings."+n,At.SST)),o="xl/workbook."+n,ht(s,o,pse(e,o)),r.workbooks.push(o),Yt(t.rels,1,o,At.WB),o="xl/theme/theme1.xml",ht(s,o,qO(e.Themes,t)),r.themes.push(o),Yt(t.wbrels,-1,"theme/theme1.xml",At.THEME),o="xl/styles."+n,ht(s,o,mse(e,o,t)),r.styles.push(o),Yt(t.wbrels,-1,"styles."+n,At.STY),e.vbaraw&&i&&(o="xl/vbaProject.bin",ht(s,o,e.vbaraw),r.vba.push(o),Yt(t.wbrels,-1,"vbaProject.bin",At.VBA)),o="xl/metadata."+n,ht(s,o,wse(o)),r.metadata.push(o),Yt(t.wbrels,-1,"metadata."+n,At.XLMETA),ht(s,"[Content_Types].xml",MO(r,t)),ht(s,"_rels/.rels",id(t.rels)),ht(s,"xl/_rels/workbook."+n+".rels",id(t.wbrels)),delete t.revssf,delete t.ssf,s}function foe(e,t){Vu=1024,e&&!e.SSF&&(e.SSF=tr(Dn)),e&&e.SSF&&(rC(),iC(e.SSF),t.revssf=sC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",i=JO.indexOf(t.bookType)>-1,r=FO();Nb(t=t||{});var s=Sb(),o="",a=0;if(t.cellXfs=[],yl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ht(s,o,PO(e.Props,t)),r.coreprops.push(o),Yt(t.rels,2,o,At.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,ht(s,o,OO(e.Props)),r.extprops.push(o),Yt(t.rels,3,o,At.EXT_PROPS),e.Custprops!==e.Props&&wi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ht(s,o,LO(e.Custprops)),r.custprops.push(o),Yt(t.rels,4,o,At.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var p={"!id":{}},g=e.Sheets[e.SheetNames[a-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,ht(s,o,l4(a-1,t,e,p)),r.sheets.push(o),Yt(t.wbrels,-1,"worksheets/sheet"+a+"."+n,At.WS[0])}if(g){var C=g["!comments"],w=!1,S="";if(C&&C.length>0){var x=!1;C.forEach(function(E){E[1].forEach(function(T){T.T==!0&&(x=!0)})}),x&&(S="xl/threadedComments/threadedComment"+a+"."+n,ht(s,S,Ute(C,h,t)),r.threadedcomments.push(S),Yt(p,-1,"../threadedComments/threadedComment"+a+"."+n,At.TCMNT)),S="xl/comments"+a+"."+n,ht(s,S,ZO(C)),r.comments.push(S),Yt(p,-1,"../comments"+a+"."+n,At.CMNT),w=!0}g["!legacy"]&&w&&ht(s,"xl/drawings/vmlDrawing"+a+".vml",QO(a,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&ht(s,_O(o),id(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,ht(s,o,WO(t.Strings,t)),r.strs.push(o),Yt(t.wbrels,-1,"sharedStrings."+n,At.SST)),o="xl/workbook."+n,ht(s,o,d4(e)),r.workbooks.push(o),Yt(t.rels,1,o,At.WB),o="xl/theme/theme1.xml",ht(s,o,qO(e.Themes,t)),r.themes.push(o),Yt(t.wbrels,-1,"theme/theme1.xml",At.THEME),o="xl/styles."+n,ht(s,o,$O(e,t)),r.styles.push(o),Yt(t.wbrels,-1,"styles."+n,At.STY),e.vbaraw&&i&&(o="xl/vbaProject.bin",ht(s,o,e.vbaraw),r.vba.push(o),Yt(t.wbrels,-1,"vbaProject.bin",At.VBA)),o="xl/metadata."+n,ht(s,o,XO()),r.metadata.push(o),Yt(t.wbrels,-1,"metadata."+n,At.XLMETA),h.length>1&&(o="xl/persons/person.xml",ht(s,o,jte(h)),r.people.push(o),Yt(t.wbrels,-1,"persons/person.xml",At.PEOPLE)),ht(s,"[Content_Types].xml",MO(r,t)),ht(s,"_rels/.rels",id(t.rels)),ht(s,"xl/_rels/workbook."+n+".rels",id(t.wbrels)),delete t.revssf,delete t.ssf,s}function poe(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ta(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function C4(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return yp(t.file,tn.write(e,{type:kt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return tn.write(e,t)}function goe(e,t){var n=tr(t||{}),i=doe(e,n);return moe(i,n)}function moe(e,t){var n={},i=kt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=i;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?tn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(nC(r))}return t.password&&typeof encrypt_agile<"u"?C4(encrypt_agile(r,t.password),t):t.type==="file"?yp(t.file,r):t.type=="string"?wf(r):r}function voe(e,t){var n=t||{},i=kse(e,n);return C4(i,n)}function Hs(e,t,n){n||(n="");var i=n+e;switch(t.type){case"base64":return jf($f(i));case"binary":return $f(i);case"string":return e;case"file":return yp(t.file,i,"utf8");case"buffer":return kt?da(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Hs(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Coe(e,t){switch(t.type){case"base64":return jf(e);case"binary":return e;case"string":return e;case"file":return yp(t.file,e,"binary");case"buffer":return kt?da(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",i=0;i<e.length;++i)n+=String.fromCharCode(e[i]);return t.type=="base64"?jf(n):t.type=="string"?wf(n):n;case"file":return yp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function w4(e,t){YZ(),ise(e);var n=tr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var i=w4(e,n);return n.type="array",nC(i)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=e.SheetNames.indexOf(n.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Hs(Ase(e,n),n);case"slk":case"sylk":return Hs(ete.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"htm":case"html":return Hs(p4(e.Sheets[e.SheetNames[r]],n),n);case"txt":return Coe(y4(e.Sheets[e.SheetNames[r]],n),n);case"csv":return Hs(Bb(e.Sheets[e.SheetNames[r]],n),n,"\uFEFF");case"dif":return Hs(tte.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"dbf":return dm(Jee.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"prn":return Hs(nte.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"rtf":return Hs(cte.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"eth":return Hs(zO.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"fods":return Hs(v4(e,n),n);case"wk1":return dm(aM.sheet_to_wk1(e.Sheets[e.SheetNames[r]],n),n);case"wk3":return dm(aM.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),dm(f4(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),voe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return goe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function woe(e,t,n,i,r,s,o,a){var l=Ci(n),u=a.defval,h=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),p=!0,g=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!o||e[n])for(var v=t.s.c;v<=t.e.c;++v){var C=o?e[n][v]:e[i[v]+l];if(C===void 0||C.t===void 0){if(u===void 0)continue;s[v]!=null&&(g[s[v]]=u);continue}var w=C.v;switch(C.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(s[v]!=null){if(w==null)if(C.t=="e"&&w===null)g[s[v]]=null;else if(u!==void 0)g[s[v]]=u;else if(h&&w===null)g[s[v]]=null;else continue;else g[s[v]]=h&&(C.t!=="n"||C.t==="n"&&a.rawNumbers!==!1)?w:na(C,w,a);w!=null&&(p=!1)}}return{row:g,isempty:p}}function uv(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},i=0,r=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?i=1:u.header==="A"?i=2:Array.isArray(u.header)?i=3:u.header==null&&(i=0),typeof h){case"string":l=dn(h);break;case"number":l=dn(e["!ref"]),l.s.r=h;break;default:l=h}i>0&&(r=0);var p=Ci(l.s.r),g=[],v=[],C=0,w=0,S=Array.isArray(e),x=l.s.r,E=0,T={};S&&!e[x]&&(e[x]=[]);var R=u.skipHidden&&e["!cols"]||[],F=u.skipHidden&&e["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(R[E]||{}).hidden)switch(g[E]=Ti(E),n=S?e[x][E]:e[g[E]+p],i){case 1:s[E]=E-l.s.c;break;case 2:s[E]=g[E];break;case 3:s[E]=u.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=na(n,null,u),w=T[o]||0,!w)T[o]=1;else{do a=o+"_"+w++;while(T[a]);T[o]=w,T[a]=1}s[E]=a}for(x=l.s.r+r;x<=l.e.r;++x)if(!(F[x]||{}).hidden){var P=woe(e,l,x,g,i,s,S,u);(P.isempty===!1||(i===1?u.blankrows!==!1:u.blankrows))&&(v[C++]=P.row)}return v.length=C,v}var gM=/"/g;function yoe(e,t,n,i,r,s,o,a){for(var l=!0,u=[],h="",p=Ci(n),g=t.s.c;g<=t.e.c;++g)if(i[g]){var v=a.dense?(e[n]||[])[g]:e[i[g]+p];if(v==null)h="";else if(v.v!=null){l=!1,h=""+(a.rawNumbers&&v.t=="n"?v.v:na(v,null,a));for(var C=0,w=0;C!==h.length;++C)if((w=h.charCodeAt(C))===r||w===s||w===34||a.forceQuotes){h='"'+h.replace(gM,'""')+'"';break}h=="ID"&&(h='"ID"')}else v.f!=null&&!v.F?(l=!1,h="="+v.f,h.indexOf(",")>=0&&(h='"'+h.replace(gM,'""')+'"')):h="";u.push(h)}return a.blankrows===!1&&l?null:u.join(o)}function Bb(e,t){var n=[],i=t??{};if(e==null||e["!ref"]==null)return"";var r=dn(e["!ref"]),s=i.FS!==void 0?i.FS:",",o=s.charCodeAt(0),a=i.RS!==void 0?i.RS:`
`,l=a.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),h="",p=[];i.dense=Array.isArray(e);for(var g=i.skipHidden&&e["!cols"]||[],v=i.skipHidden&&e["!rows"]||[],C=r.s.c;C<=r.e.c;++C)(g[C]||{}).hidden||(p[C]=Ti(C));for(var w=0,S=r.s.r;S<=r.e.r;++S)(v[S]||{}).hidden||(h=yoe(e,r,S,p,o,l,s,i),h!=null&&(i.strip&&(h=h.replace(u,"")),(h||i.blankrows!==!1)&&n.push((w++?a:"")+h)));return delete i.dense,n.join("")}function y4(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Bb(e,t);return n}function Soe(e){var t="",n,i="";if(e==null||e["!ref"]==null)return[];var r=dn(e["!ref"]),s="",o=[],a,l=[],u=Array.isArray(e);for(a=r.s.c;a<=r.e.c;++a)o[a]=Ti(a);for(var h=r.s.r;h<=r.e.r;++h)for(s=Ci(h),a=r.s.c;a<=r.e.c;++a)if(t=o[a]+s,n=u?(e[h]||[])[a]:e[t],i="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;i=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)i=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}l[l.length]=t+"="+i}return l}function S4(e,t,n){var i=n||{},r=+!i.skipHeader,s=e||{},o=0,a=0;if(s&&i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var l=typeof i.origin=="string"?ii(i.origin):i.origin;o=l.r,a=l.c}var u,h={s:{c:0,r:0},e:{c:a,r:o+t.length-1+r}};if(s["!ref"]){var p=dn(s["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+r)}else o==-1&&(o=0,h.e.r=t.length-1+r);var g=i.header||[],v=0;t.forEach(function(w,S){wi(w).forEach(function(x){(v=g.indexOf(x))==-1&&(g[v=g.length]=x);var E=w[x],T="z",R="",F=Kt({c:a+v,r:o+S+r});u=Xf(s,F),E&&typeof E=="object"&&!(E instanceof Date)?s[F]=E:(typeof E=="number"?T="n":typeof E=="boolean"?T="b":typeof E=="string"?T="s":E instanceof Date?(T="d",i.cellDates||(T="n",E=er(E)),R=i.dateNF||Dn[14]):E===null&&i.nullError&&(T="e",E=0),u?(u.t=T,u.v=E,delete u.w,delete u.R,R&&(u.z=R)):s[F]=u={t:T,v:E},R&&(u.z=R))})}),h.e.c=Math.max(h.e.c,a+g.length-1);var C=Ci(o);if(r)for(v=0;v<g.length;++v)s[Ti(v+a)+C]={t:"s",v:g[v]};return s["!ref"]=Vn(h),s}function xoe(e,t){return S4(null,e,t)}function Xf(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var i=ii(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Xf(e,Kt(t)):Xf(e,Kt({r:t,c:n||0}))}function boe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Eoe(){return{SheetNames:[],Sheets:{}}}function Toe(e,t,n,i){var r=1;if(!n)for(;r<=65535&&e.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var o=s&&s[1]||n;for(++r;r<=65535&&e.SheetNames.indexOf(n=o+r)!=-1;++r);}if(u4(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function Doe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=boe(e,t);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[i].Hidden=n}function Roe(e,t){return e.z=t,e}function x4(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Foe(e,t,n){return x4(e,"#"+t,n)}function Moe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function _oe(e,t,n,i){for(var r=typeof t!="string"?t:dn(t),s=typeof t=="string"?t:Vn(t),o=r.s.r;o<=r.e.r;++o)for(var a=r.s.c;a<=r.e.c;++a){var l=Xf(e,o,a);l.t="n",l.F=s,delete l.v,o==r.s.r&&a==r.s.c&&(l.f=n,i&&(l.D=!0))}return e}var Fy={encode_col:Ti,encode_row:Ci,encode_cell:Kt,encode_range:Vn,decode_col:Rb,decode_row:Db,split_cell:YJ,decode_cell:ii,decode_range:Er,format_cell:na,sheet_add_aoa:xO,sheet_add_json:S4,sheet_add_dom:g4,aoa_to_sheet:Nd,json_to_sheet:xoe,table_to_sheet:m4,table_to_book:toe,sheet_to_csv:Bb,sheet_to_txt:y4,sheet_to_json:uv,sheet_to_html:p4,sheet_to_formulae:Soe,sheet_to_row_object_array:uv,sheet_get_cell:Xf,book_new:Eoe,book_append_sheet:Toe,book_set_sheet_visibility:Doe,cell_set_number_format:Roe,cell_set_hyperlink:x4,cell_set_internal_link:Foe,cell_add_comment:Moe,sheet_set_array_formula:_oe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},l0={exports:{}},Aoe=l0.exports,mM;function Poe(){return mM||(mM=1,function(e,t){(function(n,i){i()})(Aoe,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function i(u,h,p){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){l(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function r(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Wg=="object"&&Wg.global===Wg?Wg:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,h,p){var g=o.URL||o.webkitURL,v=document.createElement("a");h=h||u.name||"download",v.download=h,v.rel="noopener",typeof u=="string"?(v.href=u,v.origin===location.origin?s(v):r(v.href)?i(u,h,p):s(v,v.target="_blank")):(v.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,p),h);else if(r(u))i(u,h,p);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){s(g)})}}:function(u,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return i(u,h,p);var v=u.type==="application/octet-stream",C=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||v&&C||a)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var T=S.result;T=w?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=T:location=T,g=null},S.readAsDataURL(u)}else{var x=o.URL||o.webkitURL,E=x.createObjectURL(u);g?g.location=E:location.href=E,g=null,setTimeout(function(){x.revokeObjectURL(E)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})}(l0)),l0.exports}var koe=Poe();iB.registerModules([OQ]);VN({theme:"legacy"});const Ooe=e=>{const t=D.useRef(null),[n,i]=D.useState(null),r={flex:e.cellFlex?1:!1,sortable:!!e.sortable,filter:!!e.filter,resizable:!!e.resizable},[s,o]=D.useState(10),[a,l]=D.useState(1),[u,h]=D.useState([]),p=e.usePaginationSelector??!0,g=e.rowData.length,v=Math.ceil(g/s);D.useEffect(()=>{const T=Math.ceil(e.rowData.length/s);if(a>T&&g>0)a!==T&&l(T);else{const R=(a-1)*s,F=R+s;h(e.rowData.slice(R,F))}},[e.rowData,s,a,g]);const C=T=>{T>=1&&T<=v&&l(T)},w=T=>{o(T),l(1)},S=()=>{e.onEditClick(n)},x=()=>{if(!n){console.warn("Grid  .");return}const T=n.getSelectedRows(),R=e.rowData.filter(F=>!T.some(P=>P.id===F.id));e.onDataUpdate?e.onDataUpdate(R,n):console.error("onDataUpdate prop  .")},E=(T,R)=>{if(!T||T.length===0){alert("   .");return}const F=R.filter(I=>I.headerName!=="").map(I=>I.headerName),P=T.map((I,z)=>{const J={};let ae=0;for(let ie=0;ie<R.length;ie++){const j=R[ie];let W;if(j.headerName===""){ae++,console.log(ae);continue}typeof j.valueGetter=="function"?W=j.valueGetter({data:I,node:{rowIndex:z},context:{currentPage:1,pageSize:T.length}}):W=I[j.field],J[j.headerName]=W}return J}),_=Fy.json_to_sheet(P,{header:F}),L=Fy.book_new();Fy.book_append_sheet(L,_,"Sheet1");const A=w4(L,{bookType:"xlsx",type:"array"}),O=new Blob([A],{type:"application/octet-stream"});koe.saveAs(O,"export.xlsx")};return G.jsxs("div",{className:"grid-wrap",children:[e.indicator?G.jsxs("div",{className:"grid-indicator",children:[G.jsx("div",{className:"total-count",children:e.indicator.gridCount?G.jsxs("p",{children:[" ",e.indicator.gridCount," "]}):null}),G.jsxs("div",{className:"",children:[e.indicator.excel?G.jsx(fi,{size:"xs",minWidth:"80px",iconMode:"excel",onClick:()=>E(e.rowData,e.columnDefs),children:""}):null,e.indicator.register?G.jsx(fi,{size:"xs",colorMode:!0,iconMode:"plus",onClick:e.onRegisterClick,children:""}):null,e.indicator.edit?G.jsx(fi,{size:"xs",onClick:S,children:""}):null,e.indicator.delete?G.jsx(fi,{size:"xs",textColor:"text-point-color",onClick:x,children:""}):null]})]}):null,G.jsx("div",{className:"ag-theme-alpine",style:{height:e.height},children:G.jsx(WZ,{ref:t,rowData:u,columnDefs:e.columnDefs,headerHeight:40,defaultColDef:r,suppressMovableColumns:!0,overlayNoRowsTemplate:'<span style="font-size:16px;">  .</span>',context:{currentPage:a,pageSize:s},rowSelection:{mode:e.isCheckboxMode?"multiRow":"single",enableSelectionWithoutKeys:!0},onGridReady:T=>{t.current=T.api,i(T.api);const R=T.columnApi.getAllColumns().find(_=>_.getColDef().checkboxSelection);R&&(T.columnApi.setColumnWidth(R.getId(),50),T.columnApi.setColumnPinned(R.getId(),"left"));const P=T.columnApi.getAllColumns().filter(_=>!_.getColDef().checkboxSelection).map(_=>_.getId());T.columnApi.autoSizeColumns(P)},onFirstDataRendered:T=>{const F=T.columnApi.getAllColumns().filter(P=>!P.getColDef().checkboxSelection).map(P=>P.getId());T.columnApi.autoSizeColumns(F)},onGridSizeChanged:T=>{setTimeout(function(){T.api.sizeColumnsToFit()},0)}})}),G.jsxs("div",{className:"pagination-whole-wrap",children:[G.jsx(kA,{currentPage:a,totalItems:g,pageSize:s,onPageChange:C,type:"list"}),p&&G.jsx(IN,{pageSize:s,onPageSizeChange:w,width:"60px"})]})]})};function b4(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=b4(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function gi(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=b4(e))&&(i&&(i+=" "),i+=t);return i}const E4=6048e5,Loe=864e5,uC=6e4,dC=36e5,Ioe=1e3,vM=Symbol.for("constructDateFrom");function qt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vM in e?e[vM](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xe(e,t){return qt(t||e,e)}function Ss(e,t,n){const i=Xe(e,n?.in);return isNaN(t)?qt(n?.in||e,NaN):(t&&i.setDate(i.getDate()+t),i)}function Es(e,t,n){const i=Xe(e,n?.in);if(isNaN(t))return qt(e,NaN);if(!t)return i;const r=i.getDate(),s=qt(e,i.getTime());s.setMonth(i.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(i.setFullYear(s.getFullYear(),s.getMonth(),r),i)}function T4(e,t,n){return qt(e,+Xe(e)+t)}function Noe(e,t,n){return T4(e,t*dC)}let Boe={};function Wc(){return Boe}function ia(e,t){const n=Wc(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Xe(e,t?.in),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function yd(e,t){return ia(e,{...t,weekStartsOn:1})}function D4(e,t){const n=Xe(e,t?.in),i=n.getFullYear(),r=qt(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=yd(r),o=qt(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=yd(o);return n.getTime()>=s.getTime()?i+1:n.getTime()>=a.getTime()?i:i-1}function dv(e){const t=Xe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ha(e,...t){const n=qt.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Dc(e,t){const n=Xe(e,t?.in);return n.setHours(0,0,0,0),n}function Sd(e,t,n){const[i,r]=ha(n?.in,e,t),s=Dc(i),o=Dc(r),a=+s-dv(s),l=+o-dv(o);return Math.round((a-l)/Loe)}function Hoe(e,t){const n=D4(e,t),i=qt(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),yd(i)}function KS(e,t,n){const i=Xe(e,n?.in);return i.setTime(i.getTime()+t*uC),i}function Hb(e,t,n){return Es(e,t*3,n)}function Goe(e,t,n){return T4(e,t*1e3)}function hv(e,t,n){return Ss(e,t*7,n)}function jo(e,t,n){return Es(e,t*12,n)}function CM(e,t){let n,i=t?.in;return e.forEach(r=>{!i&&typeof r=="object"&&(i=qt.bind(null,r));const s=Xe(r,i);(!n||n<s||isNaN(+s))&&(n=s)}),qt(i,n||NaN)}function wM(e,t){let n,i=t?.in;return e.forEach(r=>{!i&&typeof r=="object"&&(i=qt.bind(null,r));const s=Xe(r,i);(!n||n>s||isNaN(+s))&&(n=s)}),qt(i,n||NaN)}function Voe(e,t,n){const[i,r]=ha(n?.in,e,t);return+Dc(i)==+Dc(r)}function Yo(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fv(e){return!(!Yo(e)&&typeof e!="number"||isNaN(+Xe(e)))}function pv(e,t,n){const[i,r]=ha(n?.in,e,t),s=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return s*12+o}function dc(e,t){const n=Xe(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function gv(e,t,n){const[i,r]=ha(n?.in,e,t),s=i.getFullYear()-r.getFullYear(),o=dc(i)-dc(r);return s*4+o}function mv(e,t,n){const[i,r]=ha(n?.in,e,t);return i.getFullYear()-r.getFullYear()}function zoe(e,t,n){const[i,r]=ha(n?.in,e,t),s=yM(i,r),o=Math.abs(Sd(i,r));i.setDate(i.getDate()-s*o);const a=+(yM(i,r)===-s),l=s*(o-a);return l===0?0:l}function yM(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function R4(e,t){const n=Xe(e,t?.in);return n.setHours(23,59,59,999),n}function F4(e,t){const n=Xe(e,t?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function qS(e,t){const n=Xe(e,t?.in),i=n.getMonth(),r=i-i%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function M4(e,t){const n=Xe(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function _4(e,t){const n=Xe(e,t?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function hC(e,t){const n=Xe(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Woe(e,t){const n=Wc(),i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Xe(e,t?.in),s=r.getDay(),o=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const Uoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},joe=(e,t,n)=>{let i;const r=Uoe[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function od(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Yoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$oe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Koe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qoe={date:od({formats:Yoe,defaultWidth:"full"}),time:od({formats:$oe,defaultWidth:"full"}),dateTime:od({formats:Koe,defaultWidth:"full"})},Xoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qoe=(e,t,n,i)=>Xoe[e];function Ys(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return r[s]}}const Zoe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Joe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rae=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sae={ordinalNumber:rae,era:Ys({values:Zoe,defaultWidth:"wide"}),quarter:Ys({values:Joe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:eae,defaultWidth:"wide"}),day:Ys({values:tae,defaultWidth:"wide"}),dayPeriod:Ys({values:nae,defaultWidth:"wide",formattingValues:iae,defaultFormattingWidth:"wide"})};function $s(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const o=s[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?aae(a,p=>p.test(o)):oae(a,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function oae(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function aae(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function A4(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(r.length);return{value:o,rest:a}}}const lae=/^(\d+)(th|st|nd|rd)?/i,cae=/\d+/i,uae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dae={any:[/^b/i,/^(a|c)/i]},hae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fae={any:[/1/i,/2/i,/3/i,/4/i]},pae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yae={ordinalNumber:A4({matchPattern:lae,parsePattern:cae,valueCallback:e=>parseInt(e,10)}),era:$s({matchPatterns:uae,defaultMatchWidth:"wide",parsePatterns:dae,defaultParseWidth:"any"}),quarter:$s({matchPatterns:hae,defaultMatchWidth:"wide",parsePatterns:fae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$s({matchPatterns:pae,defaultMatchWidth:"wide",parsePatterns:gae,defaultParseWidth:"any"}),day:$s({matchPatterns:mae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any"}),dayPeriod:$s({matchPatterns:Cae,defaultMatchWidth:"any",parsePatterns:wae,defaultParseWidth:"any"})},P4={code:"en-US",formatDistance:joe,formatLong:qoe,formatRelative:Qoe,localize:sae,match:yae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sae(e,t){const n=Xe(e,t?.in);return Sd(n,hC(n))+1}function Gb(e,t){const n=Xe(e,t?.in),i=+yd(n)-+Hoe(n);return Math.round(i/E4)+1}function Vb(e,t){const n=Xe(e,t?.in),i=n.getFullYear(),r=Wc(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=qt(t?.in||e,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=ia(o,t),l=qt(t?.in||e,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const u=ia(l,t);return+n>=+a?i+1:+n>=+u?i:i-1}function xae(e,t){const n=Wc(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Vb(e,t),s=qt(t?.in||e,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),ia(s,t)}function k4(e,t){const n=Xe(e,t?.in),i=+ia(n,t)-+xae(n,t);return Math.round(i/E4)+1}function Ut(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Ya={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ut(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ut(n+1,2)},d(e,t){return Ut(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ut(e.getHours()%12||12,t.length)},H(e,t){return Ut(e.getHours(),t.length)},m(e,t){return Ut(e.getMinutes(),t.length)},s(e,t){return Ut(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Ut(r,t.length)}},Pu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SM={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Ya.y(e,t)},Y:function(e,t,n,i){const r=Vb(e,i),s=r>0?r:1-r;if(t==="YY"){const o=s%100;return Ut(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ut(s,t.length)},R:function(e,t){const n=D4(e);return Ut(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ut(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ut(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ut(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Ya.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ut(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=k4(e,i);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Ut(r,t.length)},I:function(e,t,n){const i=Gb(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ut(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ya.d(e,t)},D:function(e,t,n){const i=Sae(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ut(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ut(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ut(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return Ut(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(i===12?r=Pu.noon:i===0?r=Pu.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(i>=17?r=Pu.evening:i>=12?r=Pu.afternoon:i>=4?r=Pu.morning:r=Pu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ya.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ya.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ut(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ut(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ya.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ya.s(e,t)},S:function(e,t){return Ya.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return bM(i);case"XXXX":case"XX":return Wl(i);case"XXXXX":case"XXX":default:return Wl(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return bM(i);case"xxxx":case"xx":return Wl(i);case"xxxxx":case"xxx":default:return Wl(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xM(i,":");case"OOOO":default:return"GMT"+Wl(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xM(i,":");case"zzzz":default:return"GMT"+Wl(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Ut(i,t.length)},T:function(e,t,n){return Ut(+e,t.length)}};function xM(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+t+Ut(s,2)}function bM(e,t){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):Wl(e,t)}function Wl(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Ut(Math.trunc(i/60),2),s=Ut(i%60,2);return n+r+t+s}const EM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},O4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bae=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return EM(e,t);let s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",EM(i,t)).replace("{{time}}",O4(r,t))},XS={p:O4,P:bae},Eae=/^D+$/,Tae=/^Y+$/,Dae=["D","DD","YY","YYYY"];function Rae(e){return Eae.test(e)}function Fae(e){return Tae.test(e)}function Mae(e,t,n){const i=_ae(e,t,n);if(console.warn(i),Dae.includes(e))throw new RangeError(i)}function _ae(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Aae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kae=/^'([^]*?)'?$/,Oae=/''/g,Lae=/[a-zA-Z]/;function TM(e,t,n){const i=Wc(),r=n?.locale??i.locale??P4,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,a=Xe(e,n?.in);if(!fv(a))throw new RangeError("Invalid time value");let l=t.match(Pae).map(h=>{const p=h[0];if(p==="p"||p==="P"){const g=XS[p];return g(h,r.formatLong)}return h}).join("").match(Aae).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:Iae(h)};if(SM[p])return{isToken:!0,value:h};if(p.match(Lae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(h=>{if(!h.isToken)return h.value;const p=h.value;(!n?.useAdditionalWeekYearTokens&&Fae(p)||!n?.useAdditionalDayOfYearTokens&&Rae(p))&&Mae(p,t,String(e));const g=SM[p[0]];return g(a,p,r.localize,u)}).join("")}function Iae(e){const t=e.match(kae);return t?t[1].replace(Oae,"'"):e}function DM(e,t){return Xe(e,t?.in).getDate()}function Nae(e,t){return Xe(e,t?.in).getDay()}function Bae(e,t){const n=Xe(e,t?.in),i=n.getFullYear(),r=n.getMonth(),s=qt(n,0);return s.setFullYear(i,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Hae(){return Object.assign({},Wc())}function $o(e,t){return Xe(e,t?.in).getHours()}function Gae(e,t){const n=Xe(e,t?.in).getDay();return n===0?7:n}function Ko(e,t){return Xe(e,t?.in).getMinutes()}function Ei(e,t){return Xe(e,t?.in).getMonth()}function sl(e){return Xe(e).getSeconds()}function QS(e){return+Xe(e)}function gt(e,t){return Xe(e,t?.in).getFullYear()}function fl(e,t){return+Xe(e)>+Xe(t)}function Rc(e,t){return+Xe(e)<+Xe(t)}function Vae(e,t){return+Xe(e)==+Xe(t)}function zae(e,t){const n=Wae(t)?new t(0):qt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Wae(e){return typeof e=="function"&&e.prototype?.constructor===e}const Uae=10;class L4{subPriority=0;validate(t,n){return!0}}class jae extends L4{constructor(t,n,i,r,s){super(),this.value=t,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,i){return this.setValue(t,n,this.value,i)}}class Yae extends L4{priority=Uae;subPriority=-1;constructor(t,n){super(),this.context=t||(i=>qt(n,i))}set(t,n){return n.timestampIsSet?t:qt(t,zae(t,this.context))}}class Ot{run(t,n,i,r){const s=this.parse(t,n,i,r);return s?{setter:new jae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,i){return!0}}class $ae extends Ot{priority=140;parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Pn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ks={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function kn(e,t){return e&&{value:t(e.value),rest:e.rest}}function Sn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function qs(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(r*dC+s*uC+o*Ioe),rest:t.slice(n[0].length)}}function I4(e){return Sn(Pn.anyDigitsSigned,e)}function Rn(e,t){switch(e){case 1:return Sn(Pn.singleDigit,t);case 2:return Sn(Pn.twoDigits,t);case 3:return Sn(Pn.threeDigits,t);case 4:return Sn(Pn.fourDigits,t);default:return Sn(new RegExp("^\\d{1,"+e+"}"),t)}}function vv(e,t){switch(e){case 1:return Sn(Pn.singleDigitSigned,t);case 2:return Sn(Pn.twoDigitsSigned,t);case 3:return Sn(Pn.threeDigitsSigned,t);case 4:return Sn(Pn.fourDigitsSigned,t);default:return Sn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function zb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function N4(e,t){const n=t>0,i=n?t:1-t;let r;if(i<=50)r=e||100;else{const s=i+50,o=Math.trunc(s/100)*100,a=e>=s%100;r=e+o-(a?100:0)}return n?r:1-r}function B4(e){return e%400===0||e%4===0&&e%100!==0}class Kae extends Ot{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,i){const r=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return kn(Rn(4,t),r);case"yo":return kn(i.ordinalNumber(t,{unit:"year"}),r);default:return kn(Rn(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const r=t.getFullYear();if(i.isTwoDigitYear){const o=N4(i.year,r);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const s=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class qae extends Ot{priority=130;parse(t,n,i){const r=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return kn(Rn(4,t),r);case"Yo":return kn(i.ordinalNumber(t,{unit:"year"}),r);default:return kn(Rn(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,r){const s=Vb(t,r);if(i.isTwoDigitYear){const a=N4(i.year,s);return t.setFullYear(a,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),ia(t,r)}const o=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(o,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),ia(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Xae extends Ot{priority=130;parse(t,n){return vv(n==="R"?4:n.length,t)}set(t,n,i){const r=qt(t,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),yd(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Qae extends Ot{priority=130;parse(t,n){return vv(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Zae extends Ot{priority=120;parse(t,n,i){switch(n){case"Q":case"QQ":return Rn(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Jae extends Ot{priority=120;parse(t,n,i){switch(n){case"q":case"qq":return Rn(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ele extends Ot{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,i){const r=s=>s-1;switch(n){case"M":return kn(Sn(Pn.month,t),r);case"MM":return kn(Rn(2,t),r);case"Mo":return kn(i.ordinalNumber(t,{unit:"month"}),r);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class tle extends Ot{priority=110;parse(t,n,i){const r=s=>s-1;switch(n){case"L":return kn(Sn(Pn.month,t),r);case"LL":return kn(Rn(2,t),r);case"Lo":return kn(i.ordinalNumber(t,{unit:"month"}),r);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function nle(e,t,n){const i=Xe(e,n?.in),r=k4(i,n)-t;return i.setDate(i.getDate()-r*7),Xe(i,n?.in)}class ile extends Ot{priority=100;parse(t,n,i){switch(n){case"w":return Sn(Pn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Rn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,r){return ia(nle(t,i,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function rle(e,t,n){const i=Xe(e,n?.in),r=Gb(i,n)-t;return i.setDate(i.getDate()-r*7),i}class sle extends Ot{priority=100;parse(t,n,i){switch(n){case"I":return Sn(Pn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Rn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return yd(rle(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ole=[31,28,31,30,31,30,31,31,30,31,30,31],ale=[31,29,31,30,31,30,31,31,30,31,30,31];class lle extends Ot{priority=90;subPriority=1;parse(t,n,i){switch(n){case"d":return Sn(Pn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Rn(n.length,t)}}validate(t,n){const i=t.getFullYear(),r=B4(i),s=t.getMonth();return r?n>=1&&n<=ale[s]:n>=1&&n<=ole[s]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class cle extends Ot{priority=90;subpriority=1;parse(t,n,i){switch(n){case"D":case"DD":return Sn(Pn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Rn(n.length,t)}}validate(t,n){const i=t.getFullYear();return B4(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Wb(e,t,n){const i=Wc(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=Xe(e,n?.in),o=s.getDay(),l=(t%7+7)%7,u=7-r,h=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return Ss(s,h,n)}class ule extends Ot{priority=90;parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,r){return t=Wb(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class dle extends Ot{priority=90;parse(t,n,i,r){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return kn(Rn(n.length,t),s);case"eo":return kn(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,r){return t=Wb(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class hle extends Ot{priority=90;parse(t,n,i,r){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return kn(Rn(n.length,t),s);case"co":return kn(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,r){return t=Wb(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function fle(e,t,n){const i=Xe(e,n?.in),r=Gae(i,n),s=t-r;return Ss(i,s,n)}class ple extends Ot{priority=90;parse(t,n,i){const r=s=>s===0?7:s;switch(n){case"i":case"ii":return Rn(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return kn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return kn(i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return kn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return kn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=fle(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class gle extends Ot{priority=80;parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(zb(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class mle extends Ot{priority=80;parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(zb(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class vle extends Ot{priority=80;parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(zb(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Cle extends Ot{priority=70;parse(t,n,i){switch(n){case"h":return Sn(Pn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const r=t.getHours()>=12;return r&&i<12?t.setHours(i+12,0,0,0):!r&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class wle extends Ot{priority=70;parse(t,n,i){switch(n){case"H":return Sn(Pn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class yle extends Ot{priority=70;parse(t,n,i){switch(n){case"K":return Sn(Pn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Sle extends Ot{priority=70;parse(t,n,i){switch(n){case"k":return Sn(Pn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const r=i<=24?i%24:i;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class xle extends Ot{priority=60;parse(t,n,i){switch(n){case"m":return Sn(Pn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Rn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class ble extends Ot{priority=50;parse(t,n,i){switch(n){case"s":return Sn(Pn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Rn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class Ele extends Ot{priority=30;parse(t,n){const i=r=>Math.trunc(r*Math.pow(10,-n.length+3));return kn(Rn(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class Tle extends Ot{priority=10;parse(t,n){switch(n){case"X":return qs(Ks.basicOptionalMinutes,t);case"XX":return qs(Ks.basic,t);case"XXXX":return qs(Ks.basicOptionalSeconds,t);case"XXXXX":return qs(Ks.extendedOptionalSeconds,t);case"XXX":default:return qs(Ks.extended,t)}}set(t,n,i){return n.timestampIsSet?t:qt(t,t.getTime()-dv(t)-i)}incompatibleTokens=["t","T","x"]}class Dle extends Ot{priority=10;parse(t,n){switch(n){case"x":return qs(Ks.basicOptionalMinutes,t);case"xx":return qs(Ks.basic,t);case"xxxx":return qs(Ks.basicOptionalSeconds,t);case"xxxxx":return qs(Ks.extendedOptionalSeconds,t);case"xxx":default:return qs(Ks.extended,t)}}set(t,n,i){return n.timestampIsSet?t:qt(t,t.getTime()-dv(t)-i)}incompatibleTokens=["t","T","X"]}class Rle extends Ot{priority=40;parse(t){return I4(t)}set(t,n,i){return[qt(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Fle extends Ot{priority=20;parse(t){return I4(t)}set(t,n,i){return[qt(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const Mle={G:new $ae,y:new Kae,Y:new qae,R:new Xae,u:new Qae,Q:new Zae,q:new Jae,M:new ele,L:new tle,w:new ile,I:new sle,d:new lle,D:new cle,E:new ule,e:new dle,c:new hle,i:new ple,a:new gle,b:new mle,B:new vle,h:new Cle,H:new wle,K:new yle,k:new Sle,m:new xle,s:new ble,S:new Ele,X:new Tle,x:new Dle,t:new Rle,T:new Fle},_le=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ale=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ple=/^'([^]*?)'?$/,kle=/''/g,Ole=/\S/,Lle=/[a-zA-Z]/;function Ile(e,t,n,i){const r=()=>qt(i?.in||n,NaN),s=Hae(),o=i?.locale??s.locale??P4,a=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?r():Xe(n,i?.in);const u={firstWeekContainsDate:a,weekStartsOn:l,locale:o},h=[new Yae(i?.in,n)],p=t.match(Ale).map(S=>{const x=S[0];if(x in XS){const E=XS[x];return E(S,o.formatLong)}return S}).join("").match(_le),g=[];for(let S of p){const x=S[0],E=Mle[x];if(E){const{incompatibleTokens:T}=E;if(Array.isArray(T)){const F=g.find(P=>T.includes(P.token)||P.token===x);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${S}\` at the same time`)}else if(E.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);g.push({token:x,fullToken:S});const R=E.run(e,S,o.match,u);if(!R)return r();h.push(R.setter),e=R.rest}else{if(x.match(Lle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if(S==="''"?S="'":x==="'"&&(S=Nle(S)),e.indexOf(S)===0)e=e.slice(S.length);else return r()}}if(e.length>0&&Ole.test(e))return r();const v=h.map(S=>S.priority).sort((S,x)=>x-S).filter((S,x,E)=>E.indexOf(S)===x).map(S=>h.filter(x=>x.priority===S).sort((x,E)=>E.subPriority-x.subPriority)).map(S=>S[0]);let C=Xe(n,i?.in);if(isNaN(+C))return r();const w={};for(const S of v){if(!S.validate(C,u))return r();const x=S.set(C,w,u);Array.isArray(x)?(C=x[0],Object.assign(w,x[1])):C=x}return C}function Nle(e){return e.match(Ple)[1].replace(kle,"'")}function Ble(e,t,n){const[i,r]=ha(n?.in,e,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function Hle(e,t,n){const[i,r]=ha(n?.in,e,t);return+qS(i)==+qS(r)}function Gle(e,t,n){const[i,r]=ha(n?.in,e,t);return i.getFullYear()===r.getFullYear()}function Qf(e,t,n){const i=+Xe(e,n?.in),[r,s]=[+Xe(t.start,n?.in),+Xe(t.end,n?.in)].sort((o,a)=>o-a);return i>=r&&i<=s}function Vle(e,t,n){return Ss(e,-1,n)}function zle(e,t){const n=()=>qt(t?.in,NaN),r=Yle(e);let s;if(r.date){const u=$le(r.date,2);s=Kle(u.restDateString,u.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(r.time&&(a=qle(r.time),isNaN(a)))return n();if(r.timezone){if(l=Xle(r.timezone),isNaN(l))return n()}else{const u=new Date(o+a),h=Xe(0,t?.in);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return Xe(o+a+l,t?.in)}const hm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ule=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yle(e){const t={},n=e.split(hm.dateTimeDelimiter);let i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],hm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hm.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){const r=hm.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function $le(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:e.slice((i[1]||i[2]).length)}}function Kle(e,t){if(t===null)return new Date(NaN);const n=e.match(Wle);if(!n)return new Date(NaN);const i=!!n[4],r=Jh(n[1]),s=Jh(n[2])-1,o=Jh(n[3]),a=Jh(n[4]),l=Jh(n[5])-1;if(i)return tce(t,a,l)?Qle(t,a,l):new Date(NaN);{const u=new Date(0);return!Jle(t,s,o)||!ece(t,r)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(r,o)),u)}}function Jh(e){return e?parseInt(e):1}function qle(e){const t=e.match(Ule);if(!t)return NaN;const n=My(t[1]),i=My(t[2]),r=My(t[3]);return nce(n,i,r)?n*dC+i*uC+r*1e3:NaN}function My(e){return e&&parseFloat(e.replace(",","."))||0}function Xle(e){if(e==="Z")return 0;const t=e.match(jle);if(!t)return 0;const n=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return ice(i,r)?n*(i*dC+r*uC):NaN}function Qle(e,t,n){const i=new Date(0);i.setUTCFullYear(e,0,4);const r=i.getUTCDay()||7,s=(t-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const Zle=[31,null,31,30,31,30,31,31,30,31,30,31];function H4(e){return e%400===0||e%4===0&&e%100!==0}function Jle(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Zle[t]||(H4(e)?29:28))}function ece(e,t){return t>=1&&t<=(H4(e)?366:365)}function tce(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function nce(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ice(e,t){return t>=0&&t<=59}function Ur(e,t,n){const i=Xe(e,n?.in),r=i.getFullYear(),s=i.getDate(),o=qt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=Bae(o);return i.setMonth(t,Math.min(s,a)),i}function c0(e,t,n){const i=Xe(e,n?.in);return i.setHours(t),i}function u0(e,t,n){const i=Xe(e,n?.in);return i.setMinutes(t),i}function Bu(e,t,n){const i=Xe(e,n?.in),r=Math.trunc(i.getMonth()/3)+1,s=t-r;return Ur(i,i.getMonth()+s*3)}function d0(e,t,n){const i=Xe(e,n?.in);return i.setSeconds(t),i}function Vs(e,t,n){const i=Xe(e,n?.in);return isNaN(+i)?qt(e,NaN):(i.setFullYear(t),i)}function hc(e,t,n){return Es(e,-t,n)}function G4(e,t,n){return Hb(e,-1,n)}function RM(e,t,n){return hv(e,-1,n)}function xd(e,t,n){return jo(e,-t,n)}function fC(){return typeof window<"u"}function Gd(e){return V4(e)?(e.nodeName||"").toLowerCase():"#document"}function xr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fo(e){var t;return(t=(V4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function V4(e){return fC()?e instanceof Node||e instanceof xr(e).Node:!1}function Ii(e){return fC()?e instanceof Element||e instanceof xr(e).Element:!1}function co(e){return fC()?e instanceof HTMLElement||e instanceof xr(e).HTMLElement:!1}function FM(e){return!fC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xr(e).ShadowRoot}const rce=new Set(["inline","contents"]);function Tp(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=Zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!rce.has(r)}const sce=new Set(["table","td","th"]);function oce(e){return sce.has(Gd(e))}const ace=[":popover-open",":modal"];function pC(e){return ace.some(t=>{try{return e.matches(t)}catch{return!1}})}const lce=["transform","translate","scale","rotate","perspective"],cce=["transform","translate","scale","rotate","perspective","filter"],uce=["paint","layout","strict","content"];function Ub(e){const t=jb(),n=Ii(e)?Zr(e):e;return lce.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||cce.some(i=>(n.willChange||"").includes(i))||uce.some(i=>(n.contain||"").includes(i))}function dce(e){let t=pl(e);for(;co(t)&&!bd(t);){if(Ub(t))return t;if(pC(t))return null;t=pl(t)}return null}function jb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hce=new Set(["html","body","#document"]);function bd(e){return hce.has(Gd(e))}function Zr(e){return xr(e).getComputedStyle(e)}function gC(e){return Ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pl(e){if(Gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FM(e)&&e.host||fo(e);return FM(t)?t.host:t}function z4(e){const t=pl(e);return bd(t)?e.ownerDocument?e.ownerDocument.body:e.body:co(t)&&Tp(t)?t:z4(t)}function Zf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=z4(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),o=xr(r);if(s){const a=ZS(o);return t.concat(o,o.visualViewport||[],Tp(r)?r:[],a&&n?Zf(a):[])}return t.concat(r,Zf(r,[],n))}function ZS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ed=Math.min,fc=Math.max,Cv=Math.round,fm=Math.floor,ro=e=>({x:e,y:e}),fce={left:"right",right:"left",bottom:"top",top:"bottom"},pce={start:"end",end:"start"};function gce(e,t,n){return fc(e,Ed(t,n))}function mC(e,t){return typeof e=="function"?e(t):e}function Td(e){return e.split("-")[0]}function Dp(e){return e.split("-")[1]}function mce(e){return e==="x"?"y":"x"}function Yb(e){return e==="y"?"height":"width"}const vce=new Set(["top","bottom"]);function Zl(e){return vce.has(Td(e))?"y":"x"}function $b(e){return mce(Zl(e))}function Cce(e,t,n){n===void 0&&(n=!1);const i=Dp(e),r=$b(e),s=Yb(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=wv(o)),[o,wv(o)]}function wce(e){const t=wv(e);return[JS(e),t,JS(t)]}function JS(e){return e.replace(/start|end/g,t=>pce[t])}const MM=["left","right"],_M=["right","left"],yce=["top","bottom"],Sce=["bottom","top"];function xce(e,t,n){switch(e){case"top":case"bottom":return n?t?_M:MM:t?MM:_M;case"left":case"right":return t?yce:Sce;default:return[]}}function bce(e,t,n,i){const r=Dp(e);let s=xce(Td(e),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(JS)))),s}function wv(e){return e.replace(/left|right|bottom|top/g,t=>fce[t])}function Ece(e){return{top:0,right:0,bottom:0,left:0,...e}}function W4(e){return typeof e!="number"?Ece(e):{top:e,right:e,bottom:e,left:e}}function yv(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}var Tce=typeof document<"u",Dce=function(){},Sv=Tce?D.useLayoutEffect:Dce;const Rce={...gA},Fce=Rce.useInsertionEffect,Mce=Fce||(e=>e());function _ce(e){const t=D.useRef(()=>{});return Mce(()=>{t.current=e}),D.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function AM(e,t,n){let{reference:i,floating:r}=e;const s=Zl(t),o=$b(t),a=Yb(o),l=Td(t),u=s==="y",h=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,g=i[a]/2-r[a]/2;let v;switch(l){case"top":v={x:h,y:i.y-r.height};break;case"bottom":v={x:h,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-r.width,y:p};break;default:v={x:i.x,y:i.y}}switch(Dp(t)){case"start":v[o]-=g*(n&&u?-1:1);break;case"end":v[o]+=g*(n&&u?-1:1);break}return v}const Ace=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:h,y:p}=AM(u,i,l),g=i,v={},C=0;for(let w=0;w<a.length;w++){const{name:S,fn:x}=a[w],{x:E,y:T,data:R,reset:F}=await x({x:h,y:p,initialPlacement:i,placement:g,strategy:r,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});h=E??h,p=T??p,v={...v,[S]:{...v[S],...R}},F&&C<=50&&(C++,typeof F=="object"&&(F.placement&&(g=F.placement),F.rects&&(u=F.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):F.rects),{x:h,y:p}=AM(u,g,l)),w=-1)}return{x:h,y:p,placement:g,strategy:r,middlewareData:v}};async function Pce(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=mC(t,e),C=W4(v),S=a[g?p==="floating"?"reference":"floating":p],x=yv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),E=p==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},F=yv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(x.top-F.top+C.top)/R.y,bottom:(F.bottom-x.bottom+C.bottom)/R.y,left:(x.left-F.left+C.left)/R.x,right:(F.right-x.right+C.right)/R.x}}const kce=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:h=0}=mC(e,t)||{};if(u==null)return{};const p=W4(h),g={x:n,y:i},v=$b(r),C=Yb(v),w=await o.getDimensions(u),S=v==="y",x=S?"top":"left",E=S?"bottom":"right",T=S?"clientHeight":"clientWidth",R=s.reference[C]+s.reference[v]-g[v]-s.floating[C],F=g[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=P?P[T]:0;(!_||!await(o.isElement==null?void 0:o.isElement(P)))&&(_=a.floating[T]||s.floating[C]);const L=R/2-F/2,A=_/2-w[C]/2-1,O=Ed(p[x],A),I=Ed(p[E],A),z=O,J=_-w[C]-I,ae=_/2-w[C]/2+L,ie=gce(z,ae,J),j=!l.arrow&&Dp(r)!=null&&ae!==ie&&s.reference[C]/2-(ae<z?O:I)-w[C]/2<0,W=j?ae<z?ae-z:ae-J:0;return{[v]:g[v]+W,data:{[v]:ie,centerOffset:ae-ie-W,...j&&{alignmentOffset:W}},reset:j}}}),Oce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...S}=mC(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Td(r),E=Zl(a),T=Td(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=g||(T||!w?[wv(a)]:wce(a)),P=C!=="none";!g&&P&&F.push(...bce(a,w,C,R));const _=[a,...F],L=await Pce(t,S),A=[];let O=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&A.push(L[x]),p){const ae=Cce(r,o,R);A.push(L[ae[0]],L[ae[1]])}if(O=[...O,{placement:r,overflows:A}],!A.every(ae=>ae<=0)){var I,z;const ae=(((I=s.flip)==null?void 0:I.index)||0)+1,ie=_[ae];if(ie&&(!(p==="alignment"?E!==Zl(ie):!1)||O.every(Q=>Zl(Q.placement)===E?Q.overflows[0]>0:!0)))return{data:{index:ae,overflows:O},reset:{placement:ie}};let j=(z=O.filter(W=>W.overflows[0]<=0).sort((W,Q)=>W.overflows[1]-Q.overflows[1])[0])==null?void 0:z.placement;if(!j)switch(v){case"bestFit":{var J;const W=(J=O.filter(Q=>{if(P){const ce=Zl(Q.placement);return ce===E||ce==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ce=>ce>0).reduce((ce,H)=>ce+H,0)]).sort((Q,ce)=>Q[1]-ce[1])[0])==null?void 0:J[0];W&&(j=W);break}case"initialPlacement":j=a;break}if(r!==j)return{reset:{placement:j}}}return{}}}},Lce=new Set(["left","top"]);async function Ice(e,t){const{placement:n,platform:i,elements:r}=e,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Td(n),a=Dp(n),l=Zl(n)==="y",u=Lce.has(o)?-1:1,h=s&&l?-1:1,p=mC(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof C=="number"&&(v=a==="end"?C*-1:C),l?{x:v*h,y:g*u}:{x:g*u,y:v*h}}const Nce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=t,l=await Ice(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}};function U4(e){const t=Zr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=co(e),s=r?e.offsetWidth:n,o=r?e.offsetHeight:i,a=Cv(n)!==s||Cv(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function Kb(e){return Ii(e)?e:e.contextElement}function ad(e){const t=Kb(e);if(!co(t))return ro(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:s}=U4(t);let o=(s?Cv(n.width):n.width)/i,a=(s?Cv(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Bce=ro(0);function j4(e){const t=xr(e);return!jb()||!t.visualViewport?Bce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hce(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xr(e)?!1:t}function Fc(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=Kb(e);let o=ro(1);t&&(i?Ii(i)&&(o=ad(i)):o=ad(e));const a=Hce(s,n,i)?j4(s):ro(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,h=r.width/o.x,p=r.height/o.y;if(s){const g=xr(s),v=i&&Ii(i)?xr(i):i;let C=g,w=ZS(C);for(;w&&i&&v!==C;){const S=ad(w),x=w.getBoundingClientRect(),E=Zr(w),T=x.left+(w.clientLeft+parseFloat(E.paddingLeft))*S.x,R=x.top+(w.clientTop+parseFloat(E.paddingTop))*S.y;l*=S.x,u*=S.y,h*=S.x,p*=S.y,l+=T,u+=R,C=xr(w),w=ZS(C)}}return yv({width:h,height:p,x:l,y:u})}function qb(e,t){const n=gC(e).scrollLeft;return t?t.left+n:Fc(fo(e)).left+n}function Y4(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=i.left+t.scrollLeft-(n?0:qb(e,i)),s=i.top+t.scrollTop;return{x:r,y:s}}function Gce(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const s=r==="fixed",o=fo(i),a=t?pC(t.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ro(1);const h=ro(0),p=co(i);if((p||!p&&!s)&&((Gd(i)!=="body"||Tp(o))&&(l=gC(i)),co(i))){const v=Fc(i);u=ad(i),h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}const g=o&&!p&&!s?Y4(o,l,!0):ro(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-l.scrollTop*u.y+h.y+g.y}}function Vce(e){return Array.from(e.getClientRects())}function zce(e){const t=fo(e),n=gC(e),i=e.ownerDocument.body,r=fc(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=fc(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+qb(e);const a=-n.scrollTop;return Zr(i).direction==="rtl"&&(o+=fc(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function Wce(e,t){const n=xr(e),i=fo(e),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=jb();(!u||u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}const Uce=new Set(["absolute","fixed"]);function jce(e,t){const n=Fc(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=co(e)?ad(e):ro(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,u=i*s.y;return{width:o,height:a,x:l,y:u}}function PM(e,t,n){let i;if(t==="viewport")i=Wce(e,n);else if(t==="document")i=zce(fo(e));else if(Ii(t))i=jce(t,n);else{const r=j4(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return yv(i)}function $4(e,t){const n=pl(e);return n===t||!Ii(n)||bd(n)?!1:Zr(n).position==="fixed"||$4(n,t)}function Yce(e,t){const n=t.get(e);if(n)return n;let i=Zf(e,[],!1).filter(a=>Ii(a)&&Gd(a)!=="body"),r=null;const s=Zr(e).position==="fixed";let o=s?pl(e):e;for(;Ii(o)&&!bd(o);){const a=Zr(o),l=Ub(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&Uce.has(r.position)||Tp(o)&&!l&&$4(e,o))?i=i.filter(h=>h!==o):r=a,o=pl(o)}return t.set(e,i),i}function $ce(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[...n==="clippingAncestors"?pC(t)?[]:Yce(t,this._c):[].concat(n),i],a=o[0],l=o.reduce((u,h)=>{const p=PM(t,h,r);return u.top=fc(p.top,u.top),u.right=Ed(p.right,u.right),u.bottom=Ed(p.bottom,u.bottom),u.left=fc(p.left,u.left),u},PM(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kce(e){const{width:t,height:n}=U4(e);return{width:t,height:n}}function qce(e,t,n){const i=co(t),r=fo(t),s=n==="fixed",o=Fc(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=ro(0);function u(){l.x=qb(r)}if(i||!i&&!s)if((Gd(t)!=="body"||Tp(r))&&(a=gC(t)),i){const v=Fc(t,!0,s,t);l.x=v.x+t.clientLeft,l.y=v.y+t.clientTop}else r&&u();s&&!i&&r&&u();const h=r&&!i&&!s?Y4(r,a):ro(0),p=o.left+a.scrollLeft-l.x-h.x,g=o.top+a.scrollTop-l.y-h.y;return{x:p,y:g,width:o.width,height:o.height}}function _y(e){return Zr(e).position==="static"}function kM(e,t){if(!co(e)||Zr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fo(e)===n&&(n=n.ownerDocument.body),n}function K4(e,t){const n=xr(e);if(pC(e))return n;if(!co(e)){let r=pl(e);for(;r&&!bd(r);){if(Ii(r)&&!_y(r))return r;r=pl(r)}return n}let i=kM(e,t);for(;i&&oce(i)&&_y(i);)i=kM(i,t);return i&&bd(i)&&_y(i)&&!Ub(i)?n:i||dce(e)||n}const Xce=async function(e){const t=this.getOffsetParent||K4,n=this.getDimensions,i=await n(e.floating);return{reference:qce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Qce(e){return Zr(e).direction==="rtl"}const Zce={convertOffsetParentRelativeRectToViewportRelativeRect:Gce,getDocumentElement:fo,getClippingRect:$ce,getOffsetParent:K4,getElementRects:Xce,getClientRects:Vce,getDimensions:Kce,getScale:ad,isElement:Ii,isRTL:Qce};function q4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jce(e,t){let n=null,i;const r=fo(e);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:h,top:p,width:g,height:v}=u;if(a||t(),!g||!v)return;const C=fm(p),w=fm(r.clientWidth-(h+g)),S=fm(r.clientHeight-(p+v)),x=fm(h),T={rootMargin:-C+"px "+-w+"px "+-S+"px "+-x+"px",threshold:fc(0,Ed(1,l))||1};let R=!0;function F(P){const _=P[0].intersectionRatio;if(_!==l){if(!R)return o();_?o(!1,_):i=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!q4(u,e.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(F,{...T,root:r.ownerDocument})}catch{n=new IntersectionObserver(F,T)}n.observe(e)}return o(!0),s}function eue(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=Kb(e),h=r||s?[...u?Zf(u):[],...Zf(t)]:[];h.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=u&&a?Jce(u,n):null;let g=-1,v=null;o&&(v=new ResizeObserver(x=>{let[E]=x;E&&E.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(t)})),n()}),u&&!l&&v.observe(u),v.observe(t));let C,w=l?Fc(e):null;l&&S();function S(){const x=Fc(e);w&&!q4(w,x)&&n(),w=x,C=requestAnimationFrame(S)}return n(),()=>{var x;h.forEach(E=>{r&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),p?.(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(C)}}const tue=Nce,nue=Oce,OM=kce,iue=(e,t,n)=>{const i=new Map,r={platform:Zce,...n},s={...r.platform,_c:i};return Ace(e,t,{...r,platform:s})};var rue=typeof document<"u",sue=function(){},h0=rue?D.useLayoutEffect:sue;function xv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!xv(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!xv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function X4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LM(e,t){const n=X4(e);return Math.round(t*n)/n}function Ay(e){const t=D.useRef(e);return h0(()=>{t.current=e}),t}function oue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[h,p]=D.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=D.useState(i);xv(g,i)||v(i);const[C,w]=D.useState(null),[S,x]=D.useState(null),E=D.useCallback(Q=>{Q!==P.current&&(P.current=Q,w(Q))},[]),T=D.useCallback(Q=>{Q!==_.current&&(_.current=Q,x(Q))},[]),R=s||C,F=o||S,P=D.useRef(null),_=D.useRef(null),L=D.useRef(h),A=l!=null,O=Ay(l),I=Ay(r),z=Ay(u),J=D.useCallback(()=>{if(!P.current||!_.current)return;const Q={placement:t,strategy:n,middleware:g};I.current&&(Q.platform=I.current),iue(P.current,_.current,Q).then(ce=>{const H={...ce,isPositioned:z.current!==!1};ae.current&&!xv(L.current,H)&&(L.current=H,Wv.flushSync(()=>{p(H)}))})},[g,t,n,I,z]);h0(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[u]);const ae=D.useRef(!1);h0(()=>(ae.current=!0,()=>{ae.current=!1}),[]),h0(()=>{if(R&&(P.current=R),F&&(_.current=F),R&&F){if(O.current)return O.current(R,F,J);J()}},[R,F,J,O,A]);const ie=D.useMemo(()=>({reference:P,floating:_,setReference:E,setFloating:T}),[E,T]),j=D.useMemo(()=>({reference:R,floating:F}),[R,F]),W=D.useMemo(()=>{const Q={position:n,left:0,top:0};if(!j.floating)return Q;const ce=LM(j.floating,h.x),H=LM(j.floating,h.y);return a?{...Q,transform:"translate("+ce+"px, "+H+"px)",...X4(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:H}},[n,a,j.floating,h.x,h.y]);return D.useMemo(()=>({...h,update:J,refs:ie,elements:j,floatingStyles:W}),[h,J,ie,j,W])}const aue=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:r}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?OM({element:i.current,padding:r}).fn(n):{}:i?OM({element:i,padding:r}).fn(n):{}}}},lue=(e,t)=>({...tue(e),options:[e,t]}),cue=(e,t)=>({...nue(e),options:[e,t]}),uue=(e,t)=>({...aue(e),options:[e,t]}),due={...gA};let IM=!1,hue=0;const NM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hue++;function fue(){const[e,t]=D.useState(()=>IM?NM():void 0);return Sv(()=>{e==null&&t(NM())},[]),D.useEffect(()=>{IM=!0},[]),e}const pue=due.useId,Q4=pue||fue,gue=D.forwardRef(function(t,n){const{context:{placement:i,elements:{floating:r},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:h=0,staticOffset:p,stroke:g,d:v,style:{transform:C,...w}={},...S}=t,x=Q4(),[E,T]=D.useState(!1);if(Sv(()=>{if(!r)return;Zr(r).direction==="rtl"&&T(!0)},[r]),!r)return null;const[R,F]=i.split("-"),P=R==="top"||R==="bottom";let _=p;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(_=null);const L=h*2,A=L/2,O=a/2*(u/-8+1),I=l/2*u/4,z=!!v,J=_&&F==="end"?"bottom":"top";let ae=_&&F==="end"?"right":"left";_&&E&&(ae=F==="end"?"left":"right");const ie=s?.x!=null?_||s.x:"",j=s?.y!=null?_||s.y:"",W=v||"M0,0"+(" H"+a)+(" L"+(a-O)+","+(l-I))+(" Q"+a/2+","+l+" "+O+","+(l-I))+" Z",Q={top:z?"rotate(180deg)":"",left:z?"rotate(90deg)":"rotate(-90deg)",bottom:z?"":"rotate(180deg)",right:z?"rotate(-90deg)":"rotate(90deg)"}[R];return G.jsxs("svg",{...S,"aria-hidden":!0,ref:n,width:z?a:a+L,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[ae]:ie,[J]:j,[R]:P||z?"100%":"calc(100% - "+L/2+"px)",transform:[Q,C].filter(ce=>!!ce).join(" "),...w},children:[L>0&&G.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:g,strokeWidth:L+(v?0:1),d:W}),G.jsx("path",{stroke:L&&!v?S.fill:"none",d:W}),G.jsx("clipPath",{id:x,children:G.jsx("rect",{x:-A,y:A*(z?-1:1),width:a+L,height:a})})]})});function mue(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var i;(i=e.get(t))==null||i.delete(n)}}}const vue=D.createContext(null),Cue=D.createContext(null),wue=()=>{var e;return((e=D.useContext(vue))==null?void 0:e.id)||null},yue=()=>D.useContext(Cue);function Sue(e){const{open:t=!1,onOpenChange:n,elements:i}=e,r=Q4(),s=D.useRef({}),[o]=D.useState(()=>mue()),a=wue()!=null,[l,u]=D.useState(i.reference),h=_ce((v,C,w)=>{s.current.openEvent=v?C:void 0,o.emit("openchange",{open:v,event:C,reason:w,nested:a}),n?.(v,C,w)}),p=D.useMemo(()=>({setPositionReference:u}),[]),g=D.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return D.useMemo(()=>({dataRef:s,open:t,onOpenChange:h,elements:g,events:o,floatingId:r,refs:p}),[t,h,g,o,r,p])}function xue(e){e===void 0&&(e={});const{nodeId:t}=e,n=Sue({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,r=i.elements,[s,o]=D.useState(null),[a,l]=D.useState(null),h=r?.domReference||s,p=D.useRef(null),g=yue();Sv(()=>{h&&(p.current=h)},[h]);const v=oue({...e,elements:{...r,...a&&{reference:a}}}),C=D.useCallback(T=>{const R=Ii(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),getClientRects:()=>T.getClientRects(),contextElement:T}:T;l(R),v.refs.setReference(R)},[v.refs]),w=D.useCallback(T=>{(Ii(T)||T===null)&&(p.current=T,o(T)),(Ii(v.refs.reference.current)||v.refs.reference.current===null||T!==null&&!Ii(T))&&v.refs.setReference(T)},[v.refs]),S=D.useMemo(()=>({...v.refs,setReference:w,setPositionReference:C,domReference:p}),[v.refs,w,C]),x=D.useMemo(()=>({...v.elements,domReference:h}),[v.elements,h]),E=D.useMemo(()=>({...v,...i,refs:S,elements:x,nodeId:t}),[v,S,x,t,i]);return Sv(()=>{i.dataRef.current.floatingContext=E;const T=g?.nodesRef.current.find(R=>R.id===t);T&&(T.context=E)}),D.useMemo(()=>({...v,context:E,refs:S,elements:x}),[v,S,x,E])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ex=function(t,n){return ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},ex(t,n)};function si(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ex(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Dt=function(){return Dt=Object.assign||function(n){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Dt.apply(this,arguments)};function Zs(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var bue=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,i=e.showTime,r=i===void 0?!1:i,s=e.className,o=e.children,a=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return te.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},Eue=function(e,t){var n=D.useRef(null),i=D.useRef(e);i.current=e;var r=D.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(o=i.current)===null||o===void 0||o.call(i,s))},[t]);return D.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),n},vC=function(e){var t=e.children,n=e.onClickOutside,i=e.className,r=e.containerRef,s=e.style,o=e.ignoreClass,a=Eue(n,o);return te.createElement("div",{className:i,style:s,ref:function(l){a.current=l,r&&(r.current=l)}},t)},je;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(je||(je={}));function Z4(){var e=typeof window<"u"?window:globalThis;return e}var Rp=12;function Bt(e){if(e==null)return new Date;var t=typeof e=="string"?zle(e):Xe(e);return CC(t)?t:new Date}function Py(e,t,n,i,r){r===void 0&&(r=Bt());for(var s=Dd(n)||Dd(Xb()),o=Array.isArray(t)?t:[t],a=0,l=o;a<l.length;a++){var u=l[a],h=Ile(e,u,r,{locale:s});if(CC(h)&&(!i||e===fn(h,u,n)))return h}return null}function CC(e,t){return fv(e)&&!Rc(e,new Date("1/1/1800"))}function fn(e,t,n){if(n==="en")return TM(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var i=n?Dd(n):void 0;return n&&!i&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),i=i||Dd(Xb()),TM(e,t,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function zr(e,t){var n=t.dateFormat,i=t.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return e&&fn(e,r,i)||""}var J4=" - ";function Tue(e,t,n){if(!e)return"";var i=zr(e,n),r=t?zr(t,n):"";return"".concat(i).concat(J4).concat(r)}function Due(e,t){if(!e?.length)return"";var n=e[0]?zr(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var i=zr(e[1],t);return"".concat(n,", ").concat(i)}var r=e.length-1;return"".concat(n," (+").concat(r,")")}function ky(e,t){var n=t.hour,i=n===void 0?0:n,r=t.minute,s=r===void 0?0:r,o=t.second,a=o===void 0?0:o;return c0(u0(d0(e,a),s),i)}function Rue(e){return Gb(e)}function Fue(e,t){return fn(e,"ddd",t)}function f0(e){return Dc(e)}function ol(e,t,n){var i=Dd(t||Xb());return ia(e,{locale:i,weekStartsOn:n})}function qo(e){return M4(e)}function lf(e){return hC(e)}function BM(e){return qS(e)}function HM(){return Dc(Bt())}function GM(e){return R4(e)}function Mue(e){return Woe(e)}function _ue(e){return F4(e)}function zs(e,t){return e&&t?Gle(e,t):!e&&!t}function Oi(e,t){return e&&t?Ble(e,t):!e&&!t}function bv(e,t){return e&&t?Hle(e,t):!e&&!t}function Tt(e,t){return e&&t?Voe(e,t):!e&&!t}function Jl(e,t){return e&&t?Vae(e,t):!e&&!t}function cf(e,t,n){var i,r=Dc(t),s=R4(n);try{i=Qf(e,{start:r,end:s})}catch{i=!1}return i}function Xb(){var e=Z4();return e.__localeId__}function Dd(e){if(typeof e=="string"){var t=Z4();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Aue(e,t,n){return t(fn(e,"EEEE",n))}function Pue(e,t){return fn(e,"EEEEEE",t)}function kue(e,t){return fn(e,"EEE",t)}function Qb(e,t){return fn(Ur(Bt(),e),"LLLL",t)}function e5(e,t){return fn(Ur(Bt(),e),"LLL",t)}function Oue(e,t){return fn(Bu(Bt(),e),"QQQ",t)}function jr(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return Fp(e,{minDate:i,maxDate:r})||s&&s.some(function(h){return h instanceof Date?Tt(e,h):Tt(e,h.date)})||o&&o.some(function(h){var p=h.start,g=h.end;return Qf(e,{start:p,end:g})})||a&&!a.some(function(h){return Tt(e,h)})||l&&!l.some(function(h){var p=h.start,g=h.end;return Qf(e,{start:p,end:g})})||u&&!u(Bt(e))||!1}function Zb(e,t){var n=t===void 0?{}:t,i=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,a=s.end;return Qf(e,{start:o,end:a})}):i&&i.some(function(s){var o;return s instanceof Date?Tt(e,s):Tt(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function t5(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Fp(e,{minDate:i?M4(i):void 0,maxDate:r?F4(r):void 0})||s?.some(function(l){return Oi(e,l instanceof Date?l:l.date)})||o&&!o.some(function(l){return Oi(e,l)})||a&&!a(Bt(e))||!1}function pm(e,t,n,i){var r=gt(e),s=Ei(e),o=gt(t),a=Ei(t),l=gt(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function Lue(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates;return Fp(e,{minDate:i,maxDate:r})||s&&s.some(function(a){return Oi(a instanceof Date?a:a.date,e)})||o&&!o.some(function(a){return Oi(a,e)})||!1}function gm(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Fp(e,{minDate:i,maxDate:r})||s?.some(function(l){return bv(e,l instanceof Date?l:l.date)})||o&&!o.some(function(l){return bv(e,l)})||a&&!a(Bt(e))||!1}function mm(e,t,n){if(!t||!n||!fv(t)||!fv(n))return!1;var i=gt(t),r=gt(n);return i<=e&&r>=e}function p0(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(e,0,1);return Fp(l,{minDate:i?hC(i):void 0,maxDate:r?_4(r):void 0})||s?.some(function(u){return zs(l,u instanceof Date?u:u.date)})||o&&!o.some(function(u){return zs(l,u)})||a&&!a(Bt(l))||!1}function vm(e,t,n,i){var r=gt(e),s=dc(e),o=gt(t),a=dc(t),l=gt(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function Fp(e,t){var n,i=t===void 0?{}:t,r=i.minDate,s=i.maxDate;return(n=r&&Sd(e,r)<0||s&&Sd(e,s)>0)!==null&&n!==void 0?n:!1}function VM(e,t){return t.some(function(n){return $o(n)===$o(e)&&Ko(n)===Ko(e)&&sl(n)===sl(e)})}function zM(e,t){var n=t===void 0?{}:t,i=n.excludeTimes,r=n.includeTimes,s=n.filterTime;return i&&VM(e,i)||r&&!VM(e,r)||s&&!s(e)||!1}function WM(e,t){var n=t.minTime,i=t.maxTime;if(!n||!i)throw new Error("Both minTime and maxTime props required");var r=Bt();r=c0(r,$o(e)),r=u0(r,Ko(e)),r=d0(r,sl(e));var s=Bt();s=c0(s,$o(n)),s=u0(s,Ko(n)),s=d0(s,sl(n));var o=Bt();o=c0(o,$o(i)),o=u0(o,Ko(i)),o=d0(o,sl(i));var a;try{a=!Qf(r,{start:s,end:o})}catch{a=!1}return a}function UM(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=hc(e,1);return i&&pv(i,s)>0||r&&r.every(function(o){return pv(o,s)>0})||!1}function jM(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=Es(e,1);return i&&pv(s,i)>0||r&&r.every(function(o){return pv(s,o)>0})||!1}function Iue(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=hC(e),o=G4(s);return i&&gv(i,o)>0||r&&r.every(function(a){return gv(a,o)>0})||!1}function Nue(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=_4(e),o=Hb(s,1);return i&&gv(o,i)>0||r&&r.every(function(a){return gv(o,a)>0})||!1}function YM(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=xd(e,1);return i&&mv(i,s)>0||r&&r.every(function(o){return mv(o,s)>0})||!1}function Bue(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.yearItemNumber,s=r===void 0?Rp:r,o=lf(xd(e,s)),a=tl(o,s).endPeriod,l=i&&gt(i);return l&&l>a||!1}function $M(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=jo(e,1);return i&&mv(s,i)>0||r&&r.every(function(o){return mv(s,o)>0})||!1}function Hue(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.yearItemNumber,s=r===void 0?Rp:r,o=jo(e,s),a=tl(o,s).startPeriod,l=i&&gt(i);return l&&l<a||!1}function n5(e){var t=e.minDate,n=e.includeDates;if(n&&t){var i=n.filter(function(r){return Sd(r,t)>=0});return wM(i)}else return n?wM(n):t}function i5(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var i=n.filter(function(r){return Sd(r,t)<=0});return CM(i)}else return n?CM(n):t}function KM(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var i=new Map,r=0,s=e.length;r<s;r++){var o=e[r];if(Yo(o)){var a=fn(o,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(t)||(l.push(t),i.set(a,l))}else if(typeof o=="object"){var u=Object.keys(o),h=(n=u[0])!==null&&n!==void 0?n:"",p=o[h];if(typeof h=="string"&&Array.isArray(p))for(var g=0,v=p.length;g<v;g++){var C=p[g];if(C){var a=fn(C,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(h)||(l.push(h),i.set(a,l))}}}}return i}function Gue(e,t){return e.length!==t.length?!1:e.every(function(n,i){return n===t[i]})}function Vue(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(i){var r=i.date,s=i.holidayName;if(Yo(r)){var o=fn(r,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===t&&Gue(a.holidayNames,[s]))){a.className=t;var l=a.holidayNames;a.holidayNames=l?Zs(Zs([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function zue(e,t,n,i,r){for(var s=r.length,o=[],a=0;a<s;a++){var l=e,u=r[a];u&&(l=Noe(l,$o(u)),l=KS(l,Ko(u)),l=Goe(l,sl(u)));var h=KS(e,(n+1)*i);fl(l,t)&&Rc(l,h)&&u!=null&&o.push(u)}return o}function qM(e){return e<10?"0".concat(e):"".concat(e)}function tl(e,t){t===void 0&&(t=Rp);var n=Math.ceil(gt(e)/t)*t,i=n-(t-1);return{startPeriod:i,endPeriod:n}}function Wue(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function XM(e){var t=e.getSeconds(),n=e.getMilliseconds();return Xe(e.getTime()-t*1e3-n)}function Uue(e,t){return XM(e).getTime()===XM(t).getTime()}function QM(e){if(!Yo(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function ZM(e,t){if(!Yo(e)||!Yo(t))throw new Error("Invalid date received");var n=QM(e),i=QM(t);return Rc(n,i)}function r5(e){return e.key===je.Space}var jue=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.inputRef=te.createRef(),i.onTimeChange=function(r){var s,o;i.setState({time:r});var a=i.props.date,l=a instanceof Date&&!isNaN(+a),u=l?a:new Date;if(r?.includes(":")){var h=r.split(":"),p=h[0],g=h[1];u.setHours(Number(p)),u.setMinutes(Number(g))}(o=(s=i.props).onChange)===null||o===void 0||o.call(s,u)},i.renderTimeInput=function(){var r=i.state.time,s=i.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?D.cloneElement(l,{date:o,value:r,onChange:i.onTimeChange}):te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:i.inputRef,onClick:function(){var u;(u=i.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:r,onChange:function(u){i.onTimeChange(u.target.value||a)}})},i.state={time:i.props.timeString},i}return t.getDerivedStateFromProps=function(n,i){return n.timeString!==i.time?{time:n.timeString}:null},t.prototype.render=function(){return te.createElement("div",{className:"react-datepicker__input-time-container"},te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),te.createElement("div",{className:"react-datepicker-time__input-container"},te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(D.Component),Yue=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=D.createRef(),n.handleClick=function(i){!n.isDisabled()&&n.props.onClick&&n.props.onClick(i)},n.handleMouseEnter=function(i){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===je.Space&&(i.preventDefault(),i.key=je.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isSameDay=function(i){return Tt(n.props.day,i)},n.isKeyboardSelected=function(){var i;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(i){return i===void 0&&(i=n.props.day),jr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Zb(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Tt(n.props.day,ol(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(i){return n.props.showWeekPicker&&Tt(i,ol(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(i){return n.isSameDay(i)||n.isSameWeek(i)},n.getHighLightedClass=function(){var i=n.props,r=i.day,s=i.highlightDates;if(!s)return!1;var o=fn(r,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var i,r=n.props,s=r.day,o=r.holidays;if(!o)return[void 0];var a=fn(s,"MM.dd.yyyy");return o.has(a)?[(i=o.get(a))===null||i===void 0?void 0:i.className]:[void 0]},n.isInRange=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:cf(r,s,o)},n.isInSelectingRange=function(){var i,r=n.props,s=r.day,o=r.selectsStart,a=r.selectsEnd,l=r.selectsRange,u=r.selectsDisabledDaysInRange,h=r.startDate,p=r.endDate,g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(o||a||l)||!g||!u&&n.isDisabled()?!1:o&&p&&(Rc(g,p)||Jl(g,p))?cf(s,g,p):a&&h&&(fl(g,h)||Jl(g,h))||l&&h&&!p&&(fl(g,h)||Jl(g,h))?cf(s,h,g):!1},n.isSelectingRangeStart=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.startDate,a=r.selectsStart,l=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a?Tt(s,l):Tt(s,o)},n.isSelectingRangeEnd=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.endDate,a=r.selectsEnd,l=r.selectsRange,u=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a||l?Tt(s,u):Tt(s,o)},n.isRangeStart=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Tt(s,r)},n.isRangeEnd=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Tt(o,r)},n.isWeekend=function(){var i=Nae(n.props.day);return i===0||i===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ei(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ei(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Bt())},n.isSelected=function(){var i;return n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(i){var r=n.props.dayClassName?n.props.dayClassName(i):void 0;return gi("react-datepicker__day",r,"react-datepicker__day--"+Fue(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var i=n.props,r=i.day,s=i.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=i.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,u=n.isDisabled()||n.isExcluded()?l:o;return"".concat(u," ").concat(fn(r,"PPPP",n.props.locale))},n.getTitle=function(){var i=n.props,r=i.day,s=i.holidays,o=s===void 0?new Map:s,a=i.excludeDates,l=fn(r,"MM.dd.yyyy"),u=[];return o.has(l)&&u.push.apply(u,o.get(l).holidayNames),n.isExcluded()&&u.push(a?.filter(function(h){return h instanceof Date?Tt(h,r):Tt(h?.date,r)}).map(function(h){if(!(h instanceof Date))return h?.message})),u.join(", ")},n.getTabIndex=function(){var i=n.props.selected,r=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(i)&&Tt(r,i))?0:-1;return s},n.handleFocusDay=function(){var i;n.shouldFocusDay()&&((i=n.dayEl.current)===null||i===void 0||i.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(DM(n.props.day),n.props.day):DM(n.props.day)},n.render=function(){return te.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&te.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,i,r;return((i=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||i===void 0?void 0:i.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(D.Component),$ue=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=D.createRef(),n.handleClick=function(i){n.props.onClick&&n.props.onClick(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===je.Space&&(i.preventDefault(),i.key=je.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Tt(n.props.date,n.props.selected)&&Tt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Tt(n.props.date,n.props.selected)&&Tt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(i){var r=!1;n.getTabIndex()===0&&!i?.isInputFocused&&Tt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,i=n.weekNumber,r=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?t.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!r,"react-datepicker__week-number--selected":!!a&&Tt(this.props.date,this.props.selected)};return te.createElement("div",{ref:this.weekNumberEl,className:gi(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)},t}(D.Component),Kue=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(i){return jr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(i,r){n.props.onDayClick&&n.props.onDayClick(i,r)},n.handleDayMouseEnter=function(i){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleWeekClick=function(i,r,s){for(var o,a,l,u=new Date(i),h=0;h<7;h++){var p=new Date(i);p.setDate(p.getDate()+h);var g=!n.isDisabled(p);if(g){u=p;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,r,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(i){return n.props.formatWeekNumber?n.props.formatWeekNumber(i):Rue(i)},n.isWeekDisabled=function(){for(var i=n.startOfWeek(),r=Ss(i,6),s=new Date(i);s<=r;){if(!n.isDisabled(s))return!1;s=Ss(s,1)}return!0},n.renderDays=function(){var i=n.startOfWeek(),r=[],s=n.formatWeekNumber(i);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,i,s):void 0;r.push(te.createElement($ue,Dt({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:i,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(a){var l=Ss(i,a);return te.createElement(Yue,Dt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return ol(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Tt(n.startOfWeek(),n.props.selected)&&Tt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Tt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return te.createElement("div",{className:gi(n)},this.renderDays())},t}(D.Component),ef,que=6,ld={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Oy=(ef={},ef[ld.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ef[ld.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ef[ld.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ef),Cm=1;function JM(e,t){return e?ld.FOUR_COLUMNS:t?ld.TWO_COLUMNS:ld.THREE_COLUMNS}var Xue=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Zs([],Array(12),!0).map(function(){return D.createRef()}),n.QUARTER_REFS=Zs([],Array(4),!0).map(function(){return D.createRef()}),n.isDisabled=function(i){return jr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Zb(i,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(i,r){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,i,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(i){var r,s;(s=(r=n.props).onDayMouseEnter)===null||s===void 0||s.call(r,i)},n.handleMouseLeave=function(){var i,r;(r=(i=n.props).onMouseLeave)===null||r===void 0||r.call(i)},n.isRangeStartMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Oi(Ur(s,i),o)},n.isRangeStartQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:bv(Bu(s,i),o)},n.isRangeEndMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Oi(Ur(s,i),a)},n.isRangeEndQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:bv(Bu(s,i),a)},n.isInSelectingRangeMonth=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,h=s.startDate,p=s.endDate,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||u)||!g?!1:a&&p?pm(g,p,i,o):l&&h||u&&h&&!p?pm(h,g,i,o):!1},n.isSelectingMonthRangeStart=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,u=Ur(o,i),h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?Oi(u,h):Oi(u,a)},n.isSelectingMonthRangeEnd=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,u=s.selectsRange,h=Ur(o,i),p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||u?Oi(h,p):Oi(h,a)},n.isInSelectingRangeQuarter=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,h=s.startDate,p=s.endDate,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||u)||!g?!1:a&&p?vm(g,p,i,o):l&&h||u&&h&&!p?vm(h,g,i,o):!1},n.isWeekInMonth=function(i){var r=n.props.day,s=Ss(i,6);return Oi(i,r)||Oi(s,r)},n.isCurrentMonth=function(i,r){return gt(i)===gt(Bt())&&r===Ei(Bt())},n.isCurrentQuarter=function(i,r){return gt(i)===gt(Bt())&&r===dc(Bt())},n.isSelectedMonth=function(i,r,s){return Ei(s)===r&&gt(i)===gt(s)},n.isSelectMonthInList=function(i,r,s){return s.some(function(o){return n.isSelectedMonth(i,r,o)})},n.isSelectedQuarter=function(i,r,s){return dc(i)===r&&gt(i)===gt(s)},n.isMonthSelected=function(){var i=n.props,r=i.day,s=i.selected,o=i.selectedDates,a=i.selectsMultiple,l=Ei(r);return a?o?.some(function(u){return n.isSelectedMonth(r,l,u)}):!!s&&n.isSelectedMonth(r,l,s)},n.renderWeeks=function(){for(var i=[],r=n.props.fixedHeight,s=0,o=!1,a=ol(qo(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(C){return n.props.showWeekPicker?ol(C,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(C){return n.props.showWeekPicker?ol(C,n.props.locale,n.props.calendarStartDay):n.props.selected},h=n.props.selected?u(n.props.selected):void 0,p=n.props.preSelection?l(n.props.preSelection):void 0;i.push(te.createElement(Kue,Dt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Ei(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:h,preSelection:p,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=hv(a,1);var g=r&&s>=que,v=!r&&!n.isWeekInMonth(a);if(g||v)if(n.props.peekNextMonth)o=!0;else break}return i},n.onMonthClick=function(i,r){var s=n.isMonthDisabledForLabelDate(r),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(qo(a),i)},n.onMonthMouseEnter=function(i){var r=n.isMonthDisabledForLabelDate(i),s=r.isDisabled,o=r.labelDate;s||n.handleDayMouseEnter(qo(o))},n.handleMonthNavigation=function(i,r){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.MONTH_REFS[i])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(i,r,s){var o,a=n.props,l=a.selected,u=a.preSelection,h=a.setPreSelection,p=a.minDate,g=a.maxDate,v=a.showFourColumnMonthYearPicker,C=a.showTwoColumnMonthYearPicker;if(u){var w=JM(v,C),S=n.getVerticalOffset(w),x=(o=Oy[w])===null||o===void 0?void 0:o.grid,E=function(_,L,A){var O,I,z=L,J=A;switch(_){case je.ArrowRight:z=Es(L,Cm),J=A===11?0:A+Cm;break;case je.ArrowLeft:z=hc(L,Cm),J=A===0?11:A-Cm;break;case je.ArrowUp:z=hc(L,S),J=!((O=x?.[0])===null||O===void 0)&&O.includes(A)?A+12-S:A-S;break;case je.ArrowDown:z=Es(L,S),J=!((I=x?.[x.length-1])===null||I===void 0)&&I.includes(A)?A-12+S:A+S;break}return{newCalculatedDate:z,newCalculatedMonth:J}},T=function(_,L,A){for(var O=40,I=_,z=!1,J=0,ae=E(I,L,A),ie=ae.newCalculatedDate,j=ae.newCalculatedMonth;!z;){if(J>=O){ie=L,j=A;break}if(p&&ie<p){I=je.ArrowRight;var W=E(I,ie,j);ie=W.newCalculatedDate,j=W.newCalculatedMonth}if(g&&ie>g){I=je.ArrowLeft;var W=E(I,ie,j);ie=W.newCalculatedDate,j=W.newCalculatedMonth}if(Lue(ie,n.props)){var W=E(I,ie,j);ie=W.newCalculatedDate,j=W.newCalculatedMonth}else z=!0;J++}return{newCalculatedDate:ie,newCalculatedMonth:j}};if(r===je.Enter){n.isMonthDisabled(s)||(n.onMonthClick(i,s),h?.(l));return}var R=T(r,u,s),F=R.newCalculatedDate,P=R.newCalculatedMonth;switch(r){case je.ArrowRight:case je.ArrowLeft:case je.ArrowUp:case je.ArrowDown:n.handleMonthNavigation(P,F);break}}},n.getVerticalOffset=function(i){var r,s;return(s=(r=Oy[i])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(i,r){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=i.key;l!==je.Tab&&i.preventDefault(),o||n.handleKeyboardNavigation(i,l,r),a&&a(i)},n.onQuarterClick=function(i,r){var s=Bu(n.props.day,r);gm(s,n.props)||n.handleDayClick(BM(s),i)},n.onQuarterMouseEnter=function(i){var r=Bu(n.props.day,i);gm(r,n.props)||n.handleDayMouseEnter(BM(r))},n.handleQuarterNavigation=function(i,r){var s,o,a,l;n.isDisabled(r)||n.isExcluded(r)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.QUARTER_REFS[i-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(i,r){var s,o,a=i.key;if(!n.props.disabledKeyboardNavigation)switch(a){case je.Enter:n.onQuarterClick(i,r),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case je.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,Hb(n.props.preSelection,1));break;case je.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,G4(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(i){var r,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,u=s.excludeDates,h=s.includeDates,p=Ur(o,i);return{isDisabled:(r=(a||l||u||h)&&t5(p,n.props))!==null&&r!==void 0?r:!1,labelDate:p}},n.isMonthDisabled=function(i){var r=n.isMonthDisabledForLabelDate(i).isDisabled;return r},n.getMonthClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.preSelection,u=r.monthClassName,h=u?u(Ur(s,i)):void 0,p=n.getSelection();return gi("react-datepicker__month-text","react-datepicker__month-".concat(i),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(i),"react-datepicker__month-text--selected":p?n.isSelectMonthInList(s,i,p):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,i,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(i),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(i),"react-datepicker__month-text--in-range":o&&a?pm(o,a,i,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(i),"react-datepicker__month-text--range-end":n.isRangeEndMonth(i),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(i),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(i),"react-datepicker__month-text--today":n.isCurrentMonth(s,i)})},n.getTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=Ei(n.props.preSelection),s=n.isMonthDisabledForLabelDate(r).isDisabled,o=i===r&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=dc(n.props.preSelection),s=gm(n.props.day,n.props),o=i===r&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(i){var r=n.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=r.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,u=r.day,h=r.locale,p=Ur(u,i),g=n.isDisabled(p)||n.isExcluded(p)?l:o;return"".concat(g," ").concat(fn(p,"MMMM yyyy",h))},n.getQuarterClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.selected,u=r.minDate,h=r.maxDate,p=r.excludeDates,g=r.includeDates,v=r.filterDate,C=r.preSelection,w=r.disabledKeyboardNavigation,S=(u||h||p||g||v)&&gm(Bu(s,i),n.props);return gi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(i),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,i,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&C&&n.isSelectedQuarter(s,i,C)&&!S,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(i),"react-datepicker__quarter-text--in-range":o&&a?vm(o,a,i,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(i),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(i),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,i)})},n.getMonthContent=function(i){var r=n.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,a=r.locale,l=r.day,u=e5(i,a),h=Qb(i,a);return o?o(i,u,h,l):s?h:u},n.getQuarterContent=function(i){var r,s=n.props,o=s.renderQuarterContent,a=s.locale,l=Oue(i,a);return(r=o?.(i,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var i,r=n.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,a=r.day,l=r.selected,u=(i=Oy[JM(o,s)])===null||i===void 0?void 0:i.grid;return u?.map(function(h,p){return te.createElement("div",{className:"react-datepicker__month-wrapper",key:p},h.map(function(g,v){return te.createElement("div",{ref:n.MONTH_REFS[g],key:v,onClick:function(C){n.onMonthClick(C,g)},onKeyDown:function(C){r5(C)&&(C.preventDefault(),C.key=je.Enter),n.onMonthKeyDown(C,g)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(g)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(g)}:void 0,tabIndex:Number(n.getTabIndex(g)),className:n.getMonthClassNames(g),"aria-disabled":n.isMonthDisabled(g),role:"option","aria-label":n.getAriaLabel(g),"aria-current":n.isCurrentMonth(a,g)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,g,l):void 0},n.getMonthContent(g))}))})},n.renderQuarters=function(){var i=n.props,r=i.day,s=i.selected,o=[1,2,3,4];return te.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return te.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,a)},onKeyDown:function(u){n.onQuarterKeyDown(u,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(r,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(r,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var i=n.props,r=i.selectingDate,s=i.selectsStart,o=i.selectsEnd,a=i.showMonthYearPicker,l=i.showQuarterYearPicker,u=i.showWeekPicker;return gi("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,i=n.selected,r=n.selectedDates,s=n.selectsMultiple;if(s)return r;if(i)return[i]},t.prototype.render=function(){var n=this.props,i=n.showMonthYearPicker,r=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(fn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},t}(D.Component),Que=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(i){return n.props.month===i},n.renderOptions=function(){return n.props.monthNames.map(function(i,r){return te.createElement("div",{className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:i,onClick:n.onChange.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",i)})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return te.createElement(vC,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),Zue=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(i){return i.map(function(r,s){return te.createElement("option",{key:r,value:s},r)})},n.renderSelectMode=function(i){return te.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(i))},n.renderReadView=function(i,r){return te.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(i){return te.createElement(Que,Dt({key:"dropdown"},n.props,{monthNames:i,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(i){var r=n.state.dropdownVisible,s=[n.renderReadView(!r,i)];return r&&s.unshift(n.renderDropdown(i)),s},n.onChange=function(i){n.toggleDropdown(),i!==n.props.month&&n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return e5(s,n.props.locale)}:function(s){return Qb(s,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(i);break;case"select":r=this.renderSelectMode(i);break}return te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(D.Component);function Jue(e,t){for(var n=[],i=qo(e),r=qo(t);!fl(i,r);)n.push(Bt(i)),i=Es(i,1);return n}var ede=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.renderOptions=function(){return i.state.monthYearsList.map(function(r){var s=QS(r),o=zs(i.props.date,r)&&Oi(i.props.date,r);return te.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:i.onChange.bind(i,s),"aria-selected":o?"true":void 0},o?te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fn(r,i.props.dateFormat,i.props.locale))})},i.onChange=function(r){return i.props.onChange(r)},i.handleClickOutside=function(){i.props.onCancel()},i.state={monthYearsList:Jue(i.props.minDate,i.props.maxDate)},i}return t.prototype.render=function(){var n=gi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return te.createElement(vC,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),tde=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=qo(n.props.minDate),r=qo(n.props.maxDate),s=[];!fl(i,r);){var o=QS(i);s.push(te.createElement("option",{key:o,value:o},fn(i,n.props.dateFormat,n.props.locale))),i=Es(i,1)}return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return te.createElement("select",{value:QS(qo(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){var r=fn(n.props.date,n.props.dateFormat,n.props.locale);return te.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return te.createElement(ede,Dt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown();var r=Bt(i);zs(n.props.date,r)&&Oi(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(D.Component),nde=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var i,r,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(i=n.header)===null||i===void 0?void 0:i.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(i){var r,s;(n.props.minTime||n.props.maxTime)&&WM(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zM(i,n.props)||(s=(r=n.props).onChange)===null||s===void 0||s.call(r,i)},n.isSelectedTime=function(i){return n.props.selected&&Uue(n.props.selected,i)},n.isDisabledTime=function(i){return(n.props.minTime||n.props.maxTime)&&WM(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zM(i,n.props)},n.liClasses=function(i){var r,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(i):void 0];return n.isSelectedTime(i)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(i)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&($o(i)*3600+Ko(i)*60+sl(i))%(((r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(i,r){var s,o;i.key===je.Space&&(i.preventDefault(),i.key=je.Enter),(i.key===je.ArrowUp||i.key===je.ArrowLeft)&&i.target instanceof HTMLElement&&i.target.previousSibling&&(i.preventDefault(),i.target.previousSibling instanceof HTMLElement&&i.target.previousSibling.focus()),(i.key===je.ArrowDown||i.key===je.ArrowRight)&&i.target instanceof HTMLElement&&i.target.nextSibling&&(i.preventDefault(),i.target.nextSibling instanceof HTMLElement&&i.target.nextSibling.focus()),i.key===je.Enter&&n.handleClick(r),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,i)},n.renderTimes=function(){for(var i,r=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Bt(),l=f0(a),u=n.props.injectTimes&&n.props.injectTimes.sort(function(S,x){return S.getTime()-x.getTime()}),h=60*Wue(a),p=h/o,g=0;g<p;g++){var v=KS(l,g*o);if(r.push(v),u){var C=zue(l,v,g,o,u);r=r.concat(C)}}var w=r.reduce(function(S,x){return x.getTime()<=a.getTime()?x:S},r[0]);return r.map(function(S){return te.createElement("li",{key:S.valueOf(),onClick:n.handleClick.bind(n,S),className:n.liClasses(S),ref:function(x){S===w&&(n.centerLi=x)},onKeyDown:function(x){n.handleOnKeyDown(x,S)},tabIndex:S===w?0:-1,role:"option","aria-selected":n.isSelectedTime(S)?"true":void 0,"aria-disabled":n.isDisabledTime(S)?"true":void 0},fn(S,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?te.createElement(te.Fragment,null):te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){n.header=i}},te.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,i=this.props.monthRef;this.updateContainerHeight(),i&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(i))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,i,r=this.state.height;return te.createElement("div",{className:"react-datepicker__time-container ".concat(((i=this.props.todayButton)!==null&&i!==void 0?i:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),te.createElement("div",{className:"react-datepicker__time"},te.createElement("div",{className:"react-datepicker__time-box"},te.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,i){return i.offsetTop-(n/2-i.clientHeight/2)},t}(D.Component),e_=3,ide=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.YEAR_REFS=Zs([],Array(i.props.yearItemNumber),!0).map(function(){return D.createRef()}),i.isDisabled=function(r){return jr(r,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(r){return Zb(r,{excludeDates:i.props.excludeDates})},i.selectingDate=function(){var r;return(r=i.props.selectingDate)!==null&&r!==void 0?r:i.props.preSelection},i.updateFocusOnPaginate=function(r){var s=function(){var o,a;(a=(o=i.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},i.handleYearClick=function(r,s){i.props.onDayClick&&i.props.onDayClick(r,s)},i.handleYearNavigation=function(r,s){var o,a,l,u,h=i.props,p=h.date,g=h.yearItemNumber;if(!(p===void 0||g===void 0)){var v=tl(p,g).startPeriod;i.isDisabled(s)||i.isExcluded(s)||((a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,s),r-v<0?i.updateFocusOnPaginate(g-(v-r)):r-v>=g?i.updateFocusOnPaginate(Math.abs(g-(r-v))):(u=(l=i.YEAR_REFS[r-v])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},i.isSameDay=function(r,s){return Tt(r,s)},i.isCurrentYear=function(r){return r===gt(Bt())},i.isRangeStart=function(r){return i.props.startDate&&i.props.endDate&&zs(Vs(Bt(),r),i.props.startDate)},i.isRangeEnd=function(r){return i.props.startDate&&i.props.endDate&&zs(Vs(Bt(),r),i.props.endDate)},i.isInRange=function(r){return mm(r,i.props.startDate,i.props.endDate)},i.isInSelectingRange=function(r){var s=i.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate;return!(o||a||l)||!i.selectingDate()?!1:o&&h?mm(r,i.selectingDate(),h):a&&u||l&&u&&!h?mm(r,u,i.selectingDate()):!1},i.isSelectingRangeStart=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.startDate,l=o.selectsStart,u=Vs(Bt(),r);return l?zs(u,(s=i.selectingDate())!==null&&s!==void 0?s:null):zs(u,a??null)},i.isSelectingRangeEnd=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.endDate,l=o.selectsEnd,u=o.selectsRange,h=Vs(Bt(),r);return l||u?zs(h,(s=i.selectingDate())!==null&&s!==void 0?s:null):zs(h,a??null)},i.isKeyboardSelected=function(r){if(!(i.props.date===void 0||i.props.selected==null||i.props.preSelection==null)){var s=i.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,u=s.includeDates,h=s.filterDate,p=lf(Vs(i.props.date,r)),g=(o||a||l||u||h)&&p0(r,i.props);return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!Tt(p,lf(i.props.selected))&&Tt(p,lf(i.props.preSelection))&&!g}},i.isSelectedYear=function(r){var s=i.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l?.some(function(u){return r===gt(u)}):!!a&&r===gt(a)},i.onYearClick=function(r,s){var o=i.props.date;o!==void 0&&i.handleYearClick(lf(Vs(o,s)),r)},i.onYearKeyDown=function(r,s){var o,a,l=r.key,u=i.props,h=u.date,p=u.yearItemNumber,g=u.handleOnKeyDown;if(l!==je.Tab&&r.preventDefault(),!i.props.disabledKeyboardNavigation)switch(l){case je.Enter:if(i.props.selected==null)break;i.onYearClick(r,s),(a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,i.props.selected);break;case je.ArrowRight:if(i.props.preSelection==null)break;i.handleYearNavigation(s+1,jo(i.props.preSelection,1));break;case je.ArrowLeft:if(i.props.preSelection==null)break;i.handleYearNavigation(s-1,xd(i.props.preSelection,1));break;case je.ArrowUp:{if(h===void 0||p===void 0||i.props.preSelection==null)break;var v=tl(h,p).startPeriod,C=e_,w=s-C;if(w<v){var S=p%C;s>=v&&s<v+S?C=S:C+=S,w=s-C}i.handleYearNavigation(w,xd(i.props.preSelection,C));break}case je.ArrowDown:{if(h===void 0||p===void 0||i.props.preSelection==null)break;var x=tl(h,p).endPeriod,C=e_,w=s+C;if(w>x){var S=p%C;s<=x&&s>x-S?C=S:C+=S,w=s+C}i.handleYearNavigation(w,jo(i.props.preSelection,C));break}}g&&g(r)},i.getYearClassNames=function(r){var s=i.props,o=s.date,a=s.minDate,l=s.maxDate,u=s.excludeDates,h=s.includeDates,p=s.filterDate,g=s.yearClassName;return gi("react-datepicker__year-text","react-datepicker__year-".concat(r),o?g?.(Vs(o,r)):void 0,{"react-datepicker__year-text--selected":i.isSelectedYear(r),"react-datepicker__year-text--disabled":(a||l||u||h||p)&&p0(r,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(r),"react-datepicker__year-text--range-start":i.isRangeStart(r),"react-datepicker__year-text--range-end":i.isRangeEnd(r),"react-datepicker__year-text--in-range":i.isInRange(r),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(r),"react-datepicker__year-text--today":i.isCurrentYear(r)})},i.getYearTabIndex=function(r){if(i.props.disabledKeyboardNavigation||i.props.preSelection==null)return"-1";var s=gt(i.props.preSelection),o=p0(r,i.props);return r===s&&!o?"0":"-1"},i.getYearContent=function(r){return i.props.renderYearContent?i.props.renderYearContent(r):r},i}return t.prototype.render=function(){var n=this,i=[],r=this.props,s=r.date,o=r.yearItemNumber,a=r.onYearMouseEnter,l=r.onYearMouseLeave;if(s===void 0)return null;for(var u=tl(s,o),h=u.startPeriod,p=u.endPeriod,g=function(w){i.push(te.createElement("div",{ref:v.YEAR_REFS[w-h],onClick:function(S){n.onYearClick(S,w)},onKeyDown:function(S){r5(S)&&(S.preventDefault(),S.key=je.Enter),n.onYearKeyDown(S,w)},tabIndex:Number(v.getYearTabIndex(w)),className:v.getYearClassNames(w),onMouseEnter:v.props.usePointerEvent?void 0:function(S){return a(S,w)},onPointerEnter:v.props.usePointerEvent?function(S){return a(S,w)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(S){return l(S,w)},onPointerLeave:v.props.usePointerEvent?function(S){return l(S,w)}:void 0,key:w,"aria-current":v.isCurrentYear(w)?"date":void 0},v.getYearContent(w)))},v=this,C=h;C<=p;C++)g(C);return te.createElement("div",{className:"react-datepicker__year"},te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))},t}(D.Component);function rde(e,t,n,i){for(var r=[],s=0;s<2*t+1;s++){var o=e+t-s,a=!0;n&&(a=gt(n)<=o),i&&a&&(a=gt(i)>=o),a&&r.push(o)}return r}var sde=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;i.renderOptions=function(){var a=i.props.year,l=i.state.yearsList.map(function(p){return te.createElement("div",{className:a===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:i.onChange.bind(i,p),"aria-selected":a===p?"true":void 0},a===p?te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",p)}),u=i.props.minDate?gt(i.props.minDate):null,h=i.props.maxDate?gt(i.props.maxDate):null;return(!h||!i.state.yearsList.find(function(p){return p===h}))&&l.unshift(te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:i.incrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!i.state.yearsList.find(function(p){return p===u}))&&l.push(te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:i.decrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},i.onChange=function(a){i.props.onChange(a)},i.handleClickOutside=function(){i.props.onCancel()},i.shiftYears=function(a){var l=i.state.yearsList.map(function(u){return u+a});i.setState({yearsList:l})},i.incrementYears=function(){return i.shiftYears(1)},i.decrementYears=function(){return i.shiftYears(-1)};var r=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=r||(s?10:5);return i.state={yearsList:rde(i.props.year,o,i.props.minDate,i.props.maxDate)},i.dropdownRef=D.createRef(),i}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var i=n.children?Array.from(n.children):null,r=i?i.find(function(s){return s.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=gi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return te.createElement(vC,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),ode=function(e){si(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=n.props.minDate?gt(n.props.minDate):1900,r=n.props.maxDate?gt(n.props.maxDate):2100,s=[],o=i;o<=r;o++)s.push(te.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return te.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){return te.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return n.toggleDropdown(r)}},te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return te.createElement(sde,Dt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown(),i!==n.props.year&&n.props.onChange(i)},n.toggleDropdown=function(i){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,i)})},n.handleYearChange=function(i,r){var s;(s=n.onSelect)===null||s===void 0||s.call(n,i,r),n.setOpen()},n.onSelect=function(i,r){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,i,r)},n.setOpen=function(){var i,r;(r=(i=n.props).setOpen)===null||r===void 0||r.call(i,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(D.Component),ade=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],lde=function(e){var t=(e.className||"").split(/\s+/);return ade.some(function(n){return t.indexOf(n)>=0})},cde=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.monthContainer=void 0,i.handleClickOutside=function(r){i.props.onClickOutside(r)},i.setClickOutsideRef=function(){return i.containerRef.current},i.handleDropdownFocus=function(r){var s,o;lde(r.target)&&((o=(s=i.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},i.getDateInView=function(){var r=i.props,s=r.preSelection,o=r.selected,a=r.openToDate,l=n5(i.props),u=i5(i.props),h=Bt(),p=a||o||s;return p||(l&&Rc(h,l)?l:u&&fl(h,u)?u:h)},i.increaseMonth=function(){i.setState(function(r){var s=r.date;return{date:Es(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.decreaseMonth=function(){i.setState(function(r){var s=r.date;return{date:hc(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.handleDayClick=function(r,s,o){i.props.onSelect(r,s,o),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleDayMouseEnter=function(r){i.setState({selectingDate:r}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(r)},i.handleMonthMouseLeave=function(){i.setState({selectingDate:void 0}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()},i.handleYearMouseEnter=function(r,s){i.setState({selectingDate:Vs(Bt(),s)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(r,s)},i.handleYearMouseLeave=function(r,s){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(r,s)},i.handleYearChange=function(r){var s,o,a,l;(o=(s=i.props).onYearChange)===null||o===void 0||o.call(s,r),i.setState({isRenderAriaLiveMessage:!0}),i.props.adjustDateOnChange&&(i.props.onSelect(r),(l=(a=i.props).setOpen)===null||l===void 0||l.call(a,!0)),i.props.setPreSelection&&i.props.setPreSelection(r)},i.getEnabledPreSelectionDateForMonth=function(r){if(!jr(r,i.props))return r;for(var s=qo(r),o=_ue(r),a=zoe(o,s),l=null,u=0;u<=a;u++){var h=Ss(s,u);if(!jr(h,i.props)){l=h;break}}return l},i.handleMonthChange=function(r){var s,o,a,l=(s=i.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;i.handleCustomMonthChange(l),i.props.adjustDateOnChange&&(i.props.onSelect(l),(a=(o=i.props).setOpen)===null||a===void 0||a.call(o,!0)),i.props.setPreSelection&&i.props.setPreSelection(l)},i.handleCustomMonthChange=function(r){var s,o;(o=(s=i.props).onMonthChange)===null||o===void 0||o.call(s,r),i.setState({isRenderAriaLiveMessage:!0})},i.handleMonthYearChange=function(r){i.handleYearChange(r),i.handleMonthChange(r)},i.changeYear=function(r){i.setState(function(s){var o=s.date;return{date:Vs(o,Number(r))}},function(){return i.handleYearChange(i.state.date)})},i.changeMonth=function(r){i.setState(function(s){var o=s.date;return{date:Ur(o,Number(r))}},function(){return i.handleMonthChange(i.state.date)})},i.changeMonthYear=function(r){i.setState(function(s){var o=s.date;return{date:Vs(Ur(o,Ei(r)),gt(r))}},function(){return i.handleMonthYearChange(i.state.date)})},i.header=function(r){r===void 0&&(r=i.state.date);var s=ol(r,i.props.locale,i.props.calendarStartDay),o=[];return i.props.showWeekNumbers&&o.push(te.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Ss(s,a),u=i.formatWeekday(l,i.props.locale),h=i.props.weekDayClassName?i.props.weekDayClassName(l):void 0;return te.createElement("div",{key:a,"aria-label":fn(l,"EEEE",i.props.locale),className:gi("react-datepicker__day-name",h)},u)}))},i.formatWeekday=function(r,s){return i.props.formatWeekDay?Aue(r,i.props.formatWeekDay,s):i.props.useWeekdaysShort?kue(r,s):Pue(r,s)},i.decreaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:xd(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.clearSelectingDate=function(){i.setState({selectingDate:void 0})},i.renderPreviousButton=function(){var r,s,o;if(!i.props.renderCustomHeader){var a=(r=i.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=i.props.showPreviousMonths?a-1:0,u=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=hc(i.state.date,u),p;switch(!0){case i.props.showMonthYearPicker:p=YM(i.state.date,i.props);break;case i.props.showYearPicker:p=Bue(i.state.date,i.props);break;case i.props.showQuarterYearPicker:p=Iue(i.state.date,i.props);break;default:p=UM(h,i.props);break}if(!(!((o=i.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&p||i.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(C=i.decreaseYear),p&&i.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),C=void 0);var w=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,S=i.props,x=S.previousMonthButtonLabel,E=x===void 0?t.defaultProps.previousMonthButtonLabel:x,T=S.previousYearButtonLabel,R=T===void 0?t.defaultProps.previousYearButtonLabel:T,F=i.props,P=F.previousMonthAriaLabel,_=P===void 0?typeof E=="string"?E:"Previous Month":P,L=F.previousYearAriaLabel,A=L===void 0?typeof R=="string"?R:"Previous Year":L;return te.createElement("button",{type:"button",className:v.join(" "),onClick:C,onKeyDown:i.props.handleOnKeyDown,"aria-label":w?A:_},te.createElement("span",{className:g.join(" ")},w?R:E))}}},i.increaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:jo(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.renderNextButton=function(){var r;if(!i.props.renderCustomHeader){var s;switch(!0){case i.props.showMonthYearPicker:s=$M(i.state.date,i.props);break;case i.props.showYearPicker:s=Hue(i.state.date,i.props);break;case i.props.showQuarterYearPicker:s=Nue(i.state.date,i.props);break;default:s=jM(i.state.date,i.props);break}if(!(!((r=i.props.forceShowMonthNavigation)!==null&&r!==void 0?r:t.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&s||i.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];i.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(l=i.increaseYear),s&&i.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,h=i.props,p=h.nextMonthButtonLabel,g=p===void 0?t.defaultProps.nextMonthButtonLabel:p,v=h.nextYearButtonLabel,C=v===void 0?t.defaultProps.nextYearButtonLabel:v,w=i.props,S=w.nextMonthAriaLabel,x=S===void 0?typeof g=="string"?g:"Next Month":S,E=w.nextYearAriaLabel,T=E===void 0?typeof C=="string"?C:"Next Year":E;return te.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:i.props.handleOnKeyDown,"aria-label":u?T:x},te.createElement("span",{className:a.join(" ")},u?C:g))}}},i.renderCurrentMonth=function(r){r===void 0&&(r=i.state.date);var s=["react-datepicker__current-month"];return i.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),te.createElement("h2",{className:s.join(" ")},fn(r,i.props.dateFormat,i.props.locale))},i.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showYearDropdown||r))return te.createElement(ode,Dt({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeYear,year:gt(i.state.date)}))},i.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthDropdown||r))return te.createElement(Zue,Dt({},t.defaultProps,i.props,{month:Ei(i.state.date),onChange:i.changeMonth}))},i.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthYearDropdown||r))return te.createElement(tde,Dt({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeMonthYear}))},i.handleTodayButtonClick=function(r){i.props.onSelect(HM(),r),i.props.setPreSelection&&i.props.setPreSelection(HM())},i.renderTodayButton=function(){if(!(!i.props.todayButton||i.props.showTimeSelectOnly))return te.createElement("div",{className:"react-datepicker__today-button",onClick:i.handleTodayButtonClick},i.props.todayButton)},i.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return te.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(s),te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(o!==0),i.renderMonthYearDropdown(o!==0),i.renderYearDropdown(o!==0)),te.createElement("div",{className:"react-datepicker__day-names"},i.header(s)))},i.renderCustomHeader=function(r){var s,o,a=r.monthDate,l=r.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var u=UM(i.state.date,i.props),h=jM(i.state.date,i.props),p=YM(i.state.date,i.props),g=$M(i.state.date,i.props),v=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},(o=(s=i.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Dt(Dt({},i.state),{customHeaderCount:l,monthDate:a,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:h,prevYearButtonDisabled:p,nextYearButtonDisabled:g})),v&&te.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))},i.renderYearHeader=function(r){var s=r.monthDate,o=i.props,a=o.showYearPicker,l=o.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,h=tl(s,u),p=h.startPeriod,g=h.endPeriod;return te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(p," - ").concat(g):gt(s))},i.renderHeader=function(r){var s=r.monthDate,o=r.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case i.props.renderCustomHeader!==void 0:return i.renderCustomHeader(l);case(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker):return i.renderYearHeader(l);default:return i.renderDefaultHeader(l)}},i.renderMonths=function(){var r,s;if(!(i.props.showTimeSelectOnly||i.props.showYearPicker)){for(var o=[],a=(r=i.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=i.props.showPreviousMonths?a-1:0,u=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?jo(i.state.date,l):hc(i.state.date,l),h=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:l,p=0;p<a;++p){var g=p-h+l,v=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?jo(u,g):Es(u,g),C="month-".concat(p),w=p<a-1,S=p>0;o.push(te.createElement("div",{key:C,ref:function(x){i.monthContainer=x??void 0},className:"react-datepicker__month-container"},i.renderHeader({monthDate:v,i:p}),te.createElement(Xue,Dt({},t.defaultProps,i.props,{containerRef:i.containerRef,ariaLabelPrefix:i.props.monthAriaLabelPrefix,day:v,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,handleOnMonthKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,orderInDisplay:p,selectingDate:i.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:S}))))}return o}},i.renderYears=function(){if(!i.props.showTimeSelectOnly&&i.props.showYearPicker)return te.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader({monthDate:i.state.date}),te.createElement(ide,Dt({},t.defaultProps,i.props,{selectingDate:i.state.selectingDate,date:i.state.date,onDayClick:i.handleDayClick,clearSelectingDate:i.clearSelectingDate,onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave})))},i.renderTimeSection=function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return te.createElement(nde,Dt({},t.defaultProps,i.props,{onChange:i.props.onTimeChange,format:i.props.timeFormat,intervals:i.props.timeIntervals,monthRef:i.state.monthContainer}))},i.renderInputTimeSection=function(){var r=i.props.selected?new Date(i.props.selected):void 0,s=r&&CC(r)&&!!i.props.selected,o=s?"".concat(qM(r.getHours()),":").concat(qM(r.getMinutes())):"";if(i.props.showTimeInput)return te.createElement(jue,Dt({},t.defaultProps,i.props,{date:r,timeString:o,onChange:i.props.onTimeChange}))},i.renderAriaLiveRegion=function(){var r,s=tl(i.state.date,(r=i.props.yearItemNumber)!==null&&r!==void 0?r:t.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return i.props.showYearPicker?l="".concat(o," - ").concat(a):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?l=gt(i.state.date):l="".concat(Qb(Ei(i.state.date),i.props.locale)," ").concat(gt(i.state.date)),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&l)},i.renderChildren=function(){if(i.props.children)return te.createElement("div",{className:"react-datepicker__children-container"},i.props.children)},i.containerRef=D.createRef(),i.state={date:i.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},i}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rp}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var i=this;if(this.props.preSelection&&(!Tt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!Oi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!Tt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||bue;return te.createElement(vC,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},te.createElement("div",{style:{display:"contents"},ref:this.containerRef},te.createElement(n,{className:gi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(D.Component),ude=function(e){var t=e.icon,n=e.className,i=n===void 0?"":n,r=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return te.createElement("i",{className:"".concat(s," ").concat(t," ").concat(i),"aria-hidden":"true",onClick:r});if(te.isValidElement(t)){var o=t;return te.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(i),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof r=="function"&&r(a)}})}return te.createElement("svg",{className:"".concat(s," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},s5=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.portalRoot=null,i.el=document.createElement("div"),i}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return AA.createPortal(this.props.children,this.el)},t}(D.Component),dde="[tabindex], a, button, input, select, textarea",hde=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},o5=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.getTabChildren=function(){var r;return Array.prototype.slice.call((r=i.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(dde),1,-1).filter(hde)},i.handleFocusStart=function(){var r=i.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},i.handleFocusEnd=function(){var r=i.getTabChildren();r&&r.length>1&&r[0].focus()},i.tabLoopRef=D.createRef(),i}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(D.Component);function fde(e){var t=function(n){var i,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=D.useRef(null),o=xue(Dt({open:!r,whileElementsMounted:eue,placement:n.popperPlacement,middleware:Zs([cue({padding:15}),lue(10),uue({element:s})],(i=n.popperModifiers)!==null&&i!==void 0?i:[],!0)},n.popperProps)),a=Dt(Dt({},n),{hidePopper:r,popperProps:Dt(Dt({},o),{arrowRef:s})});return te.createElement(e,Dt({},a))};return t}var pde=function(e){si(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,i=n.className,r=n.wrapperClassName,s=n.hidePopper,o=s===void 0?t.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,h=n.popperOnKeyDown,p=n.portalId,g=n.portalHost,v=n.popperProps,C=n.showArrow,w=void 0;if(!o){var S=gi("react-datepicker-popper",i);w=te.createElement(o5,{enableTabLoop:u},te.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:S,"data-placement":v.placement,onKeyDown:h},a,C&&te.createElement(gue,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=D.createElement(this.props.popperContainer,{},w)),p&&!o&&(w=te.createElement(s5,{portalId:p,portalHost:g},w));var x=gi("react-datepicker-wrapper",r);return te.createElement(te.Fragment,null,te.createElement("div",{ref:v.refs.setReference,className:x},l),w)},t}(D.Component),gde=fde(pde),t_="react-datepicker-ignore-onclickoutside";function mde(e,t){return e&&t?Ei(e)!==Ei(t)||gt(e)!==gt(t):e!==t}var Ly="Date input not valid.",n_=function(e){si(t,e);function t(n){var i=e.call(this,n)||this;return i.calendar=null,i.input=null,i.getPreSelection=function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:Bt()},i.modifyHolidays=function(){var r;return(r=i.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var a=new Date(o.date);return CC(a)?Zs(Zs([],s,!0),[Dt(Dt({},o),{date:a})],!1):s},[])},i.calcInitialState=function(){var r,s=i.getPreSelection(),o=n5(i.props),a=i5(i.props),l=o&&Rc(s,f0(o))?o:a&&fl(s,GM(a))?a:s;return{open:i.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=i.props.selectsRange?i.props.startDate:i.props.selected)!==null&&r!==void 0?r:l,highlightDates:KM(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},i.resetHiddenStatus=function(){i.setState(Dt(Dt({},i.state),{wasHidden:!1}))},i.setHiddenStatus=function(){i.setState(Dt(Dt({},i.state),{wasHidden:!0}))},i.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&i.setHiddenStatus()},i.clearPreventFocusTimeout=function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)},i.setFocus=function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},i.setBlur=function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r),i.cancelFocusInput()},i.deferBlur=function(){requestAnimationFrame(function(){i.setBlur()})},i.setOpen=function(r,s){s===void 0&&(s=!1),i.setState({open:r,preSelection:r&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Iy},function(){r||i.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&i.deferBlur(),i.setState({inputValue:null})})})},i.inputOk=function(){return Yo(i.state.preSelection)},i.isCalendarOpen=function(){return i.props.open===void 0?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open},i.handleFocus=function(r){var s,o,a=i.state.wasHidden,l=a?i.state.open:!0;a&&i.resetHiddenStatus(),i.state.preventFocus||((o=(s=i.props).onFocus)===null||o===void 0||o.call(s,r),l&&!i.props.preventOpenOnFocus&&!i.props.readOnly&&i.setOpen(!0)),i.setState({focused:!0})},i.sendFocusBackToInput=function(){i.preventFocusTimeout&&i.clearPreventFocusTimeout(),i.setState({preventFocus:!0},function(){i.preventFocusTimeout=setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})})},i.cancelFocusInput=function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=void 0},i.deferFocusInput=function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout(function(){return i.setFocus()},1)},i.handleDropdownFocus=function(){i.cancelFocusInput()},i.handleBlur=function(r){var s,o;(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&((o=(s=i.props).onBlur)===null||o===void 0||o.call(s,r)),i.state.open&&i.props.open===!1&&i.setOpen(!1),i.setState({focused:!1})},i.handleCalendarClickOutside=function(r){var s,o;i.props.inline||i.setOpen(!1),(o=(s=i.props).onClickOutside)===null||o===void 0||o.call(s,r),i.props.withPortal&&r.preventDefault()},i.handleChange=function(){for(var r,s,o,a,l,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var p=u[0];if(!(i.props.onChangeRaw&&(i.props.onChangeRaw.apply(i,u),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){i.setState({inputValue:p?.target instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:vde});var g=i.props,v=g.selectsRange,C=g.startDate,w=g.endDate,S=(r=i.props.dateFormat)!==null&&r!==void 0?r:t.defaultProps.dateFormat,x=(s=i.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,E=p?.target instanceof HTMLInputElement?p.target.value:"";if(v){var T=E.split(S.includes("-")?J4:"-",2).map(function(I){return I.trim()}),R=T[0],F=T[1],P=Py(R??"",S,i.props.locale,x),_=Py(F??"",S,i.props.locale,x),L=C?.getTime()!==P?.getTime(),A=w?.getTime()!==_?.getTime();if(!L&&!A||P&&jr(P,i.props)||_&&jr(_,i.props))return;(a=(o=i.props).onChange)===null||a===void 0||a.call(o,[P,_],p)}else{var O=Py(E,S,i.props.locale,x,(l=i.props.selected)!==null&&l!==void 0?l:void 0);(O||!E)&&i.setSelected(O,p,!0)}}},i.handleSelect=function(r,s,o){if(!i.props.readOnly){if(i.props.shouldCloseOnSelect&&!i.props.showTimeSelect&&i.sendFocusBackToInput(),i.props.onChangeRaw&&i.props.onChangeRaw(s),i.setSelected(r,s,!1,o),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(r);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var a=i.props,l=a.startDate,u=a.endDate;l&&!u&&(i.props.swapRange||!ZM(r,l))&&i.setOpen(!1)}}},i.setSelected=function(r,s,o,a){var l,u,h=r;if(i.props.showYearPicker){if(h!==null&&p0(gt(h),i.props))return}else if(i.props.showMonthYearPicker){if(h!==null&&t5(h,i.props))return}else if(h!==null&&jr(h,i.props))return;var p=i.props,g=p.onChange,v=p.selectsRange,C=p.startDate,w=p.endDate,S=p.selectsMultiple,x=p.selectedDates,E=p.minTime,T=p.swapRange;if(!Jl(i.props.selected,h)||i.props.allowSameDay||v||S)if(h!==null&&(i.props.selected&&(!o||!i.props.showTimeSelect&&!i.props.showTimeSelectOnly&&!i.props.showTimeInput)&&(h=ky(h,{hour:$o(i.props.selected),minute:Ko(i.props.selected),second:sl(i.props.selected)})),!o&&(i.props.showTimeSelect||i.props.showTimeSelectOnly)&&E&&(h=ky(h,{hour:E.getHours(),minute:E.getMinutes(),second:E.getSeconds()})),i.props.inline||i.setState({preSelection:h}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:a})),v){var R=!C&&!w,F=C&&!w,P=C&&w;R?g?.([h,null],s):F&&(h===null?g?.([null,null],s):ZM(h,C)?g?.(T?[h,C]:[h,null],s):g?.([C,h],s)),P&&g?.([h,null],s)}else if(S){if(h!==null)if(!x?.length)g?.([h],s);else{var _=x.some(function(A){return Tt(A,h)});if(_){var L=x.filter(function(A){return!Tt(A,h)});g?.(L,s)}else g?.(Zs(Zs([],x,!0),[h],!1),s)}}else g?.(h,s);o||((u=(l=i.props).onSelect)===null||u===void 0||u.call(l,h,s),i.setState({inputValue:null}))},i.setPreSelection=function(r){if(!i.props.readOnly){var s=Yo(i.props.minDate),o=Yo(i.props.maxDate),a=!0;if(r){var l=f0(r);if(s&&o)a=cf(r,i.props.minDate,i.props.maxDate);else if(s){var u=f0(i.props.minDate);a=fl(r,u)||Jl(l,u)}else if(o){var h=GM(i.props.maxDate);a=Rc(r,h)||Jl(l,h)}}a&&i.setState({preSelection:r})}},i.toggleCalendar=function(){i.setOpen(!i.state.open)},i.handleTimeChange=function(r){var s,o;if(!(i.props.selectsRange||i.props.selectsMultiple)){var a=i.props.selected?i.props.selected:i.getPreSelection(),l=i.props.selected?r:ky(a,{hour:$o(r),minute:Ko(r)});i.setState({preSelection:l}),(o=(s=i.props).onChange)===null||o===void 0||o.call(s,l),i.props.shouldCloseOnSelect&&!i.props.showTimeInput&&(i.sendFocusBackToInput(),i.setOpen(!1)),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}},i.onInputClick=function(){var r,s;!i.props.disabled&&!i.props.readOnly&&i.setOpen(!0),(s=(r=i.props).onInputClick)===null||s===void 0||s.call(r)},i.onInputKeyDown=function(r){var s,o,a,l,u,h;(o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r);var p=r.key;if(!i.state.open&&!i.props.inline&&!i.props.preventOpenOnFocus){(p===je.ArrowDown||p===je.ArrowUp||p===je.Enter)&&((a=i.onInputClick)===null||a===void 0||a.call(i));return}if(i.state.open){if(p===je.ArrowDown||p===je.ArrowUp){r.preventDefault();var g=i.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":i.props.showWeekPicker&&i.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':i.props.showFullMonthYearPicker||i.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((l=i.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&i.calendar.containerRef.current.querySelector(g);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var C=Bt(i.state.preSelection);p===je.Enter?(r.preventDefault(),r.target.blur(),i.inputOk()&&i.state.lastPreSelectChange===Iy?(i.handleSelect(C,r),!i.props.shouldCloseOnSelect&&i.setPreSelection(C)):i.setOpen(!1)):p===je.Escape?(r.preventDefault(),r.target.blur(),i.sendFocusBackToInput(),i.setOpen(!1)):p===je.Tab&&i.setOpen(!1),i.inputOk()||(h=(u=i.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:Ly})}},i.onPortalKeyDown=function(r){var s=r.key;s===je.Escape&&(r.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))},i.onDayKeyDown=function(r){var s,o,a,l,u,h,p=i.props,g=p.minDate,v=p.maxDate,C=p.disabledKeyboardNavigation,w=p.showWeekPicker,S=p.shouldCloseOnSelect,x=p.locale,E=p.calendarStartDay,T=p.adjustDateOnChange,R=p.inline;if((o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r),!C){var F=r.key,P=r.shiftKey,_=Bt(i.state.preSelection),L=function(ie,j){var W=j;switch(ie){case je.ArrowRight:W=w?hv(j,1):Ss(j,1);break;case je.ArrowLeft:W=w?RM(j):Vle(j);break;case je.ArrowUp:W=RM(j);break;case je.ArrowDown:W=hv(j,1);break;case je.PageUp:W=P?xd(j,1):hc(j,1);break;case je.PageDown:W=P?jo(j,1):Es(j,1);break;case je.Home:W=ol(j,x,E);break;case je.End:W=Mue(j);break}return W},A=function(ie,j){for(var W=40,Q=ie,ce=!1,H=0,le=L(ie,j);!ce;){if(H>=W){le=j;break}g&&le<g&&(Q=je.ArrowRight,le=jr(g,i.props)?L(Q,le):g),v&&le>v&&(Q=je.ArrowLeft,le=jr(v,i.props)?L(Q,le):v),jr(le,i.props)?((Q===je.PageUp||Q===je.Home)&&(Q=je.ArrowRight),(Q===je.PageDown||Q===je.End)&&(Q=je.ArrowLeft),le=L(Q,le)):ce=!0,H++}return le};if(F===je.Enter){r.preventDefault(),i.handleSelect(_,r),!S&&i.setPreSelection(_);return}else if(F===je.Escape){r.preventDefault(),i.setOpen(!1),i.inputOk()||(l=(a=i.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Ly});return}var O=null;switch(F){case je.ArrowLeft:case je.ArrowRight:case je.ArrowUp:case je.ArrowDown:case je.PageUp:case je.PageDown:case je.Home:case je.End:O=A(F,_);break}if(!O){(h=(u=i.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:Ly});return}if(r.preventDefault(),i.setState({lastPreSelectChange:Iy}),T&&i.setSelected(O),i.setPreSelection(O),R){var I=Ei(_),z=Ei(O),J=gt(_),ae=gt(O);I!==z||J!==ae?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}},i.onPopperKeyDown=function(r){var s=r.key;s===je.Escape&&(r.preventDefault(),i.sendFocusBackToInput(),i.setOpen(!1))},i.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),i.sendFocusBackToInput();var s=i.props,o=s.selectsRange,a=s.onChange;a?.(o?[null,null]:null,r),i.setState({inputValue:null})},i.clear=function(){i.onClearClick()},i.onScroll=function(r){typeof i.props.closeOnScroll=="boolean"&&i.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&i.setOpen(!1):typeof i.props.closeOnScroll=="function"&&i.props.closeOnScroll(r)&&i.setOpen(!1)},i.renderCalendar=function(){var r,s;return!i.props.inline&&!i.isCalendarOpen()?null:te.createElement(cde,Dt({showMonthYearDropdown:void 0,ref:function(o){i.calendar=o}},i.props,i.state,{setOpen:i.setOpen,dateFormat:(r=i.props.dateFormatCalendar)!==null&&r!==void 0?r:t.defaultProps.dateFormatCalendar,onSelect:i.handleSelect,onClickOutside:i.handleCalendarClickOutside,holidays:Vue(i.modifyHolidays()),outsideClickIgnoreClass:t_,onDropdownFocus:i.handleDropdownFocus,onTimeChange:i.handleTimeChange,className:i.props.calendarClassName,container:i.props.calendarContainer,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,setPreSelection:i.setPreSelection,dropdownMode:(s=i.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),i.props.children)},i.renderAriaLiveRegion=function(){var r=i.props,s=r.dateFormat,o=s===void 0?t.defaultProps.dateFormat:s,a=r.locale,l=i.props.showTimeInput||i.props.showTimeSelect,u=l?"PPPPp":"PPPP",h;return i.props.selectsRange?h="Selected start date: ".concat(zr(i.props.startDate,{dateFormat:u,locale:a}),". ").concat(i.props.endDate?"End date: "+zr(i.props.endDate,{dateFormat:u,locale:a}):""):i.props.showTimeSelectOnly?h="Selected time: ".concat(zr(i.props.selected,{dateFormat:o,locale:a})):i.props.showYearPicker?h="Selected year: ".concat(zr(i.props.selected,{dateFormat:"yyyy",locale:a})):i.props.showMonthYearPicker?h="Selected month: ".concat(zr(i.props.selected,{dateFormat:"MMMM yyyy",locale:a})):i.props.showQuarterYearPicker?h="Selected quarter: ".concat(zr(i.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):h="Selected date: ".concat(zr(i.props.selected,{dateFormat:u,locale:a})),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},i.renderDateInput=function(){var r,s,o,a=gi(i.props.className,(r={},r[t_]=i.state.open,r)),l=i.props.customInput||te.createElement("input",{type:"text"}),u=i.props.customInputRef||"ref",h=i.props,p=h.dateFormat,g=p===void 0?t.defaultProps.dateFormat:p,v=h.locale,C=typeof i.props.value=="string"?i.props.value:typeof i.state.inputValue=="string"?i.state.inputValue:i.props.selectsRange?Tue(i.props.startDate,i.props.endDate,{dateFormat:g,locale:v}):i.props.selectsMultiple?Due((o=i.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:g,locale:v}):zr(i.props.selected,{dateFormat:g,locale:v});return D.cloneElement(l,(s={},s[u]=function(w){i.input=w},s.value=C,s.onBlur=i.handleBlur,s.onChange=i.handleChange,s.onClick=i.onInputClick,s.onFocus=i.handleFocus,s.onKeyDown=i.onInputKeyDown,s.id=i.props.id,s.name=i.props.name,s.form=i.props.form,s.autoFocus=i.props.autoFocus,s.placeholder=i.props.placeholderText,s.disabled=i.props.disabled,s.autoComplete=i.props.autoComplete,s.className=gi(l.props.className,a),s.title=i.props.title,s.readOnly=i.props.readOnly,s.required=i.props.required,s.tabIndex=i.props.tabIndex,s["aria-describedby"]=i.props.ariaDescribedBy,s["aria-invalid"]=i.props.ariaInvalid,s["aria-labelledby"]=i.props.ariaLabelledBy,s["aria-required"]=i.props.ariaRequired,s))},i.renderClearButton=function(){var r=i.props,s=r.isClearable,o=r.disabled,a=r.selected,l=r.startDate,u=r.endDate,h=r.clearButtonTitle,p=r.clearButtonClassName,g=p===void 0?"":p,v=r.ariaLabelClose,C=v===void 0?"Close":v,w=r.selectedDates,S=r.readOnly;return s&&!S&&(a!=null||l!=null||u!=null||w?.length)?te.createElement("button",{type:"button",className:gi("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":C,onClick:i.onClearClick,title:h,tabIndex:-1}):null},i.state=i.calcInitialState(),i.preventFocusTimeout=void 0,i}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,i){var r,s,o,a;n.inline&&mde(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:KM(this.props.highlightDates)}),!i.focused&&!Jl(n.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),i.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,i=n.showIcon,r=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),te.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&te.createElement(ude,Dt({icon:r,className:gi(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var i=this.state.open?te.createElement(o5,{enableTabLoop:this.props.enableTabLoop},te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(i=te.createElement(s5,Dt({portalId:this.props.portalId},this.props),i)),te.createElement("div",null,this.renderInputContainer(),i)}return te.createElement(gde,Dt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(D.Component),vde="input",Iy="navigate";const Cde={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},wde=(e,t,n)=>{let i;const r=Cde[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?i+" ":i+" ":i},yde={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},Sde={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xde={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},bde={date:od({formats:yde,defaultWidth:"full"}),time:od({formats:Sde,defaultWidth:"full"}),dateTime:od({formats:xde,defaultWidth:"full"})},Ede={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},Tde=(e,t,n,i)=>Ede[e],Dde={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},Rde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},Fde={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},Mde={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},_de={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Ade={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Pde=(e,t)=>{const n=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},kde={ordinalNumber:Pde,era:Ys({values:Dde,defaultWidth:"wide"}),quarter:Ys({values:Rde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:Fde,defaultWidth:"wide"}),day:Ys({values:Mde,defaultWidth:"wide"}),dayPeriod:Ys({values:_de,defaultWidth:"wide",formattingValues:Ade,defaultFormattingWidth:"wide"})},Ode=/^(\d+)(|)?/i,Lde=/\d+/i,Ide={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},Nde={any:[/^(bc|)/i,/^(ad|)/i]},Bde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Hde={any:[/1/i,/2/i,/3/i,/4/i]},Gde={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Vde={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},zde={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Wde={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Ude={any:/^(am|pm|||||||)/i},jde={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Yde={ordinalNumber:A4({matchPattern:Ode,parsePattern:Lde,valueCallback:e=>parseInt(e,10)}),era:$s({matchPatterns:Ide,defaultMatchWidth:"wide",parsePatterns:Nde,defaultParseWidth:"any"}),quarter:$s({matchPatterns:Bde,defaultMatchWidth:"wide",parsePatterns:Hde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$s({matchPatterns:Gde,defaultMatchWidth:"wide",parsePatterns:Vde,defaultParseWidth:"any"}),day:$s({matchPatterns:zde,defaultMatchWidth:"wide",parsePatterns:Wde,defaultParseWidth:"any"}),dayPeriod:$s({matchPatterns:Ude,defaultMatchWidth:"any",parsePatterns:jde,defaultParseWidth:"any"})},i_={code:"ko",formatDistance:wde,formatLong:bde,formatRelative:Tde,localize:kde,match:Yde,options:{weekStartsOn:0,firstWeekContainsDate:1}},$de=({label:e,setDateRange:t,dateRange:n=[null,null]})=>{const[i,r]=n,s=a=>{!r||a<=r?t([a,r]):t([a,null])},o=a=>{!i||a>=i?t([i,a]):t([null,a])};return G.jsxs("div",{className:"custom-datepicker-wrapper",children:[G.jsx("p",{className:"custom-label",children:e}),G.jsxs("div",{className:"custom-datepicker-wrap",children:[G.jsx("div",{className:"custom-datepicker",children:G.jsx(n_,{id:"startDate",selected:i,onChange:s,selectsStart:!0,startDate:i,endDate:r,maxDate:r,isClearable:!0,showYearDropdown:!0,showMonthYearDropdown:!0,scrollableYearDropdown:!0,locale:i_,placeholderText:" ",dateFormat:"yyyy-MM-dd",autoComplete:"off",renderCustomHeader:({date:a,changeYear:l,changeMonth:u,decreaseMonth:h,increaseMonth:p,prevMonthButtonDisabled:g,nextMonthButtonDisabled:v})=>G.jsxs("div",{children:[G.jsx("button",{type:"button",className:"custom-datepicker-prev",onClick:h,disabled:g}),G.jsxs("div",{children:[G.jsx("select",{value:a.getFullYear(),onChange:({target:{value:C}})=>l(parseInt(C)),className:"custom-datepikcer-select",children:Array.from({length:20},(C,w)=>{const S=new Date().getFullYear()-10+w;return G.jsx("option",{value:S,children:S},S)})}),G.jsx("span",{children:""}),G.jsx("select",{value:a.getMonth(),onChange:({target:{value:C}})=>u(parseInt(C)),className:"custom-datepikcer-select",children:Array.from({length:12},(C,w)=>G.jsxs("option",{value:w,children:[new Date(0,w).toLocaleString("default",{month:"long"})," "]},w))}),G.jsx("span",{children:""})]}),G.jsx("button",{type:"button",className:"custom-datepicker-next",onClick:p,disabled:v})]})})}),G.jsx("span",{children:"-"}),G.jsx("div",{className:"custom-datepicker",children:G.jsx(n_,{id:"endDate",selected:r,onChange:o,selectsEnd:!0,startDate:i,endDate:r,minDate:i,isClearable:!0,showYearDropdown:!0,showMonthYearDropdown:!0,scrollableYearDropdown:!0,locale:i_,placeholderText:" ",dateFormat:"yyyy-MM-dd",autoComplete:"off",renderCustomHeader:({date:a,changeYear:l,changeMonth:u,decreaseMonth:h,increaseMonth:p,prevMonthButtonDisabled:g,nextMonthButtonDisabled:v})=>G.jsxs("div",{children:[G.jsx("button",{type:"button",className:"custom-datepicker-prev",onClick:h,disabled:g}),G.jsxs("div",{children:[G.jsx("select",{value:a.getFullYear(),onChange:({target:{value:C}})=>l(parseInt(C)),className:"custom-datepikcer-select",children:Array.from({length:20},(C,w)=>{const S=new Date().getFullYear()-10+w;return G.jsx("option",{value:S,children:S},S)})}),G.jsx("span",{children:""}),G.jsx("select",{value:a.getMonth(),onChange:({target:{value:C}})=>u(parseInt(C)),className:"custom-datepikcer-select",children:Array.from({length:12},(C,w)=>G.jsxs("option",{value:w,children:[new Date(0,w).toLocaleString("default",{month:"long"})," "]},w))}),G.jsx("span",{children:""})]}),G.jsx("button",{type:"button",className:"custom-datepicker-next",onClick:p,disabled:v})]})})})]})]})},Kde=e=>D.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M11.0667 12L6.86667 7.8C6.53333 8.06667 6.15 8.27778 5.71667 8.43333C5.28333 8.58889 4.82222 8.66667 4.33333 8.66667C3.12222 8.66667 2.09722 8.24722 1.25833 7.40833C0.419445 6.56944 0 5.54444 0 4.33333C0 3.12222 0.419445 2.09722 1.25833 1.25833C2.09722 0.419445 3.12222 0 4.33333 0C5.54444 0 6.56944 0.419445 7.40833 1.25833C8.24722 2.09722 8.66667 3.12222 8.66667 4.33333C8.66667 4.82222 8.58889 5.28333 8.43333 5.71667C8.27778 6.15 8.06667 6.53333 7.8 6.86667L12 11.0667L11.0667 12ZM4.33333 7.33333C5.16667 7.33333 5.875 7.04167 6.45833 6.45833C7.04167 5.875 7.33333 5.16667 7.33333 4.33333C7.33333 3.5 7.04167 2.79167 6.45833 2.20833C5.875 1.625 5.16667 1.33333 4.33333 1.33333C3.5 1.33333 2.79167 1.625 2.20833 2.20833C1.625 2.79167 1.33333 3.5 1.33333 4.33333C1.33333 5.16667 1.625 5.875 2.20833 6.45833C2.79167 7.04167 3.5 7.33333 4.33333 7.33333Z",fill:"white"})),qde=()=>{const e=[{label:"",value:"option1"},{label:" 2",value:"option2"},{label:" 3",value:"option3"}],[t,n]=D.useState(e[0]),i=w=>{n(w)},[r,s]=D.useState([null,null]),[o,a]=D.useState([]),[l,u]=D.useState([]),[h,p]=D.useState(0),g=()=>{},v=w=>{},C=w=>{a(w)};return D.useEffect(()=>{let w=[{id:"main_s_1",centerName:"1",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_2",centerName:"2",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_3",centerName:"3",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_4",centerName:"4",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_5",centerName:"5",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_6",centerName:"6",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_7",centerName:"7",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_8",centerName:"8",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_9",centerName:"9",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_10",centerName:"10",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_11",centerName:"11",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_12",centerName:"12",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_13",centerName:"13",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_14",centerName:"14",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_15",centerName:"15",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_16",centerName:"16",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_17",centerName:"17",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_18",centerName:"18",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_19",centerName:"19",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_20",centerName:"20",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"},{id:"main_s_21",centerName:"21",dialogName:"",dialogAnswer:"opsc_mgr",detail:"kim@kspo.or.kr"}],S=[{headerName:"",flex:1,field:"centerName",cellClass:"text-center"},{headerName:"",flex:1,field:"dialogName",cellClass:"text-left"},{headerName:" ",flex:1,field:"dialogAnswer",cellClass:"text-left"},{headerName:"",field:"detail",width:100,suppressSizeToFit:!0,cellClass:"flex-center",cellRenderer:x=>G.jsx(fi,{size:"xxs",onClick:()=>v(x.data.id),children:""})}];a(w),u(S),p(w.length)},[]),G.jsxs("div",{className:"tabs",children:[G.jsx("div",{className:"tabs-title-wrap",children:G.jsx("h3",{children:"   "})}),G.jsxs("div",{className:"search-wrapper",children:[G.jsxs("div",{className:"search-wrap",children:[G.jsx(Io,{label:"",value:t,onChange:i,options:e,openDirection:"bottom",colVer:!1}),G.jsx(Io,{label:"",value:t,onChange:i,options:e,openDirection:"bottom",colVer:!1}),G.jsx(Io,{label:"",value:t,onChange:i,options:e,openDirection:"bottom",colVer:!1}),G.jsx($de,{label:"",dateRange:r,setDateRange:s}),G.jsx(Io,{label:"",value:t,onChange:i,options:e,openDirection:"bottom",colVer:!1})]}),G.jsxs(fi,{className:"normal2 icon",children:[G.jsx(Kde,{}),""]})]}),G.jsx(Ooe,{rowDeselection:!0,rowData:o,columnDefs:l,height:463,isCheckboxMode:!0,onDataUpdate:C,onRegisterClick:g,sortable:!0,usePaginationSelector:!1})]})},Xde=()=>G.jsx(G.Fragment,{children:""}),r_=()=>{const e=vl(),t=ir(),n=()=>t.pathname.includes("learning")?"ai-image-generation-learning":"ai-image-generation",[i,r]=D.useState(n());D.useEffect(()=>{r(n())},[t.pathname]);const s=[{id:"ai-image-generation",label:"   ",component:G.jsx(qde,{}),path:"aiImageManagement/view"},{id:"ai-image-generation-learning",label:"   ",component:G.jsx(Xde,{}),path:"aiImageManagement/learning"}],o=a=>{r(a.id),e(`/modelManagement/${a.path}`)};return G.jsxs("div",{className:"model-management-page",children:[G.jsx("div",{className:"tab-navigation",children:G.jsx("nav",{className:"-mb-px flex space-x-8",children:s.map(a=>G.jsx("button",{onClick:()=>o(a),className:`${i===a.id?"active":""}`,children:a.label},a.id))})}),G.jsx("div",{className:"tab-content mt-6",children:s.find(a=>a.id===i)?.component})]})},$a="/assets/image1-CUXL8ZjT.jpg",Qde="/assets/image2-CdwCR4P5.png";function s_(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Jb(e,t){e===void 0&&(e={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:s_(t[i])&&s_(e[i])&&Object.keys(t[i]).length>0&&Jb(e[i],t[i])})}const a5={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ra(){const e=typeof document<"u"?document:{};return Jb(e,a5),e}const Zde={document:a5,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Gi(){const e=typeof window<"u"?window:{};return Jb(e,Zde),e}function Jde(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function ehe(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function l5(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Ev(){return Date.now()}function the(e){const t=Gi();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function nhe(e,t){t===void 0&&(t="x");const n=Gi();let i,r,s;const o=the(e);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function wm(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function ihe(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function gr(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!ihe(i)){const r=Object.keys(Object(i)).filter(s=>t.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(wm(e[a])&&wm(i[a])?i[a].__swiper__?e[a]=i[a]:gr(e[a],i[a]):!wm(e[a])&&wm(i[a])?(e[a]={},i[a].__swiper__?e[a]=i[a]:gr(e[a],i[a])):e[a]=i[a])}}}return e}function ym(e,t,n){e.style.setProperty(t,n)}function c5(e){let{swiper:t,targetPosition:n,side:i}=e;const r=Gi(),s=-t.translate;let o=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const u=n>s?"next":"prev",h=(g,v)=>u==="next"&&g>=v||u==="prev"&&g<=v,p=()=>{a=new Date().getTime(),o===null&&(o=a);const g=Math.max(Math.min((a-o)/l,1),0),v=.5-Math.cos(g*Math.PI)/2;let C=s+v*(n-s);if(h(C,n)&&(C=n),t.wrapperEl.scrollTo({[i]:C}),h(C,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:C})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(p)};p()}function Js(e,t){t===void 0&&(t="");const n=Gi(),i=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter(r=>r.matches(t)):i}function rhe(e,t){const n=[t];for(;n.length>0;){const i=n.shift();if(e===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function she(e,t){const n=Gi();let i=t.contains(e);return!i&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=rhe(e,t))),i}function Tv(e){try{console.warn(e);return}catch{}}function Jf(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:Jde(t)),n}function ohe(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function ahe(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function nl(e,t){return Gi().getComputedStyle(e,null).getPropertyValue(t)}function ep(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function u5(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function tx(e,t,n){const i=Gi();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function St(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function tp(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let Ny;function lhe(){const e=Gi(),t=ra();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function d5(){return Ny||(Ny=lhe()),Ny}let By;function che(e){let{userAgent:t}=e===void 0?{}:e;const n=d5(),i=Gi(),r=i.navigator.platform,s=t||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=r==="Win32";let C=r==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&C&&n.touch&&w.indexOf(`${a}x${l}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),C=!1),u&&!v&&(o.os="android",o.android=!0),(h||g||p)&&(o.os="ios",o.ios=!0),o}function h5(e){return e===void 0&&(e={}),By||(By=che(e)),By}let Hy;function uhe(){const e=Gi(),t=h5();let n=!1;function i(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));n=l<16||l===16&&u<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=i(),o=s||r&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function f5(){return Hy||(Hy=uhe()),Hy}function dhe(e){let{swiper:t,on:n,emit:i}=e;const r=Gi();let s=null,o=null;const a=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(p=>{o=r.requestAnimationFrame(()=>{const{width:g,height:v}=t;let C=g,w=v;p.forEach(S=>{let{contentBoxSize:x,contentRect:E,target:T}=S;T&&T!==t.el||(C=E?E.width:(x[0]||x).inlineSize,w=E?E.height:(x[0]||x).blockSize)}),(C!==g||w!==v)&&a()})}),s.observe(t.el))},u=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},h=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",h)}),n("destroy",()=>{u(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",h)})}function hhe(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const s=[],o=Gi(),a=function(h,p){p===void 0&&(p={});const g=o.MutationObserver||o.WebkitMutationObserver,v=new g(C=>{if(t.__preventObserver__)return;if(C.length===1){r("observerUpdate",C[0]);return}const w=function(){r("observerUpdate",C[0])};o.requestAnimationFrame?o.requestAnimationFrame(w):o.setTimeout(w,0)});v.observe(h,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:t.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(v)},l=()=>{if(t.params.observer){if(t.params.observeParents){const h=u5(t.hostEl);for(let p=0;p<h.length;p+=1)a(h[p])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",u)}var fhe={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const r=n?"unshift":"push";return e.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];t.apply(i,o)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),i=e):(t=s[0].events,n=s[0].data,i=s[0].context||e),n.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(i,[l,...n])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(u=>{u.apply(i,n)})}),e}};function phe(){const e=this;let t,n;const i=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=i.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=i.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(nl(i,"padding-left")||0,10)-parseInt(nl(i,"padding-right")||0,10),n=n-parseInt(nl(i,"padding-top")||0,10)-parseInt(nl(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function ghe(){const e=this;function t(O,I){return parseFloat(O.getPropertyValue(e.getDirectionLabel(I))||0)}const n=e.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,h=Js(r,`.${e.params.slideClass}, swiper-slide`),p=l?e.virtual.slides.length:h.length;let g=[];const v=[],C=[];let w=n.slidesOffsetBefore;typeof w=="function"&&(w=n.slidesOffsetBefore.call(e));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(e));const x=e.snapGrid.length,E=e.slidesGrid.length;let T=n.spaceBetween,R=-w,F=0,P=0;if(typeof s>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*s:typeof T=="string"&&(T=parseFloat(T)),e.virtualSize=-T,h.forEach(O=>{o?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ym(i,"--swiper-centered-offset-before",""),ym(i,"--swiper-centered-offset-after",""));const _=n.grid&&n.grid.rows>1&&e.grid;_?e.grid.initSlides(h):e.grid&&e.grid.unsetSlides();let L;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(O=>typeof n.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<p;O+=1){L=0;let I;if(h[O]&&(I=h[O]),_&&e.grid.updateSlide(O,I,h),!(h[O]&&nl(I,"display")==="none")){if(n.slidesPerView==="auto"){A&&(h[O].style[e.getDirectionLabel("width")]="");const z=getComputedStyle(I),J=I.style.transform,ae=I.style.webkitTransform;if(J&&(I.style.transform="none"),ae&&(I.style.webkitTransform="none"),n.roundLengths)L=e.isHorizontal()?tx(I,"width"):tx(I,"height");else{const ie=t(z,"width"),j=t(z,"padding-left"),W=t(z,"padding-right"),Q=t(z,"margin-left"),ce=t(z,"margin-right"),H=z.getPropertyValue("box-sizing");if(H&&H==="border-box")L=ie+Q+ce;else{const{clientWidth:le,offsetWidth:B}=I;L=ie+j+W+Q+ce+(B-le)}}J&&(I.style.transform=J),ae&&(I.style.webkitTransform=ae),n.roundLengths&&(L=Math.floor(L))}else L=(s-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(L=Math.floor(L)),h[O]&&(h[O].style[e.getDirectionLabel("width")]=`${L}px`);h[O]&&(h[O].swiperSlideSize=L),C.push(L),n.centeredSlides?(R=R+L/2+F/2+T,F===0&&O!==0&&(R=R-s/2-T),O===0&&(R=R-s/2-T),Math.abs(R)<1/1e3&&(R=0),n.roundLengths&&(R=Math.floor(R)),P%n.slidesPerGroup===0&&g.push(R),v.push(R)):(n.roundLengths&&(R=Math.floor(R)),(P-Math.min(e.params.slidesPerGroupSkip,P))%e.params.slidesPerGroup===0&&g.push(R),v.push(R),R=R+L+T),e.virtualSize+=L+T,F=L,P+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+S,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${e.virtualSize+T}px`),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+T}px`),_&&e.grid.updateWrapperSize(L,g),!n.centeredSlides){const O=[];for(let I=0;I<g.length;I+=1){let z=g[I];n.roundLengths&&(z=Math.floor(z)),g[I]<=e.virtualSize-s&&O.push(z)}g=O,Math.floor(e.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(e.virtualSize-s)}if(l&&n.loop){const O=C[0]+T;if(n.slidesPerGroup>1){const I=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),z=O*n.slidesPerGroup;for(let J=0;J<I;J+=1)g.push(g[g.length-1]+z)}for(let I=0;I<e.virtual.slidesBefore+e.virtual.slidesAfter;I+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+O),v.push(v[v.length-1]+O),e.virtualSize+=O}if(g.length===0&&(g=[0]),T!==0){const O=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");h.filter((I,z)=>!n.cssMode||n.loop?!0:z!==h.length-1).forEach(I=>{I.style[O]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let O=0;C.forEach(z=>{O+=z+(T||0)}),O-=T;const I=O>s?O-s:0;g=g.map(z=>z<=0?-w:z>I?I+S:z)}if(n.centerInsufficientSlides){let O=0;C.forEach(z=>{O+=z+(T||0)}),O-=T;const I=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(O+I<s){const z=(s-O-I)/2;g.forEach((J,ae)=>{g[ae]=J-z}),v.forEach((J,ae)=>{v[ae]=J+z})}}if(Object.assign(e,{slides:h,snapGrid:g,slidesGrid:v,slidesSizesGrid:C}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ym(i,"--swiper-centered-offset-before",`${-g[0]}px`),ym(i,"--swiper-centered-offset-after",`${e.size/2-C[C.length-1]/2}px`);const O=-e.snapGrid[0],I=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(z=>z+O),e.slidesGrid=e.slidesGrid.map(z=>z+I)}if(p!==u&&e.emit("slidesLengthChange"),g.length!==x&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==E&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const O=`${n.containerModifierClass}backface-hidden`,I=e.el.classList.contains(O);p<=n.maxBackfaceHiddenSlides?I||e.el.classList.add(O):I&&e.el.classList.remove(O)}}function mhe(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let r=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const a=t.activeIndex+s;if(a>t.slides.length&&!i)break;n.push(o(a))}else n.push(o(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function vhe(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()}const o_=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function Che(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;r&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const u=i[l];let h=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(h-=i[0].swiperSlideOffset);const p=(o+(n.centeredSlides?t.minTranslate():0)-h)/(u.swiperSlideSize+a),g=(o-s[0]+(n.centeredSlides?t.minTranslate():0)-h)/(u.swiperSlideSize+a),v=-(o-h),C=v+t.slidesSizesGrid[l],w=v>=0&&v<=t.size-t.slidesSizesGrid[l],S=v>=0&&v<t.size-1||C>1&&C<=t.size||v<=0&&C>=t.size;S&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(l)),o_(u,S,n.slideVisibleClass),o_(u,w,n.slideFullyVisibleClass),u.progress=r?-p:p,u.originalProgress=r?-g:g}}function whe(e){const t=this;if(typeof e>"u"){const h=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*h||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,u=o;if(i===0)r=0,s=!0,o=!0;else{r=(e-t.minTranslate())/i;const h=Math.abs(e-t.minTranslate())<1,p=Math.abs(e-t.maxTranslate())<1;s=h||r<=0,o=p||r>=1,h&&(r=0),p&&(r=1)}if(n.loop){const h=t.getSlideIndexByData(0),p=t.getSlideIndexByData(t.slides.length-1),g=t.slidesGrid[h],v=t.slidesGrid[p],C=t.slidesGrid[t.slidesGrid.length-1],w=Math.abs(e);w>=g?a=(w-g)/C:a=(w+C-v)/C,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&t.emit("fromEdge"),t.emit("progress",r)}const Gy=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function yhe(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,s=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,a=p=>Js(i,`.${n.slideClass}${p}, swiper-slide${p}`)[0];let l,u,h;if(s)if(n.loop){let p=r-e.virtual.slidesBefore;p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${p}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=t.find(p=>p.column===r),h=t.find(p=>p.column===r+1),u=t.find(p=>p.column===r-1)):l=t[r];l&&(o||(h=ahe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=t[0]),u=ohe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(p=>{Gy(p,p===l,n.slideActiveClass),Gy(p,p===h,n.slideNextClass),Gy(p,p===u,n.slidePrevClass)}),e.emitSlidesClasses()}const g0=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,i=t.closest(n());if(i){let r=i.querySelector(`.${e.params.lazyPreloaderClass}`);!r&&e.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Vy=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nx=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=r,a=[o-t];a.push(...Array.from({length:t}).map((l,u)=>o+i+u)),e.slides.forEach((l,u)=>{a.includes(l.column)&&Vy(e,u)});return}const s=r+i-1;if(e.params.rewind||e.params.loop)for(let o=r-t;o<=s+t;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&Vy(e,a)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,n-1);o+=1)o!==r&&(o>s||o<r)&&Vy(e,o)};function She(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function xhe(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=t;let l=e,u;const h=v=>{let C=v-t.virtual.slidesBefore;return C<0&&(C=t.virtual.slides.length+C),C>=t.virtual.slides.length&&(C-=t.virtual.slides.length),C};if(typeof l>"u"&&(l=She(t)),i.indexOf(n)>=0)u=i.indexOf(n);else{const v=Math.min(r.slidesPerGroupSkip,l);u=v+Math.floor((l-v)/r.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),l===s&&!t.params.loop){u!==a&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(l===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=h(l);return}const p=t.grid&&r.grid&&r.grid.rows>1;let g;if(t.virtual&&r.virtual.enabled&&r.loop)g=h(l);else if(p){const v=t.slides.find(w=>w.column===l);let C=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(C)&&(C=Math.max(t.slides.indexOf(v),0)),g=Math.floor(C/r.grid.rows)}else if(t.slides[l]){const v=t.slides[l].getAttribute("data-swiper-slide-index");v?g=parseInt(v,10):g=l}else g=l;Object.assign(t,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:g,previousIndex:s,activeIndex:l}),t.initialized&&nx(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==g&&t.emit("realIndexChange"),t.emit("slideChange"))}function bhe(e,t){const n=this,i=n.params;let r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Ehe={updateSize:phe,updateSlides:ghe,updateAutoHeight:mhe,updateSlidesOffset:vhe,updateSlidesProgress:Che,updateProgress:whe,updateSlidesClasses:yhe,updateActiveIndex:xhe,updateClickedSlide:bhe};function The(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=t;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=nhe(s,e);return o+=t.cssOverflowAdjustment(),i&&(o=-o),o||0}function Dhe(e,t){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=i?-e:e:l=e,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let h;const p=n.maxTranslate()-n.minTranslate();p===0?h=0:h=(e-n.minTranslate())/p,h!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function Rhe(){return-this.snapGrid[0]}function Fhe(){return-this.snapGrid[this.snapGrid.length-1]}function Mhe(e,t,n,i,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let h;if(i&&e>l?h=l:i&&e<u?h=u:h=e,s.updateProgress(h),o.cssMode){const p=s.isHorizontal();if(t===0)a[p?"scrollLeft":"scrollTop"]=-h;else{if(!s.support.smoothScroll)return c5({swiper:s,targetPosition:-h,side:p?"left":"top"}),!0;a.scrollTo({[p?"left":"top"]:-h,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var _he={getTranslate:The,setTranslate:Dhe,minTranslate:Rhe,maxTranslate:Fhe,translateTo:Mhe};function Ahe(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function p5(e){let{swiper:t,runCallbacks:n,direction:i,step:r}=e;const{activeIndex:s,previousIndex:o}=t;let a=i;a||(s>o?a="next":s<o?a="prev":a="reset"),t.emit(`transition${r}`),n&&a==="reset"?t.emit(`slideResetTransition${r}`):n&&s!==o&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Phe(e,t){e===void 0&&(e=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),p5({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function khe(e,t){e===void 0&&(e=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),p5({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var Ohe={setTransition:Ahe,transitionStart:Phe,transitionEnd:khe};function Lhe(e,t,n,i,r){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:h,activeIndex:p,rtlTranslate:g,wrapperEl:v,enabled:C}=s;if(!C&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=s.params.speed);const w=Math.min(s.params.slidesPerGroupSkip,o);let S=w+Math.floor((o-w)/s.params.slidesPerGroup);S>=l.length&&(S=l.length-1);const x=-l[S];if(a.normalizeSlideIndex)for(let _=0;_<u.length;_+=1){const L=-Math.floor(x*100),A=Math.floor(u[_]*100),O=Math.floor(u[_+1]*100);typeof u[_+1]<"u"?L>=A&&L<O-(O-A)/2?o=_:L>=A&&L<O&&(o=_+1):L>=A&&(o=_)}if(s.initialized&&o!==p&&(!s.allowSlideNext&&(g?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(p||0)!==o))return!1;o!==(h||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let E;o>p?E="next":o<p?E="prev":E="reset";const T=s.virtual&&s.params.virtual.enabled;if(!(T&&r)&&(g&&-x===s.translate||!g&&x===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(x),E!=="reset"&&(s.transitionStart(n,E),s.transitionEnd(n,E)),!1;if(a.cssMode){const _=s.isHorizontal(),L=g?x:-x;if(t===0)T&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),T&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[_?"scrollLeft":"scrollTop"]=L})):v[_?"scrollLeft":"scrollTop"]=L,T&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return c5({swiper:s,targetPosition:L,side:_?"left":"top"}),!0;v.scrollTo({[_?"left":"top"]:L,behavior:"smooth"})}return!0}const P=f5().isSafari;return T&&!r&&P&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(t),s.setTranslate(x),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(n,E),t===0?s.transitionEnd(n,E):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(L){!s||s.destroyed||L.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,E))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Ihe(e,t,n,i){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const g=o*r.params.grid.rows;a=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:u}=r.params;let h=r.params.slidesPerView;h==="auto"?h=r.slidesPerViewDynamic():(h=Math.ceil(parseFloat(r.params.slidesPerView,10)),u&&h%2===0&&(h=h+1));let p=l-a<h;if(u&&(p=p||a<Math.ceil(h/2)),i&&u&&r.params.slidesPerView!=="auto"&&!s&&(p=!1),p){const g=u?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?a+1:a-l+1,slideRealIndex:g==="next"?r.realIndex:void 0})}if(s){const g=o*r.params.grid.rows;o=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,t,n,i)}),r}function Nhe(e,t,n){t===void 0&&(t=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,u=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,e,t,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)}function Bhe(e,t,n){t===void 0&&(t=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=i;if(!l||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);const h=i.virtual&&r.virtual.enabled;if(r.loop){if(u&&!h&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const p=a?i.translate:-i.translate;function g(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const v=g(p),C=s.map(E=>g(E)),w=r.freeMode&&r.freeMode.enabled;let S=s[C.indexOf(v)-1];if(typeof S>"u"&&(r.cssMode||w)){let E;s.forEach((T,R)=>{v>=T&&(E=R)}),typeof E<"u"&&(S=w?s[E]:s[E>0?E-1:E])}let x=0;if(typeof S<"u"&&(x=o.indexOf(S),x<0&&(x=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),r.rewind&&i.isBeginning){const E=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(E,e,t,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(x,e,t,n)}),!0;return i.slideTo(x,e,t,n)}function Hhe(e,t,n){t===void 0&&(t=!0);const i=this;if(!i.destroyed)return typeof e>"u"&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)}function Ghe(e,t,n,i){t===void 0&&(t=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const u=r.snapGrid[a],h=r.snapGrid[a+1];l-u>(h-u)*i&&(s+=r.params.slidesPerGroup)}else{const u=r.snapGrid[a-1],h=r.snapGrid[a];l-u<=(h-u)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,e,t,n)}function Vhe(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,i=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let r=e.getSlideIndexWhenGrid(e.clickedIndex),s;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,a=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(s):r>(a?(e.slides.length-i)/2-(e.params.grid.rows-1):e.slides.length-i)?(e.loopFix(),r=e.getSlideIndex(Js(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),l5(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}var zhe={slideTo:Lhe,slideToLoop:Ihe,slideNext:Nhe,slidePrev:Bhe,slideReset:Hhe,slideToClosest:Ghe,slideToClickedSlide:Vhe};function Whe(e,t){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Js(r,`.${i.slideClass}, swiper-slide`).forEach((v,C)=>{v.setAttribute("data-swiper-slide-index",C)})},o=()=>{const g=Js(r,`.${i.slideBlankClass}`);g.forEach(v=>{v.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||a)&&o();const l=i.slidesPerGroup*(a?i.grid.rows:1),u=n.slides.length%l!==0,h=a&&n.slides.length%i.grid.rows!==0,p=g=>{for(let v=0;v<g;v+=1){const C=n.isElement?Jf("swiper-slide",[i.slideBlankClass]):Jf("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(C)}};if(u){if(i.loopAddBlankSlides){const g=l-n.slides.length%l;p(g),n.recalcSlides(),n.updateSlides()}else Tv("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(i.loopAddBlankSlides){const g=i.grid.rows-n.slides.length%i.grid.rows;p(g),n.recalcSlides(),n.updateSlides()}else Tv("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next",initial:t})}function Uhe(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:h,allowSlidePrev:p,allowSlideNext:g,slidesEl:v,params:C}=u,{centeredSlides:w,initialSlide:S}=C;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&C.virtual.enabled){n&&(!C.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):C.centeredSlides&&u.snapIndex<C.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=g,u.emit("loopFix");return}let x=C.slidesPerView;x==="auto"?x=u.slidesPerViewDynamic():(x=Math.ceil(parseFloat(C.slidesPerView,10)),w&&x%2===0&&(x=x+1));const E=C.slidesPerGroupAuto?x:C.slidesPerGroup;let T=w?Math.max(E,Math.ceil(x/2)):E;T%E!==0&&(T+=E-T%E),T+=C.loopAdditionalSlides,u.loopedSlides=T;const R=u.grid&&C.grid&&C.grid.rows>1;h.length<x+T||u.params.effect==="cards"&&h.length<x+T*2?Tv("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&C.grid.fill==="row"&&Tv("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],P=[],_=R?Math.ceil(h.length/C.grid.rows):h.length,L=o&&_-S<x&&!w;let A=L?S:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(h.find(j=>j.classList.contains(C.slideActiveClass))):A=s;const O=i==="next"||!i,I=i==="prev"||!i;let z=0,J=0;const ie=(R?h[s].column:s)+(w&&typeof r>"u"?-x/2+.5:0);if(ie<T){z=Math.max(T-ie,E);for(let j=0;j<T-ie;j+=1){const W=j-Math.floor(j/_)*_;if(R){const Q=_-W-1;for(let ce=h.length-1;ce>=0;ce-=1)h[ce].column===Q&&F.push(ce)}else F.push(_-W-1)}}else if(ie+x>_-T){J=Math.max(ie-(_-T*2),E),L&&(J=Math.max(J,x-_+S+1));for(let j=0;j<J;j+=1){const W=j-Math.floor(j/_)*_;R?h.forEach((Q,ce)=>{Q.column===W&&P.push(ce)}):P.push(W)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&h.length<x+T*2&&(P.includes(s)&&P.splice(P.indexOf(s),1),F.includes(s)&&F.splice(F.indexOf(s),1)),I&&F.forEach(j=>{h[j].swiperLoopMoveDOM=!0,v.prepend(h[j]),h[j].swiperLoopMoveDOM=!1}),O&&P.forEach(j=>{h[j].swiperLoopMoveDOM=!0,v.append(h[j]),h[j].swiperLoopMoveDOM=!1}),u.recalcSlides(),C.slidesPerView==="auto"?u.updateSlides():R&&(F.length>0&&I||P.length>0&&O)&&u.slides.forEach((j,W)=>{u.grid.updateSlide(W,j,u.slides)}),C.watchSlidesProgress&&u.updateSlidesOffset(),n){if(F.length>0&&I){if(typeof t>"u"){const j=u.slidesGrid[A],Q=u.slidesGrid[A+z]-j;l?u.setTranslate(u.translate-Q):(u.slideTo(A+Math.ceil(z),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-Q,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-Q))}else if(r){const j=R?F.length/C.grid.rows:F.length;u.slideTo(u.activeIndex+j,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(P.length>0&&O)if(typeof t>"u"){const j=u.slidesGrid[A],Q=u.slidesGrid[A-J]-j;l?u.setTranslate(u.translate-Q):(u.slideTo(A-J,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-Q,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-Q))}else{const j=R?P.length/C.grid.rows:P.length;u.slideTo(u.activeIndex-j,0,!1,!0)}}if(u.allowSlidePrev=p,u.allowSlideNext=g,u.controller&&u.controller.control&&!a){const j={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...j,slideTo:W.params.slidesPerView===C.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...j,slideTo:u.controller.control.params.slidesPerView===C.slidesPerView?n:!1})}u.emit("loopFix")}function jhe(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),e.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var Yhe={loopCreate:Whe,loopFix:Uhe,loopDestroy:jhe};function $he(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Khe(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var qhe={setGrabCursor:$he,unsetGrabCursor:Khe};function Xhe(e,t){t===void 0&&(t=this);function n(i){if(!i||i===ra()||i===Gi())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(e);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(t)}function a_(e,t,n){const i=Gi(),{params:r}=e,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function Qhe(e){const t=this,n=ra();let i=e;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){a_(t,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=t;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!she(l,t.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",h=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&h&&(l=h[0]);const p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(g?Xhe(p,l):l.closest(p))){t.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const v=o.currentX,C=o.currentY;if(!a_(t,i,v))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=C,r.touchStartTime=Ev(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let w=!0;l.matches(r.focusableElements)&&(w=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const S=w&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function Zhe(e){const t=ra(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(F=>F.identifier===i.touchId),!u||u.identifier!==i.touchId)return}else u=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const h=u.pageX,p=u.pageY;if(l.preventedByNestedSwiper){s.startX=h,s.startY=p;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p}),i.touchStartTime=Ev());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(p<s.startY&&n.translate<=n.maxTranslate()||p>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(h>s.startX&&-n.translate<=n.maxTranslate()||h<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(h<s.startX&&n.translate<=n.maxTranslate()||h>s.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=h,s.currentY=p;const g=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(g**2+v**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let F;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:g*g+v*v>=25&&(F=Math.atan2(Math.abs(v),Math.abs(g))*180/Math.PI,i.isScrolling=n.isHorizontal()?F>r.touchAngle:90-F>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let C=n.isHorizontal()?g:v,w=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(C=Math.abs(C)*(o?1:-1),w=Math.abs(w)*(o?1:-1)),s.diff=C,C*=r.touchRatio,o&&(C=-C,w=-w);const S=n.touchesDirection;n.swipeDirection=C>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";const x=n.params.loop&&!r.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(x&&E&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const F=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(F)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&S!==n.touchesDirection&&x&&E&&Math.abs(C)>=1){Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=C+i.startTranslate;let T=!0,R=r.resistanceRatio;if(r.touchReleaseOnEdges&&(R=0),C>0?(x&&E&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(T=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+C)**R))):C<0&&(x&&E&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(T=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-C)**R))),T&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(C)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Jhe(e){const t=this,n=t.touchEventsData;let i=e;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(F=>F.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:h}=t;if(!h||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const p=Ev(),g=p-n.touchStartTime;if(t.allowClick){const F=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(F&&F[0]||i.target,F),t.emit("tap click",i),g<300&&p-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Ev(),l5(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(o.followFinger?v=l?t.translate:-t.translate:v=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const C=v>=-t.maxTranslate()&&!t.params.loop;let w=0,S=t.slidesSizesGrid[0];for(let F=0;F<u.length;F+=F<o.slidesPerGroupSkip?1:o.slidesPerGroup){const P=F<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[F+P]<"u"?(C||v>=u[F]&&v<u[F+P])&&(w=F,S=u[F+P]-u[F]):(C||v>=u[F])&&(w=F,S=u[u.length-1]-u[u.length-2])}let x=null,E=null;o.rewind&&(t.isBeginning?E=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(x=0));const T=(v-u[w])/S,R=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(T>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?x:w+R):t.slideTo(w)),t.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?t.slideTo(w+R):E!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?t.slideTo(E):t.slideTo(w))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(w+R):t.slideTo(w):(t.swipeDirection==="next"&&t.slideTo(x!==null?x:w+R),t.swipeDirection==="prev"&&t.slideTo(E!==null?E:w))}}function l_(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!a?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function efe(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function tfe(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let r;const s=e.maxTranslate()-e.minTranslate();s===0?r=0:r=(e.translate-e.minTranslate())/s,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function nfe(e){const t=this;g0(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function ife(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const g5=(e,t)=>{const n=ra(),{params:i,el:r,wrapperEl:s,device:o}=e,a=!!i.nested,l=t==="on"?"addEventListener":"removeEventListener",u=t;!r||typeof r=="string"||(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",e.onTouchStart,{passive:!1}),r[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",e.onClick,!0),i.cssMode&&s[l]("scroll",e.onScroll),i.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",l_,!0):e[u]("observerUpdate",l_,!0),r[l]("load",e.onLoad,{capture:!0}))};function rfe(){const e=this,{params:t}=e;e.onTouchStart=Qhe.bind(e),e.onTouchMove=Zhe.bind(e),e.onTouchEnd=Jhe.bind(e),e.onDocumentTouchStart=ife.bind(e),t.cssMode&&(e.onScroll=tfe.bind(e)),e.onClick=efe.bind(e),e.onLoad=nfe.bind(e),g5(e,"on")}function sfe(){g5(this,"off")}var ofe={attachEvents:rfe,detachEvents:sfe};const c_=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function afe(){const e=this,{realIndex:t,initialized:n,params:i,el:r}=e,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=ra(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:o.querySelector(i.breakpointsBase),u=e.getBreakpoint(s,a,l);if(!u||e.currentBreakpoint===u)return;const p=(u in s?s[u]:void 0)||e.originalParams,g=c_(e,i),v=c_(e,p),C=e.params.grabCursor,w=p.grabCursor,S=i.enabled;g&&!v?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!g&&v&&(r.classList.add(`${i.containerModifierClass}grid`),(p.grid.fill&&p.grid.fill==="column"||!p.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),C&&!w?e.unsetGrabCursor():!C&&w&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof p[P]>"u")return;const _=i[P]&&i[P].enabled,L=p[P]&&p[P].enabled;_&&!L&&e[P].disable(),!_&&L&&e[P].enable()});const x=p.direction&&p.direction!==i.direction,E=i.loop&&(p.slidesPerView!==i.slidesPerView||x),T=i.loop;x&&n&&e.changeDirection(),gr(e.params,p);const R=e.params.enabled,F=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),S&&!R?e.disable():!S&&R&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",p),n&&(E?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!T&&F?(e.loopCreate(t),e.updateSlides()):T&&!F&&e.loopDestroy()),e.emit("breakpoint",p)}function lfe(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let i=!1;const r=Gi(),s=t==="window"?r.innerHeight:n.clientHeight,o=Object.keys(e).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];t==="window"?r.matchMedia(`(min-width: ${u}px)`).matches&&(i=l):u<=n.clientWidth&&(i=l)}return i||"max"}var cfe={setBreakpoint:afe,getBreakpoint:lfe};function ufe(e,t){const n=[];return e.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(t+r)}):typeof i=="string"&&n.push(t+i)}),n}function dfe(){const e=this,{classNames:t,params:n,rtl:i,el:r,device:s}=e,o=ufe(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),r.classList.add(...t),e.emitContainerClasses()}function hfe(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var ffe={addClasses:dfe,removeClasses:hfe};function pfe(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const r=e.slides.length-1,s=e.slidesGrid[r]+e.slidesSizesGrid[r]+i*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var gfe={checkOverflow:pfe},ix={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mfe(e,t){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){gr(t,i);return}if(e[r]===!0&&(e[r]={enabled:!0}),r==="navigation"&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),!(r in e&&"enabled"in s)){gr(t,i);return}typeof e[r]=="object"&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),gr(t,i)}}const zy={eventsEmitter:fhe,update:Ehe,translate:_he,transition:Ohe,slide:zhe,loop:Yhe,grabCursor:qhe,events:ofe,breakpoints:cfe,checkOverflow:gfe,classes:ffe},Wy={};let e2=class _o{constructor(){let t,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[t,n]=r,n||(n={}),n=gr({},n),t&&!n.el&&(n.el=t);const o=ra();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const h=[];return o.querySelectorAll(n.el).forEach(p=>{const g=gr({},n,{el:p});h.push(new _o(g))}),h}const a=this;a.__swiper__=!0,a.support=d5(),a.device=h5({userAgent:n.userAgent}),a.browser=f5(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(h=>{h({params:n,swiper:a,extendParams:mfe(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=gr({},ix,l);return a.params=gr({},u,Wy,n),a.originalParams=gr({},a.params),a.passedParams=gr({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(h=>{a.on(h,a.params.on[h])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:i}=this,r=Js(n,`.${i.slideClass}, swiper-slide`),s=ep(r[0]);return ep(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:i}=t;t.slides=Js(n,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*t+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);n.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=i;let h=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let p=s[u]?Math.ceil(s[u].swiperSlideSize):0,g;for(let v=u+1;v<s.length;v+=1)s[v]&&!g&&(p+=Math.ceil(s[v].swiperSlideSize),h+=1,p>l&&(g=!0));for(let v=u-1;v>=0;v-=1)s[v]&&!g&&(p+=s[v].swiperSlideSize,h+=1,p>l&&(g=!0))}else if(t==="current")for(let p=u+1;p<s.length;p+=1)(n?o[p]+a[p]-o[u]<l:o[p]-o[u]<l)&&(h+=1);else for(let p=u-1;p>=0;p-=1)o[u]-o[p]<l&&(h+=1);return h}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&g0(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const o=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const o=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(o.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let i=t||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Js(i,r())[0];return!o&&n.params.createElements&&(o=Jf("div",n.params.wrapperClass),i.append(o),Js(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||nl(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||nl(i,"direction")==="rtl"),wrongRTL:nl(o,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?g0(n,s):s.addEventListener("load",o=>{g0(n,o.target)})}),nx(n),n.initialized=!0,nx(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),t!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),ehe(i)),i.destroyed=!0),null}static extendDefaults(t){gr(Wy,t)}static get extendedDefaults(){return Wy}static get defaults(){return ix}static installModule(t){_o.prototype.__modules__||(_o.prototype.__modules__=[]);const n=_o.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>_o.installModule(n)),_o):(_o.installModule(t),_o)}};Object.keys(zy).forEach(e=>{Object.keys(zy[e]).forEach(t=>{e2.prototype[t]=zy[e][t]})});e2.use([dhe,hhe]);const m5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Mc(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function cd(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:Mc(t[i])&&Mc(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:cd(e[i],t[i]):e[i]=t[i]})}function v5(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function C5(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function w5(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function y5(e){e===void 0&&(e="");const t=e.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return t.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function vfe(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Cfe(e){let{swiper:t,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=e;const u=r.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:h,pagination:p,navigation:g,scrollbar:v,virtual:C,thumbs:w}=t;let S,x,E,T,R,F,P,_;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(S=!0),r.includes("controller")&&i.controller&&i.controller.control&&h.controller&&!h.controller.control&&(x=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(h.pagination||h.pagination===!1)&&p&&!p.el&&(E=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(h.scrollbar||h.scrollbar===!1)&&v&&!v.el&&(T=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(R=!0);const L=A=>{t[A]&&(t[A].destroy(),A==="navigation"?(t.isElement&&(t[A].prevEl.remove(),t[A].nextEl.remove()),h[A].prevEl=void 0,h[A].nextEl=void 0,t[A].prevEl=void 0,t[A].nextEl=void 0):(t.isElement&&t[A].el.remove(),h[A].el=void 0,t[A].el=void 0))};r.includes("loop")&&t.isElement&&(h.loop&&!i.loop?F=!0:!h.loop&&i.loop?P=!0:_=!0),u.forEach(A=>{if(Mc(h[A])&&Mc(i[A]))Object.assign(h[A],i[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in i[A]&&!i[A].enabled&&L(A);else{const O=i[A];(O===!0||O===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?O===!1&&L(A):h[A]=i[A]}}),u.includes("controller")&&!x&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),r.includes("children")&&n&&C&&h.virtual.enabled?(C.slides=n,C.update(!0)):r.includes("virtual")&&C&&h.virtual.enabled&&(n&&(C.slides=n),C.update(!0)),r.includes("children")&&n&&h.loop&&(_=!0),S&&w.init()&&w.update(!0),x&&(t.controller.control=h.controller.control),E&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(h.pagination.el=l),p.init(),p.render(),p.update()),T&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(h.scrollbar.el=a),v.init(),v.updateSize(),v.setTranslate()),R&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),tp(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),tp(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),s&&(h.navigation.nextEl=s),o&&(h.navigation.prevEl=o),g.init(),g.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(F||_)&&t.loopDestroy(),(P||_)&&t.loopCreate(),t.update()}function wfe(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},i={},r={};cd(n,ix),n._emitClasses=!0,n.init=!1;const s={},o=m5.map(l=>l.replace(/_/,"")),a=Object.assign({},e);return Object.keys(a).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?Mc(e[l])?(n[l]={},r[l]={},cd(n[l],e[l]),cd(r[l],e[l])):(n[l]=e[l],r[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?i[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:s[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function yfe(e,t){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=e;v5(t)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),C5(t)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),w5(t)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Sfe(e,t,n,i,r){const s=[];if(!t)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),u=n.map(r);l.join("")!==u.join("")&&o("children"),i.length!==n.length&&o("children")}return m5.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(Mc(e[l])&&Mc(t[l])){const u=Object.keys(e[l]),h=Object.keys(t[l]);u.length!==h.length?o(l):(u.forEach(p=>{e[l][p]!==t[l][p]&&o(l)}),h.forEach(p=>{e[l][p]!==t[l][p]&&o(l)}))}else e[l]!==t[l]&&o(l)}),s}const xfe=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dv.apply(this,arguments)}function S5(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function x5(e){const t=[];return te.Children.toArray(e).forEach(n=>{S5(n)?t.push(n):n.props&&n.props.children&&x5(n.props.children).forEach(i=>t.push(i))}),t}function bfe(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return te.Children.toArray(e).forEach(i=>{if(S5(i))t.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=x5(i.props.children);r.length>0?r.forEach(s=>t.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:t,slots:n}}function Efe(e,t,n){if(!n)return null;const i=h=>{let p=h;return h<0?p=t.length+h:p>=t.length&&(p=p-t.length),p},r=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,u=[];for(let h=a;h<l;h+=1)h>=s&&h<=o&&u.push(t[i(h)]);return u.map((h,p)=>te.cloneElement(h,{swiper:e,style:r,key:h.props.virtualIndex||h.key||`slide-${p}`}))}function Ef(e,t){return typeof window>"u"?D.useEffect(e,t):D.useLayoutEffect(e,t)}const u_=D.createContext(null),Tfe=D.createContext(null),b5=D.forwardRef(function(e,t){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=e===void 0?{}:e,l=!1;const[u,h]=D.useState("swiper"),[p,g]=D.useState(null),[v,C]=D.useState(!1),w=D.useRef(!1),S=D.useRef(null),x=D.useRef(null),E=D.useRef(null),T=D.useRef(null),R=D.useRef(null),F=D.useRef(null),P=D.useRef(null),_=D.useRef(null),{params:L,passedParams:A,rest:O,events:I}=wfe(a),{slides:z,slots:J}=bfe(s),ae=()=>{C(!v)};Object.assign(L.on,{_containerClasses(ce,H){h(H)}});const ie=()=>{Object.assign(L.on,I),l=!0;const ce={...L};if(delete ce.wrapperClass,x.current=new e2(ce),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=z;const H={cache:!1,slides:z,renderExternal:g,renderExternalUpdate:!1};cd(x.current.params.virtual,H),cd(x.current.originalParams.virtual,H)}};S.current||ie(),x.current&&x.current.on("_beforeBreakpoint",ae);const j=()=>{l||!I||!x.current||Object.keys(I).forEach(ce=>{x.current.on(ce,I[ce])})},W=()=>{!I||!x.current||Object.keys(I).forEach(ce=>{x.current.off(ce,I[ce])})};D.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",ae)}),D.useEffect(()=>{!w.current&&x.current&&(x.current.emitSlidesClasses(),w.current=!0)}),Ef(()=>{if(t&&(t.current=S.current),!!S.current)return x.current.destroyed&&ie(),yfe({el:S.current,nextEl:R.current,prevEl:F.current,paginationEl:P.current,scrollbarEl:_.current,swiper:x.current},L),o&&!x.current.destroyed&&o(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Ef(()=>{j();const ce=Sfe(A,E.current,z,T.current,H=>H.key);return E.current=A,T.current=z,ce.length&&x.current&&!x.current.destroyed&&Cfe({swiper:x.current,slides:z,passedParams:A,changedParams:ce,nextEl:R.current,prevEl:F.current,scrollbarEl:_.current,paginationEl:P.current}),()=>{W()}}),Ef(()=>{xfe(x.current)},[p]);function Q(){return L.virtual?Efe(x.current,z,p):z.map((ce,H)=>te.cloneElement(ce,{swiper:x.current,swiperSlideIndex:H}))}return te.createElement(i,Dv({ref:S,className:y5(`${u}${n?` ${n}`:""}`)},O),te.createElement(Tfe.Provider,{value:x.current},J["container-start"],te.createElement(r,{className:vfe(L.wrapperClass)},J["wrapper-start"],Q(),J["wrapper-end"]),v5(L)&&te.createElement(te.Fragment,null,te.createElement("div",{ref:F,className:"swiper-button-prev"}),te.createElement("div",{ref:R,className:"swiper-button-next"})),w5(L)&&te.createElement("div",{ref:_,className:"swiper-scrollbar"}),C5(L)&&te.createElement("div",{ref:P,className:"swiper-pagination"}),J["container-end"]))});b5.displayName="Swiper";const E5=D.forwardRef(function(e,t){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...h}=e===void 0?{}:e;const p=D.useRef(null),[g,v]=D.useState("swiper-slide"),[C,w]=D.useState(!1);function S(R,F,P){F===p.current&&v(P)}Ef(()=>{if(typeof u<"u"&&(p.current.swiperSlideIndex=u),t&&(t.current=p.current),!(!p.current||!s)){if(s.destroyed){g!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",S),()=>{s&&s.off("_slideClass",S)}}}),Ef(()=>{s&&p.current&&!s.destroyed&&v(s.getSlideClasses(p.current))},[s]);const x={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},E=()=>typeof i=="function"?i(x):i,T=()=>{w(!0)};return te.createElement(n,Dv({ref:p,className:y5(`${g}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:T},h),o&&te.createElement(u_.Provider,{value:x},te.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},E(),a&&!C&&te.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&te.createElement(u_.Provider,{value:x},E(),a&&!C&&te.createElement("div",{className:"swiper-lazy-preloader"})))});E5.displayName="SwiperSlide";function T5(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Js(e.el,`.${i[r]}`)[0];s||(s=Jf("div",i[r]),s.className=i[r],e.el.append(s)),n[r]=s,t[r]=s}}),n}function Dfe(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(C){let w;return C&&typeof C=="string"&&t.isElement&&(w=t.el.querySelector(C)||t.hostEl.querySelector(C),w)?w:(C&&(typeof C=="string"&&(w=[...document.querySelectorAll(C)]),t.params.uniqueNavElements&&typeof C=="string"&&w&&w.length>1&&t.el.querySelectorAll(C).length===1?w=t.el.querySelector(C):w&&w.length===1&&(w=w[0])),C&&!w?C:w)}function o(C,w){const S=t.params.navigation;C=St(C),C.forEach(x=>{x&&(x.classList[w?"add":"remove"](...S.disabledClass.split(" ")),x.tagName==="BUTTON"&&(x.disabled=w),t.params.watchOverflow&&t.enabled&&x.classList[t.isLocked?"add":"remove"](S.lockClass))})}function a(){const{nextEl:C,prevEl:w}=t.navigation;if(t.params.loop){o(w,!1),o(C,!1);return}o(w,t.isBeginning&&!t.params.rewind),o(C,t.isEnd&&!t.params.rewind)}function l(C){C.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function u(C){C.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function h(){const C=t.params.navigation;if(t.params.navigation=T5(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(C.nextEl||C.prevEl))return;let w=s(C.nextEl),S=s(C.prevEl);Object.assign(t.navigation,{nextEl:w,prevEl:S}),w=St(w),S=St(S);const x=(E,T)=>{E&&E.addEventListener("click",T==="next"?u:l),!t.enabled&&E&&E.classList.add(...C.lockClass.split(" "))};w.forEach(E=>x(E,"next")),S.forEach(E=>x(E,"prev"))}function p(){let{nextEl:C,prevEl:w}=t.navigation;C=St(C),w=St(w);const S=(x,E)=>{x.removeEventListener("click",E==="next"?u:l),x.classList.remove(...t.params.navigation.disabledClass.split(" "))};C.forEach(x=>S(x,"next")),w.forEach(x=>S(x,"prev"))}i("init",()=>{t.params.navigation.enabled===!1?v():(h(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{nextEl:C,prevEl:w}=t.navigation;if(C=St(C),w=St(w),t.enabled){a();return}[...C,...w].filter(S=>!!S).forEach(S=>S.classList.add(t.params.navigation.lockClass))}),i("click",(C,w)=>{let{nextEl:S,prevEl:x}=t.navigation;S=St(S),x=St(x);const E=w.target;let T=x.includes(E)||S.includes(E);if(t.isElement&&!T){const R=w.path||w.composedPath&&w.composedPath();R&&(T=R.find(F=>S.includes(F)||x.includes(F)))}if(t.params.navigation.hideOnClick&&!T){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===E||t.pagination.el.contains(E)))return;let R;S.length?R=S[0].classList.contains(t.params.navigation.hiddenClass):x.length&&(R=x[0].classList.contains(t.params.navigation.hiddenClass)),r(R===!0?"navigationShow":"navigationHide"),[...S,...x].filter(F=>!!F).forEach(F=>F.classList.toggle(t.params.navigation.hiddenClass))}});const g=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),h(),a()},v=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(t.navigation,{enable:g,disable:v,update:a,init:h,destroy:p})}function Za(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Rfe(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(E,T){const{bulletActiveClass:R}=t.params.pagination;E&&(E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${R}-${T}`),E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${R}-${T}-${T}`)))}function h(E,T,R){if(E=E%R,T=T%R,T===E+1)return"next";if(T===E-1)return"previous"}function p(E){const T=E.target.closest(Za(t.params.pagination.bulletClass));if(!T)return;E.preventDefault();const R=ep(T)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===R)return;const F=h(t.realIndex,R,t.slides.length);F==="next"?t.slideNext():F==="previous"?t.slidePrev():t.slideToLoop(R)}else t.slideTo(R)}function g(){const E=t.rtl,T=t.params.pagination;if(l())return;let R=t.pagination.el;R=St(R);let F,P;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,L=t.params.loop?Math.ceil(_/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(P=t.previousRealIndex||0,F=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(F=t.snapIndex,P=t.previousSnapIndex):(P=t.previousIndex||0,F=t.activeIndex||0),T.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const A=t.pagination.bullets;let O,I,z;if(T.dynamicBullets&&(o=tx(A[0],t.isHorizontal()?"width":"height"),R.forEach(J=>{J.style[t.isHorizontal()?"width":"height"]=`${o*(T.dynamicMainBullets+4)}px`}),T.dynamicMainBullets>1&&P!==void 0&&(a+=F-(P||0),a>T.dynamicMainBullets-1?a=T.dynamicMainBullets-1:a<0&&(a=0)),O=Math.max(F-a,0),I=O+(Math.min(A.length,T.dynamicMainBullets)-1),z=(I+O)/2),A.forEach(J=>{const ae=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ie=>`${T.bulletActiveClass}${ie}`)].map(ie=>typeof ie=="string"&&ie.includes(" ")?ie.split(" "):ie).flat();J.classList.remove(...ae)}),R.length>1)A.forEach(J=>{const ae=ep(J);ae===F?J.classList.add(...T.bulletActiveClass.split(" ")):t.isElement&&J.setAttribute("part","bullet"),T.dynamicBullets&&(ae>=O&&ae<=I&&J.classList.add(...`${T.bulletActiveClass}-main`.split(" ")),ae===O&&u(J,"prev"),ae===I&&u(J,"next"))});else{const J=A[F];if(J&&J.classList.add(...T.bulletActiveClass.split(" ")),t.isElement&&A.forEach((ae,ie)=>{ae.setAttribute("part",ie===F?"bullet-active":"bullet")}),T.dynamicBullets){const ae=A[O],ie=A[I];for(let j=O;j<=I;j+=1)A[j]&&A[j].classList.add(...`${T.bulletActiveClass}-main`.split(" "));u(ae,"prev"),u(ie,"next")}}if(T.dynamicBullets){const J=Math.min(A.length,T.dynamicMainBullets+4),ae=(o*J-o)/2-z*o,ie=E?"right":"left";A.forEach(j=>{j.style[t.isHorizontal()?ie:"top"]=`${ae}px`})}}R.forEach((A,O)=>{if(T.type==="fraction"&&(A.querySelectorAll(Za(T.currentClass)).forEach(I=>{I.textContent=T.formatFractionCurrent(F+1)}),A.querySelectorAll(Za(T.totalClass)).forEach(I=>{I.textContent=T.formatFractionTotal(L)})),T.type==="progressbar"){let I;T.progressbarOpposite?I=t.isHorizontal()?"vertical":"horizontal":I=t.isHorizontal()?"horizontal":"vertical";const z=(F+1)/L;let J=1,ae=1;I==="horizontal"?J=z:ae=z,A.querySelectorAll(Za(T.progressbarFillClass)).forEach(ie=>{ie.style.transform=`translate3d(0,0,0) scaleX(${J}) scaleY(${ae})`,ie.style.transitionDuration=`${t.params.speed}ms`})}T.type==="custom"&&T.renderCustom?(tp(A,T.renderCustom(t,F+1,L)),O===0&&r("paginationRender",A)):(O===0&&r("paginationRender",A),r("paginationUpdate",A)),t.params.watchOverflow&&t.enabled&&A.classList[t.isLocked?"add":"remove"](T.lockClass)})}function v(){const E=t.params.pagination;if(l())return;const T=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let R=t.pagination.el;R=St(R);let F="";if(E.type==="bullets"){let P=t.params.loop?Math.ceil(T/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&P>T&&(P=T);for(let _=0;_<P;_+=1)E.renderBullet?F+=E.renderBullet.call(t,_,E.bulletClass):F+=`<${E.bulletElement} ${t.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?F=E.renderFraction.call(t,E.currentClass,E.totalClass):F=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?F=E.renderProgressbar.call(t,E.progressbarFillClass):F=`<span class="${E.progressbarFillClass}"></span>`),t.pagination.bullets=[],R.forEach(P=>{E.type!=="custom"&&tp(P,F||""),E.type==="bullets"&&t.pagination.bullets.push(...P.querySelectorAll(Za(E.bulletClass)))}),E.type!=="custom"&&r("paginationRender",R[0])}function C(){t.params.pagination=T5(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const E=t.params.pagination;if(!E.el)return;let T;typeof E.el=="string"&&t.isElement&&(T=t.el.querySelector(E.el)),!T&&typeof E.el=="string"&&(T=[...document.querySelectorAll(E.el)]),T||(T=E.el),!(!T||T.length===0)&&(t.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(T)&&T.length>1&&(T=[...t.el.querySelectorAll(E.el)],T.length>1&&(T=T.find(R=>u5(R,".swiper")[0]===t.el))),Array.isArray(T)&&T.length===1&&(T=T[0]),Object.assign(t.pagination,{el:T}),T=St(T),T.forEach(R=>{E.type==="bullets"&&E.clickable&&R.classList.add(...(E.clickableClass||"").split(" ")),R.classList.add(E.modifierClass+E.type),R.classList.add(t.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(R.classList.add(`${E.modifierClass}${E.type}-dynamic`),a=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&R.classList.add(E.progressbarOppositeClass),E.clickable&&R.addEventListener("click",p),t.enabled||R.classList.add(E.lockClass)}))}function w(){const E=t.params.pagination;if(l())return;let T=t.pagination.el;T&&(T=St(T),T.forEach(R=>{R.classList.remove(E.hiddenClass),R.classList.remove(E.modifierClass+E.type),R.classList.remove(t.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(R.classList.remove(...(E.clickableClass||"").split(" ")),R.removeEventListener("click",p))})),t.pagination.bullets&&t.pagination.bullets.forEach(R=>R.classList.remove(...E.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const E=t.params.pagination;let{el:T}=t.pagination;T=St(T),T.forEach(R=>{R.classList.remove(E.horizontalClass,E.verticalClass),R.classList.add(t.isHorizontal()?E.horizontalClass:E.verticalClass)})}),i("init",()=>{t.params.pagination.enabled===!1?x():(C(),v(),g())}),i("activeIndexChange",()=>{typeof t.snapIndex>"u"&&g()}),i("snapIndexChange",()=>{g()}),i("snapGridLengthChange",()=>{v(),g()}),i("destroy",()=>{w()}),i("enable disable",()=>{let{el:E}=t.pagination;E&&(E=St(E),E.forEach(T=>T.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{g()}),i("click",(E,T)=>{const R=T.target,F=St(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&F&&F.length>0&&!R.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&R===t.navigation.nextEl||t.navigation.prevEl&&R===t.navigation.prevEl))return;const P=F[0].classList.contains(t.params.pagination.hiddenClass);r(P===!0?"paginationShow":"paginationHide"),F.forEach(_=>_.classList.toggle(t.params.pagination.hiddenClass))}});const S=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:E}=t.pagination;E&&(E=St(E),E.forEach(T=>T.classList.remove(t.params.pagination.paginationDisabledClass))),C(),v(),g()},x=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:E}=t.pagination;E&&(E=St(E),E.forEach(T=>T.classList.add(t.params.pagination.paginationDisabledClass))),w()};Object.assign(t.pagination,{enable:S,disable:x,render:v,update:g,init:C,destroy:w})}function Ffe(e){let{swiper:t,extendParams:n,on:i}=e;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l(W){const Q=r;Q.length!==0&&tp(Q,W)}function u(W){const Q=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(W).replace(/x/g,Q)}function h(W){W=St(W),W.forEach(Q=>{Q.setAttribute("tabIndex","0")})}function p(W){W=St(W),W.forEach(Q=>{Q.setAttribute("tabIndex","-1")})}function g(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("role",Q)})}function v(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("aria-roledescription",Q)})}function C(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("aria-controls",Q)})}function w(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("aria-label",Q)})}function S(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("id",Q)})}function x(W,Q){W=St(W),W.forEach(ce=>{ce.setAttribute("aria-live",Q)})}function E(W){W=St(W),W.forEach(Q=>{Q.setAttribute("aria-disabled",!0)})}function T(W){W=St(W),W.forEach(Q=>{Q.setAttribute("aria-disabled",!1)})}function R(W){if(W.keyCode!==13&&W.keyCode!==32)return;const Q=t.params.a11y,ce=W.target;if(!(t.pagination&&t.pagination.el&&(ce===t.pagination.el||t.pagination.el.contains(W.target))&&!W.target.matches(Za(t.params.pagination.bulletClass)))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const H=St(t.navigation.prevEl);St(t.navigation.nextEl).includes(ce)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?l(Q.lastSlideMessage):l(Q.nextSlideMessage)),H.includes(ce)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?l(Q.firstSlideMessage):l(Q.prevSlideMessage))}t.pagination&&ce.matches(Za(t.params.pagination.bulletClass))&&ce.click()}}function F(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:W,prevEl:Q}=t.navigation;Q&&(t.isBeginning?(E(Q),p(Q)):(T(Q),h(Q))),W&&(t.isEnd?(E(W),p(W)):(T(W),h(W)))}function P(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function _(){return P()&&t.params.pagination.clickable}function L(){const W=t.params.a11y;P()&&t.pagination.bullets.forEach(Q=>{t.params.pagination.clickable&&(h(Q),t.params.pagination.renderBullet||(g(Q,"button"),w(Q,W.paginationBulletMessage.replace(/\{\{index\}\}/,ep(Q)+1)))),Q.matches(Za(t.params.pagination.bulletActiveClass))?Q.setAttribute("aria-current","true"):Q.removeAttribute("aria-current")})}const A=(W,Q,ce)=>{h(W),W.tagName!=="BUTTON"&&(g(W,"button"),W.addEventListener("keydown",R)),w(W,ce),C(W,Q)},O=W=>{o&&o!==W.target&&!o.contains(W.target)&&(s=!0),t.a11y.clicked=!0},I=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},z=W=>{a=new Date().getTime()},J=W=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const Q=W.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!Q||!t.slides.includes(Q))return;o=Q;const ce=t.slides.indexOf(Q)===t.activeIndex,H=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(Q);ce||H||W.sourceCapabilities&&W.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{s||(t.params.loop?t.slideToLoop(t.getSlideIndexWhenGrid(parseInt(Q.getAttribute("data-swiper-slide-index"))),0):t.slideTo(t.getSlideIndexWhenGrid(t.slides.indexOf(Q)),0),s=!1)}))},ae=()=>{const W=t.params.a11y;W.itemRoleDescriptionMessage&&v(t.slides,W.itemRoleDescriptionMessage),W.slideRole&&g(t.slides,W.slideRole);const Q=t.slides.length;W.slideLabelMessage&&t.slides.forEach((ce,H)=>{const le=t.params.loop?parseInt(ce.getAttribute("data-swiper-slide-index"),10):H,B=W.slideLabelMessage.replace(/\{\{index\}\}/,le+1).replace(/\{\{slidesLength\}\}/,Q);w(ce,B)})},ie=()=>{const W=t.params.a11y;t.el.append(r);const Q=t.el;W.containerRoleDescriptionMessage&&v(Q,W.containerRoleDescriptionMessage),W.containerMessage&&w(Q,W.containerMessage),W.containerRole&&g(Q,W.containerRole);const ce=t.wrapperEl,H=W.id||ce.getAttribute("id")||`swiper-wrapper-${u(16)}`,le=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";S(ce,H),x(ce,le),ae();let{nextEl:B,prevEl:Y}=t.navigation?t.navigation:{};B=St(B),Y=St(Y),B&&B.forEach(ee=>A(ee,H,W.nextSlideMessage)),Y&&Y.forEach(ee=>A(ee,H,W.prevSlideMessage)),_()&&St(t.pagination.el).forEach(de=>{de.addEventListener("keydown",R)}),ra().addEventListener("visibilitychange",z),t.el.addEventListener("focus",J,!0),t.el.addEventListener("focus",J,!0),t.el.addEventListener("pointerdown",O,!0),t.el.addEventListener("pointerup",I,!0)};function j(){r&&r.remove();let{nextEl:W,prevEl:Q}=t.navigation?t.navigation:{};W=St(W),Q=St(Q),W&&W.forEach(H=>H.removeEventListener("keydown",R)),Q&&Q.forEach(H=>H.removeEventListener("keydown",R)),_()&&St(t.pagination.el).forEach(le=>{le.removeEventListener("keydown",R)}),ra().removeEventListener("visibilitychange",z),t.el&&typeof t.el!="string"&&(t.el.removeEventListener("focus",J,!0),t.el.removeEventListener("pointerdown",O,!0),t.el.removeEventListener("pointerup",I,!0))}i("beforeInit",()=>{r=Jf("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{t.params.a11y.enabled&&ie()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&ae()}),i("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&F()}),i("paginationUpdate",()=>{t.params.a11y.enabled&&L()}),i("destroy",()=>{t.params.a11y.enabled&&j()})}const Mfe=({slides:e=[],...t})=>G.jsx("div",{className:"swiper-box",children:G.jsx(b5,{modules:[Dfe,Rfe,Ffe],...t,onSlideChange:n=>console.log("slide index:",n.activeIndex),onSwiper:n=>console.log("swiper instance",n),style:{width:"100%",height:300},children:e.map((n,i)=>G.jsx(E5,{children:G.jsx("div",{className:"swiper-img-box",children:G.jsx("img",{src:n.src,alt:n.alt})})},i))})}),_fe=[{src:Qde,alt:"  1"}],d_=[{id:"project1",src:$a,alt:"  1"},{id:"project2",src:$a,alt:"  1"},{id:"project3",src:$a,alt:"  1"},{id:"project4",src:$a,alt:"  1"},{id:"project5",src:$a,alt:"  1"},{id:"project6",src:$a,alt:"  1"},{id:"project7",src:$a,alt:"  1"},{id:"project8",src:$a,alt:"  1"}];function Afe(){return G.jsxs("div",{children:[G.jsx("div",{className:"in-wrap",children:G.jsx(Mfe,{spaceBetween:0,slidesPerView:1,slides:_fe})}),G.jsxs("div",{className:"in-wrap",children:[G.jsx("div",{className:"title-wrap",children:G.jsx("h2",{children:"  "})}),G.jsx("ul",{className:`grid-box con-5 ${d_.length>5?"row-2":""}`,children:d_.map(e=>G.jsx("li",{children:G.jsx("div",{className:"project-img-box",children:G.jsx("img",{src:e.src,alt:e.alt})})},e.id))})]})]})}const Pfe=({label:e,value:t,name:n,checked:i,onChange:r,icon:s})=>G.jsxs("label",{className:`
        tab-radio-item
        ${s?"icon-ver":""}
      `,children:[G.jsx("input",{type:"radio",name:n,value:t,checked:i,onChange:()=>r(t)}),G.jsxs("span",{className:"tab-radio-content",children:[s&&G.jsx("span",{className:"tab-radio-icon",children:s}),G.jsx("span",{className:"tab-radio-label",children:e})]})]}),Uy=({items:e=[],name:t="tab-group"})=>{const[n,i]=D.useState(e[0]?.value??"");return G.jsx("div",{className:"tab-radio-wrapper",children:e.map(r=>G.jsx(Pfe,{name:t,label:r.label,value:r.value,icon:r?.icon,iconClass:r?.iconClass,checked:n===r.value,onChange:i},r.value))})},kfe=e=>D.createElement("svg",{width:33,height:59,viewBox:"0 0 33 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("rect",{x:1.5,y:14.5,width:29,height:29,stroke:"#888888"})),Ofe=e=>D.createElement("svg",{width:30,height:59,viewBox:"0 0 30 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("rect",{x:.5,y:2.5,width:29,height:53,stroke:"#888888"})),Lfe=e=>D.createElement("svg",{width:35,height:59,viewBox:"0 0 35 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("rect",{x:34.5,y:16.5,width:25,height:34,transform:"rotate(90 34.5 16.5)",stroke:"#888888"})),Ife=()=>{const e=[{label:"v.1.0",value:"option1"},{label:"v.1.0 2",value:"option2"},{label:"v.1.0 3",value:"option3"}],[t,n]=D.useState(e[0]),i=w=>{n(w),console.log(" :",w)},r=[{label:"",value:""},{label:"FAST",value:"FAST"}],s=[{label:" ",value:"option1"},{label:"  2",value:"option2"},{label:"  3",value:"option3"}],[o,a]=D.useState(s[0]),l=w=>{a(w),console.log(" ():",w)},u=[{label:" ",value:"option1"},{label:"  2",value:"option2"},{label:"  3",value:"option3"}],[h,p]=D.useState(u[0]),g=w=>{p(w),console.log(" ():",w)},v=[{label:"1:1",value:"a",icon:G.jsx(kfe,{})},{label:"9:16",value:"b",icon:G.jsx(Ofe,{})},{label:"4:3",value:"c",icon:G.jsx(Lfe,{})}],C=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"}];return G.jsx("div",{className:"generator-wrap",children:G.jsxs("div",{className:"list-wrapper",children:[G.jsxs("div",{className:"list-box",children:[G.jsx("div",{className:"list-title-wrap",children:G.jsx("p",{className:"list-tit",children:""})}),G.jsx(Io,{label:"IEA-Gen-Image",value:t,onChange:i,options:e,openDirection:"bottom"})]}),G.jsxs("div",{className:"list-box",children:[G.jsx("div",{className:"list-title-wrap",children:G.jsx("p",{className:"list-tit",children:""})}),G.jsx(Uy,{items:r,name:"generate-radio"}),G.jsx(Io,{label:"",value:o,onChange:l,options:s,openDirection:"bottom"}),G.jsx(Io,{label:" ",value:h,onChange:g,options:u,openDirection:"bottom"})]}),G.jsxs("div",{className:"list-box",children:[G.jsx("p",{className:"list-tit",children:" "}),G.jsx(Io,{label:"",value:t,onChange:i,options:e,openDirection:"bottom"}),G.jsx("div",{className:"list-title-wrap",children:G.jsx("p",{className:"list-tit",children:" "})}),G.jsx(Uy,{items:v,name:"generate-radios"}),G.jsx("div",{className:"list-title-wrap",children:G.jsx("p",{className:"list-tit",children:" "})}),G.jsx(Uy,{items:C,name:"select2"})]})]})})},Nfe=()=>{const[e,t]=D.useState(""),[n,i]=D.useState(!1),r=s=>{t(s.target.value)};return G.jsxs("div",{className:"generator-prompt-wrap",children:[G.jsxs("div",{className:"prompt-input-wrap",children:[G.jsx(b0,{placeholder:"   ",value:e,onChange:r,disabled:n,required:!0}),G.jsx(b0,{placeholder:"   ",value:e,onChange:r,disabled:n,required:!0})]}),G.jsx(fi,{className:"prompt",children:G.jsx("span",{children:""})})]})},Bfe=()=>{const[e,t]=D.useState(1),n=4,i=Array.from({length:12},(l,u)=>`image${u+1}`),r=i.length,s=l=>{t(l),console.log(` ${l} .`)},o=(e-1)*n,a=i.slice(o,o+n);return G.jsxs("div",{className:"generator-image-list-wrap",children:[G.jsxs("div",{className:"list-title-wrap",children:[G.jsx("p",{className:"list-tit type02",children:" "}),G.jsx(fi,{className:"normal ico-reset",children:""})]}),G.jsx("div",{className:"generator-image-list",children:G.jsx("ul",{children:a.map((l,u)=>G.jsx("li",{children:G.jsx("img",{src:l,alt:` ${o+u+1}`})},u))})}),G.jsx(kA,{currentPage:e,totalItems:r,pageSize:n,onPageChange:s,type:"generator"})]})},Hfe=()=>G.jsxs("div",{className:"generator-content-wrap",children:[G.jsx(Ife,{}),G.jsxs("div",{className:"generator-box",children:[G.jsx(Bfe,{}),G.jsx(Nfe,{})]})]});function se(e,t,n){return(t=function(i){var r=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(i,"string");return typeof r=="symbol"?r:r+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(i){se(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gn(e,t){if(e==null)return{};var n,i,r=function(o,a){if(o==null)return{};var l={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)>=0)continue;l[u]=o[u]}return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function po(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class f_{constructor(){se(this,"browserShadowBlurConstant",1),se(this,"DPI",96),se(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),se(this,"perfLimitSizeTotal",2097152),se(this,"maxCacheSideLimit",4096),se(this,"minCacheSideLimit",256),se(this,"disableStyleCopyPaste",!1),se(this,"enableGLFiltering",!0),se(this,"textureSize",4096),se(this,"forceGLPutImageData",!1),se(this,"cachesBoundsOfCurve",!1),se(this,"fontPaths",{}),se(this,"NUM_FRACTION_DIGITS",4)}}const Rt=new class extends f_{constructor(e){super(),this.configure(e)}configure(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,e)}addFonts(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=oe(oe({},this.fontPaths),e)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(e=>{delete this.fontPaths[e]})}clearFonts(){this.fontPaths={}}restoreDefaults(e){const t=new f_,n=e?.reduce((i,r)=>(i[r]=t[r],i),{})||t;this.configure(n)}},gl=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return console[e]("fabric",...n)};class eo extends Error{constructor(t,n){super("fabric: ".concat(t),n)}}class Gfe extends eo{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}}class Vfe{}class zfe extends Vfe{testPrecision(t,n){const i="precision ".concat(n,` float;
void main(){}`),r=t.createShader(t.FRAGMENT_SHADER);return!!r&&(t.shaderSource(r,i),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS))}queryWebGL(t){const n=t.getContext("webgl");n&&(this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(n,i)),n.getExtension("WEBGL_lose_context").loseContext(),gl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const Wfe={};let p_;const uo=()=>p_||(p_={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new zfe,dispose(){},copyPasteData:Wfe}),Vd=()=>uo().document,wC=()=>uo().window,D5=()=>{var e;return Math.max((e=Rt.devicePixelRatio)!==null&&e!==void 0?e:wC().devicePixelRatio,1)},Tf=new class{constructor(){se(this,"charWidthsCache",{}),se(this,"boundsOfCurveCache",{})}getFontCache(e){let{fontFamily:t,fontStyle:n,fontWeight:i}=e;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const r=this.charWidthsCache[t],s="".concat(n.toLowerCase(),"_").concat((i+"").toLowerCase());return r[s]||(r[s]={}),r[s]}clearFontCache(e){(e=(e||"").toLowerCase())?this.charWidthsCache[e]&&delete this.charWidthsCache[e]:this.charWidthsCache={}}limitDimsByArea(e){const{perfLimitSizeTotal:t}=Rt,n=Math.sqrt(t*e);return[Math.floor(n),Math.floor(t/n)]}},rx="6.7.1";function m0(){}const Mp=Math.PI/2,Rv=2*Math.PI,t2=Math.PI/180,Hi=Object.freeze([1,0,0,1,0,0]),n2=16,Ka=.4477152502,mt="center",Gt="left",Xi="top",sx="bottom",An="right",Qi="none",i2=/\r?\n/,R5="moving",yC="scaling",F5="rotating",r2="rotate",M5="skewing",np="resizing",Ufe="modifyPoly",jfe="modifyPath",Fv="changed",SC="scale",nr="scaleX",Jr="scaleY",zd="skewX",Wd="skewY",Yn="fill",Zi="stroke",Mv="modified",ku="json",jy="svg",$e=new class{constructor(){this[ku]=new Map,this[jy]=new Map}has(e){return this[ku].has(e)}getClass(e){const t=this[ku].get(e);if(!t)throw new eo("No class registered for ".concat(e));return t}setClass(e,t){t?this[ku].set(t,e):(this[ku].set(e.type,e),this[ku].set(e.type.toLowerCase(),e))}getSVGClass(e){return this[jy].get(e)}setSVGClass(e,t){this[jy].set(t??e.type.toLowerCase(),e)}},_v=new class extends Array{remove(e){const t=this.indexOf(e);t>-1&&this.splice(t,1)}cancelAll(){const e=this.splice(0);return e.forEach(t=>t.abort()),e}cancelByCanvas(e){if(!e)return[];const t=this.filter(n=>{var i;return n.target===e||typeof n.target=="object"&&((i=n.target)===null||i===void 0?void 0:i.canvas)===e});return t.forEach(n=>n.abort()),t}cancelByTarget(e){if(!e)return[];const t=this.filter(n=>n.target===e);return t.forEach(n=>n.abort()),t}};class Yfe{constructor(){se(this,"__eventListeners",{})}on(t,n){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[r,s]=i;this.on(r,s)}),()=>this.off(t);if(n){const i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(n),()=>this.off(i,n)}return()=>!1}once(t,n){if(typeof t=="object"){const i=[];return Object.entries(t).forEach(r=>{let[s,o]=r;i.push(this.once(s,o))}),()=>i.forEach(r=>r())}if(n){const i=this.on(t,function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n.call(this,...s),i()});return i}return()=>!1}_removeEventListener(t,n){if(this.__eventListeners[t])if(n){const i=this.__eventListeners[t],r=i.indexOf(n);r>-1&&i.splice(r,1)}else this.__eventListeners[t]=[]}off(t,n){if(this.__eventListeners)if(t===void 0)for(const i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[r,s]=i;this._removeEventListener(r,s)}):this._removeEventListener(t,n)}fire(t,n){var i;if(!this.__eventListeners)return;const r=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(r)for(let s=0;s<r.length;s++)r[s].call(this,n||{})}}const Hu=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.splice(n,1),e},sa=e=>{if(e===0)return 1;switch(Math.abs(e)/Mp){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},oa=e=>{if(e===0)return 0;const t=e/Mp,n=Math.sign(e);switch(t){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(e)};class Se{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=n)}add(t){return new Se(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new Se(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new Se(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new Se(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new Se(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new Se(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new Se(this.x/t.x,this.y/t.y)}scalarDivide(t){return new Se(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return n=Math.max(Math.min(1,n),0),new Se(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n)}distanceFrom(t){const n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new Se(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new Se(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,n){return this.x=t,this.y=n,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const n=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=n,t.y=i}clone(){return new Se(this.x,this.y)}rotate(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s2;const i=oa(t),r=sa(t),s=this.subtract(n);return new Se(s.x*r-s.y*i,s.x*i+s.y*r).add(n)}transform(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Se(t[0]*this.x+t[2]*this.y+(n?0:t[4]),t[1]*this.x+t[3]*this.y+(n?0:t[5]))}}const s2=new Se(0,0),v0=e=>!!e&&Array.isArray(e._objects);function _5(e){class t extends e{constructor(){super(...arguments),se(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];const o=this._objects.push(...r);return r.forEach(a=>this._onObjectAdded(a)),o}insertAt(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return this._objects.splice(i,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const i=this._objects,r=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{const u=i.indexOf(l);u!==-1&&(i.splice(u,1),r.push(l),this._onObjectRemoved(l))}),r}forEachObject(i){this.getObjects().forEach((r,s,o)=>i(r,s,o))}getObjects(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...r))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,r){return!!this._objects.includes(i)||!!r&&this._objects.some(s=>s instanceof t&&s.contains(i,!0))}complexity(){return this._objects.reduce((i,r)=>i+=r.complexity?r.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(Hu(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(Hu(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,r){if(!i)return!1;const s=this._objects.indexOf(i);if(s!==0){const o=this.findNewLowerIndex(i,s,r);return Hu(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,r){if(!i)return!1;const s=this._objects.indexOf(i);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(i,s,r);return Hu(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,r){return i!==this._objects[r]&&(Hu(this._objects,i),this._objects.splice(r,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,r,s){let o;if(s){o=r;for(let a=r-1;a>=0;--a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=r-1;return o}findNewUpperIndex(i,r,s){let o;if(s){o=r;for(let a=r+1;a<this._objects.length;++a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=r+1;return o}collectObjects(i){let{left:r,top:s,width:o,height:a}=i,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=[],h=new Se(r,s),p=h.add(new Se(o,a));for(let g=this._objects.length-1;g>=0;g--){const v=this._objects[g];v.selectable&&v.visible&&(l&&v.intersectsWithRect(h,p)||v.isContainedWithinRect(h,p)||l&&v.containsPoint(h)||l&&v.containsPoint(p))&&u.push(v)}return u}}return t}class A5 extends Yfe{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const n in t)this.set(n,t[n])}_setObject(t){for(const n in t)this._set(n,t[n])}set(t,n){return typeof t=="object"?this._setObject(t):this._set(t,n),this}_set(t,n){this[t]=n}toggle(t){const n=this.get(t);return typeof n=="boolean"&&this.set(t,!n),this}get(t){return this[t]}}function C0(e){return wC().requestAnimationFrame(e)}function $fe(e){return wC().cancelAnimationFrame(e)}let Kfe=0;const ml=()=>Kfe++,aa=()=>{const e=Vd().createElement("canvas");if(!e||e.getContext===void 0)throw new eo("Failed to create `canvas` element");return e},qfe=()=>Vd().createElement("img"),es=e=>{const t=aa();return t.width=e.width,t.height=e.height,t},P5=(e,t,n)=>e.toDataURL("image/".concat(t),n),k5=(e,t,n)=>new Promise((i,r)=>{e.toBlob(i,"image/".concat(t),n)}),On=e=>e*t2,la=e=>e/t2,Xfe=e=>e.every((t,n)=>t===Hi[n]),$i=(e,t,n)=>new Se(e).transform(t,n),vs=e=>{const t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],{x:i,y:r}=new Se(e[4],e[5]).transform(n,!0);return n[4]=-i,n[5]=-r,n},mi=(e,t,n)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]],o2=(e,t)=>e.reduceRight((n,i)=>i&&n?mi(i,n,t):i||n,void 0)||Hi.concat(),O5=e=>{let[t,n]=e;return Math.atan2(n,t)},Av=e=>{const t=O5(e),n=Math.pow(e[0],2)+Math.pow(e[1],2),i=Math.sqrt(n),r=(e[0]*e[3]-e[2]*e[1])/i,s=Math.atan2(e[0]*e[2]+e[1]*e[3],n);return{angle:la(t),scaleX:i,scaleY:r,skewX:la(s),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},_p=function(e){return[1,0,0,1,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Ud(){let{angle:e=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:n=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=On(e),r=sa(i),s=oa(i);return[r,s,-s,r,t?t-(r*t-s*n):0,n?n-(s*t+r*n):0]}const a2=function(e){return[e,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,0,0]},L5=e=>Math.tan(On(e)),I5=e=>[1,0,L5(e),1,0,0],N5=e=>[1,L5(e),0,1,0,0],xC=e=>{let{scaleX:t=1,scaleY:n=1,flipX:i=!1,flipY:r=!1,skewX:s=0,skewY:o=0}=e,a=a2(i?-t:t,r?-n:n);return s&&(a=mi(a,I5(s),!0)),o&&(a=mi(a,N5(o),!0)),a},Qfe=e=>{const{translateX:t=0,translateY:n=0,angle:i=0}=e;let r=_p(t,n);i&&(r=mi(r,Ud({angle:i})));const s=xC(e);return Xfe(s)||(r=mi(r,s)),r},w0=function(e){let{signal:t,crossOrigin:n=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,r){if(t&&t.aborted)return r(new Gfe("loadImage"));const s=qfe();let o;t&&(o=function(l){s.src="",r(l)},t.addEventListener("abort",o,{once:!0}));const a=function(){s.onload=s.onerror=null,o&&t?.removeEventListener("abort",o),i(s)};e?(s.onload=a,s.onerror=function(){o&&t?.removeEventListener("abort",o),r(new eo("Error loading ".concat(s.src)))},n&&(s.crossOrigin=n),s.src=e):a()})},ip=function(e){let{signal:t,reviver:n=m0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,r)=>{const s=[];t&&t.addEventListener("abort",r,{once:!0}),Promise.all(e.map(o=>$e.getClass(o.type).fromObject(o,{signal:t}).then(a=>(n(o,a),s.push(a),a)))).then(i).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),r(o)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},bC=function(e){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const r=[];t&&t.addEventListener("abort",i,{once:!0});const s=Object.values(e).map(a=>a&&a.type&&$e.has(a.type)?ip([a],{signal:t}).then(l=>{let[u]=l;return r.push(u),u}):a),o=Object.keys(e);Promise.all(s).then(a=>a.reduce((l,u,h)=>(l[o[h]]=u,l),{})).then(n).catch(a=>{r.forEach(l=>{l.dispose&&l.dispose()}),i(a)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},jd=function(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{})},l2=(e,t)=>Object.keys(e).reduce((n,i)=>(t(e[i],i,e)&&(n[i]=e[i]),n),{}),ln=(e,t)=>parseFloat(Number(e).toFixed(t)),rp=e=>"matrix("+e.map(t=>ln(t,Rt.NUM_FRACTION_DIGITS)).join(" ")+")",$r=e=>!!e&&e.toLive!==void 0,g_=e=>!!e&&typeof e.toObject=="function",m_=e=>!!e&&e.offsetX!==void 0&&"source"in e,Yl=e=>!!e&&"multiSelectionStacking"in e;function B5(e){const t=e&&gs(e);let n=0,i=0;if(!e||!t)return{left:n,top:i};let r=e;const s=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===t?(n=o.scrollLeft||s.scrollLeft||0,i=o.scrollTop||s.scrollTop||0):(n+=r.scrollLeft||0,i+=r.scrollTop||0),r.nodeType!==1||r.style.position!=="fixed"););return{left:n,top:i}}const gs=e=>e.ownerDocument||null,H5=e=>{var t;return((t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},G5=function(e,t,n){let{width:i,height:r}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;e.width=i,e.height=r,s>1&&(e.setAttribute("width",(i*s).toString()),e.setAttribute("height",(r*s).toString()),t.scale(s,s))},ox=(e,t)=>{let{width:n,height:i}=t;n&&(e.style.width=typeof n=="number"?"".concat(n,"px"):n),i&&(e.style.height=typeof i=="number"?"".concat(i,"px"):i)};function v_(e){return e.onselectstart!==void 0&&(e.onselectstart=()=>!1),e.style.userSelect=Qi,e}class V5{constructor(t){se(this,"_originalCanvasStyle",void 0),se(this,"lower",void 0);const n=this.createLowerCanvas(t);this.lower={el:n,ctx:n.getContext("2d")}}createLowerCanvas(t){const n=(i=t)&&i.getContext!==void 0?t:t&&Vd().getElementById(t)||aa();var i;if(n.hasAttribute("data-fabric"))throw new eo("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=n.style.cssText,n.setAttribute("data-fabric","main"),n.classList.add("lower-canvas"),n}cleanupDOM(t){let{width:n,height:i}=t;const{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(n)),r.setAttribute("height","".concat(i)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,n){const{el:i,ctx:r}=this.lower;G5(i,r,t,n)}setCSSDimensions(t){ox(this.lower.el,t)}calcOffset(){return function(t){var n;const i=t&&gs(t),r={left:0,top:0};if(!i)return r;const s=((n=H5(t))===null||n===void 0?void 0:n.getComputedStyle(t,null))||{};r.left+=parseInt(s.borderLeftWidth,10)||0,r.top+=parseInt(s.borderTopWidth,10)||0,r.left+=parseInt(s.paddingLeft,10)||0,r.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const a=i.documentElement;t.getBoundingClientRect!==void 0&&(o=t.getBoundingClientRect());const l=B5(t);return{left:o.left+l.left-(a.clientLeft||0)+r.left,top:o.top+l.top-(a.clientTop||0)+r.top}}(this.lower.el)}dispose(){uo().dispose(this.lower.el),delete this.lower}}const Zfe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Hi]};class Ap extends _5(A5){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return Ap.ownDefaults}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(n),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new V5(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(gl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?D5():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,n){return this.setDimensions({width:t},n)}setHeight(t,n){return this.setDimensions({height:t},n)}_setDimensionsImpl(t){let{cssOnly:n=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n){const r=oe({width:this.width,height:this.height},t);this.elements.setDimensions(r,this.getRetinaScaling()),this.hasLostContext=!0,this.width=r.width,this.height=r.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,n){this._setDimensionsImpl(t,n),n&&n.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,n){const i=t,r=[...this.viewportTransform],s=$i(t,vs(r));r[0]=n,r[3]=n;const o=$i(s,r);r[4]+=i.x-o.x,r[5]+=i.y-o.y,this.setViewportTransform(r)}setZoom(t){this.zoomToPoint(new Se(0,0),t)}absolutePan(t){const n=[...this.viewportTransform];return n[4]=-t.x,n[5]=-t.y,this.setViewportTransform(n)}relativePan(t){return this.absolutePan(new Se(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=C0(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,n=this.height,i=vs(this.viewportTransform),r=$i({x:0,y:0},i),s=$i({x:t,y:n},i),o=r.min(s),a=r.max(s);return this.vptCoords={tl:o,tr:new Se(a.x,o.y),bl:new Se(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&($fe(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,n){if(this.destroyed)return;const i=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,n),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,r)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,n){const i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()}_renderObjects(t,n){for(let i=0,r=n.length;i<r;++i)n[i]&&n[i].render(t)}_renderBackgroundOrOverlay(t,n){const i=this["".concat(n,"Color")],r=this["".concat(n,"Image")],s=this.viewportTransform,o=this["".concat(n,"Vpt")];if(!i&&!r)return;const a=$r(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=a?i.toLive(t):i,o&&t.transform(...s),a){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);const l=i.gradientTransform||i.patternTransform;l&&t.transform(...l)}t.fill(),t.restore()}if(r){t.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&t.transform(...s),r.render(t),this.skipOffscreen=l,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Se(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new Se(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new Se(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new Se(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new Se(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return $i(this.getCenterPoint(),vs(this.viewportTransform))}_centerObject(t,n){t.setXY(n,mt,mt),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,n){const i=this.clipPath,r=i&&!i.excludeFromExport?this._toObject(i,t,n):null;return oe(oe(oe({version:rx},jd(this,n)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,t,n))},this.__serializeBgOverlay(t,n)),r?{clipPath:r}:null)}_toObject(t,n,i){let r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);const s=t[n](i);return this.includeDefaultValues||(t.includeDefaultValues=!!r),s}__serializeBgOverlay(t,n){const i={},r=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return $r(o)?o.excludeFromExport||(i.background=o.toObject(n)):o&&(i.background=o),$r(a)?a.excludeFromExport||(i.overlay=a.toObject(n)):a&&(i.overlay=a),r&&!r.excludeFromExport&&(i.backgroundImage=this._toObject(r,t,n)),s&&!s.excludeFromExport&&(i.overlayImage=this._toObject(s,t,n)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t.reviver=n;const i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",n),this._setSVGObjects(i,n),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",n),i.push("</svg>"),i.join("")}_setSVGPreamble(t,n){n.suppressPreamble||t.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,n){const i=n.width||"".concat(this.width),r=n.height||"".concat(this.height),s=Rt.NUM_FRACTION_DIGITS,o=n.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(ln(-l[4]/l[0],s)," ").concat(ln(-l[5]/l[3],s)," ").concat(ln(this.width/l[0],s)," ").concat(ln(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',r,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",rx,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(n),`</defs>
`)}createSVGClipPathMarkup(t){const n=this.clipPath;return n?(n.clipPathId="CLIPPATH_".concat(ml()),'<clipPath id="'.concat(n.clipPathId,`" >
`).concat(n.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const n=this["".concat(t,"Color")];if($r(n)){const i=this["".concat(t,"Vpt")],r=this.viewportTransform,s={isType:()=>!1,width:this.width/(i?r[0]:1),height:this.height/(i?r[3]:1)};return n.toSVG(s,{additionalTransform:i?rp(r):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],n={},i=Rt.fontPaths;this._objects.forEach(function s(o){t.push(o),v0(o)&&o._objects.forEach(s)}),t.forEach(s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:a,fontFamily:l}=s;!n[l]&&i[l]&&(n[l]=!0,a&&Object.values(a).forEach(u=>{Object.values(u).forEach(h=>{let{fontFamily:p=""}=h;!n[p]&&i[p]&&(n[p]=!0)})}))});const r=Object.keys(n).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(i[s],`');
		}
`)).join("");return r?`	<style type="text/css"><![CDATA[
`.concat(r,`]]></style>
`):""}_setSVGObjects(t,n){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,n)})}_setSVGObject(t,n,i){t.push(n.toSVG(i))}_setSVGBgOverlayImage(t,n,i){const r=this[n];r&&!r.excludeFromExport&&r.toSVG&&t.push(r.toSVG(i))}_setSVGBgOverlayColor(t,n){const i=this["".concat(n,"Color")];if(i)if($r(i)){const r=i.repeat||"",s=this.width,o=this.height,a=this["".concat(n,"Vpt")]?rp(vs(this.viewportTransform)):"";t.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(i.offsetX-s/2,'" y="').concat(i.offsetY-o/2,'" width="').concat(r!=="repeat-y"&&r!=="no-repeat"||!m_(i)?s:i.source.width,'" height="').concat(r!=="repeat-x"&&r!=="no-repeat"||!m_(i)?o:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,n){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new eo("`json` is undefined"));const r=typeof t=="string"?JSON.parse(t):t,{objects:s=[],backgroundImage:o,background:a,overlayImage:l,overlay:u,clipPath:h}=r,p=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([ip(s,{reviver:n,signal:i}),bC({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:u,clipPath:h},{signal:i})]).then(g=>{let[v,C]=g;return this.clear(),this.add(...v),this.set(r),this.set(C),this.renderOnAddRemove=p,this})}clone(t){const n=this.toObject(t);return this.cloneWithoutData().loadFromJSON(n)}cloneWithoutData(){const t=es(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:i=1,multiplier:r=1,enableRetinaScaling:s=!1}=t,o=r*(s?this.getRetinaScaling():1);return P5(this.toCanvasElement(o,t),n,i)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:i=1,multiplier:r=1,enableRetinaScaling:s=!1}=t,o=r*(s?this.getRetinaScaling():1);return k5(this.toCanvasElement(o,t),n,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:n,height:i,left:r,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(n||this.width)*t,l=(i||this.height)*t,u=this.getZoom(),h=this.width,p=this.height,g=this.skipControlsDrawing,v=u*t,C=this.viewportTransform,w=[v,0,0,v,(C[4]-(r||0))*t,(C[5]-(s||0))*t],S=this.enableRetinaScaling,x=es({width:a,height:l}),E=o?this._objects.filter(T=>o(T)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=w,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),E),this.viewportTransform=C,this.width=h,this.height=p,this.calcViewportBoundaries(),this.enableRetinaScaling=S,this.skipControlsDrawing=g,x}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),_v.cancelByCanvas(this),this.disposed=!0,new Promise((t,n)=>{const i=()=>{this.destroy(),t(!0)};i.kill=n,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}se(Ap,"ownDefaults",Zfe);const Jfe=["touchstart","touchmove","touchend"],epe=e=>{const t=B5(e.target),n=function(i){const r=i.changedTouches;return r&&r[0]?r[0]:i}(e);return new Se(n.clientX+t.left,n.clientY+t.top)},ax=e=>Jfe.includes(e.type)||e.pointerType==="touch",C_=e=>{e.preventDefault(),e.stopPropagation()},Xo=e=>{let t=0,n=0,i=0,r=0;for(let s=0,o=e.length;s<o;s++){const{x:a,y:l}=e[s];(a>i||!s)&&(i=a),(a<t||!s)&&(t=a),(l>r||!s)&&(r=l),(l<n||!s)&&(n=l)}return{left:t,top:n,width:i-t,height:r-n}},tpe=["translateX","translateY","scaleX","scaleY"],npe=(e,t)=>Pv(e,mi(t,e.calcOwnMatrix())),Pv=(e,t)=>{const n=Av(t),{translateX:i,translateY:r,scaleX:s,scaleY:o}=n,a=gn(n,tpe),l=new Se(i,r);e.flipX=!1,e.flipY=!1,Object.assign(e,a),e.set({scaleX:s,scaleY:o}),e.setPositionByOrigin(l,mt,mt)},ipe=e=>{e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},z5=e=>({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}),c2=(e,t,n)=>{const i=e/2,r=t/2,s=[new Se(-i,-r),new Se(i,-r),new Se(-i,r),new Se(i,r)].map(a=>a.transform(n)),o=Xo(s);return new Se(o.width,o.height)},EC=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hi;return mi(vs(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi),e)},ud=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hi;return e.transform(EC(t,n))},rpe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hi;return e.transform(EC(t,n),!0)},spe=(e,t,n)=>{const i=EC(t,n);return Pv(e,mi(i,e.calcOwnMatrix())),i},W5=(e,t)=>{var n;const{transform:{target:i}}=t;(n=i.canvas)===null||n===void 0||n.fire("object:".concat(e),oe(oe({},t),{},{target:i})),i.fire(e,t)},ope={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Gn=e=>typeof e=="string"?ope[e]:e-.5,kv="not-allowed";function U5(e){return Gn(e.originX)===Gn(mt)&&Gn(e.originY)===Gn(mt)}function w_(e){return .5-Gn(e)}const xs=(e,t)=>e[t],j5=(e,t,n,i)=>({e,transform:t,pointer:new Se(n,i)});function Y5(e,t){const n=e.getTotalAngle()+la(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function u2(e,t,n,i,r){var s;let{target:o,corner:a}=e;const l=o.controls[a],u=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,h=o.padding/u,p=function(g,v,C,w){const S=g.getRelativeCenterPoint(),x=C!==void 0&&w!==void 0?g.translateToGivenOrigin(S,mt,mt,C,w):new Se(g.left,g.top);return(g.angle?v.rotate(-On(g.angle),S):v).subtract(x)}(o,new Se(i,r),t,n);return p.x>=h&&(p.x-=h),p.x<=-h&&(p.x+=h),p.y>=h&&(p.y-=h),p.y<=h&&(p.y+=h),p.x-=l.offsetX,p.y-=l.offsetY,p}const ape=(e,t,n,i)=>{const{target:r,offsetX:s,offsetY:o}=t,a=n-s,l=i-o,u=!xs(r,"lockMovementX")&&r.left!==a,h=!xs(r,"lockMovementY")&&r.top!==l;return u&&r.set(Gt,a),h&&r.set(Xi,l),(u||h)&&W5(R5,j5(e,t,n,i)),u||h},y_={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Yy=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),S_=(e,t,n,i)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let o,a;const l=(r+s)/2;if(r===s)o=a=0;else{const u=r-s;switch(a=l>.5?u/(2-r-s):u/(r+s),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),i]},x_=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},Sm=e=>Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0"),b_=e=>{let[t,n,i,r=1]=e;const s=Math.round(.3*t+.59*n+.11*i);return[s,s,s,r]};class jt{constructor(t){if(se(this,"isUnrecognised",!1),t)if(t instanceof jt)this.setSource([...t._source]);else if(Array.isArray(t)){const[n,i,r,s=1]=t;this.setSource([n,i,r,s])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in y_&&(t=y_[t]),t==="transparent"?[255,255,255,0]:jt.sourceFromHex(t)||jt.sourceFromRgb(t)||jt.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,n,i]=this.getSource();return"rgb(".concat(t,",").concat(n,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,n,i]=S_(...this.getSource());return"hsl(".concat(t,",").concat(n,"%,").concat(i,"%)")}toHsla(){const[t,n,i,r]=S_(...this.getSource());return"hsla(".concat(t,",").concat(n,"%,").concat(i,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,n,i,r]=this.getSource();return"".concat(Sm(t)).concat(Sm(n)).concat(Sm(i)).concat(Sm(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(b_(this.getSource())),this}toBlackWhite(t){const[n,,,i]=b_(this.getSource()),r=n<(t||127)?0:255;return this.setSource([r,r,r,i]),this}overlayWith(t){t instanceof jt||(t=new jt(t));const n=this.getSource(),i=t.getSource(),[r,s,o]=n.map((a,l)=>Math.round(.5*a+.5*i[l]));return this.setSource([r,s,o,n[3]]),this}static fromRgb(t){return jt.fromRgba(t)}static fromRgba(t){return new jt(jt.sourceFromRgb(t))}static sourceFromRgb(t){const n=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(n){const[i,r,s]=n.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[i,r,s,x_(n[4])]}}static fromHsl(t){return jt.fromHsla(t)}static fromHsla(t){return new jt(jt.sourceFromHsl(t))}static sourceFromHsl(t){const n=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!n)return;const i=(jt.parseAngletoDegrees(n[1])%360+360)%360/360,r=parseFloat(n[2])/100,s=parseFloat(n[3])/100;let o,a,l;if(r===0)o=a=l=s;else{const u=s<=.5?s*(r+1):s+r-s*r,h=2*s-u;o=Yy(h,u,i+1/3),a=Yy(h,u,i),l=Yy(h,u,i-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),x_(n[4])]}static fromHex(t){return new jt(jt.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const n=t.slice(t.indexOf("#")+1);let i;i=n.length<=4?n.split("").map(l=>l+l):n.match(/.{2}/g);const[r,s,o,a=255]=i.map(l=>parseInt(l,16));return[r,s,o,a/255]}}static parseAngletoDegrees(t){const n=t.toLowerCase(),i=parseFloat(n);return n.includes("rad")?la(i):n.includes("turn")?360*i:i}}const dd=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n2;const n=/\D{0,2}$/.exec(e),i=parseFloat(e),r=Rt.DPI;switch(n?.[0]){case"mm":return i*r/25.4;case"cm":return i*r/2.54;case"in":return i*r;case"pt":return i*r/72;case"pc":return i*r/72*12;case"em":return i*t;default:return i}},lpe=e=>{const[t,n]=e.trim().split(" "),[i,r]=(s=t)&&s!==Qi?[s.slice(1,4),s.slice(5,8)]:s===Qi?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:n||"meet",alignX:i,alignY:r}},sp=function(e,t){let n,i,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)n="url(#SVGID_".concat(t.id,")");else{const s=new jt(t),o=s.getAlpha();n=s.toRgb(),o!==1&&(i=o.toString())}else n="none";return r?"".concat(e,": ").concat(n,"; ").concat(i?"".concat(e,"-opacity: ").concat(i,"; "):""):"".concat(e,'="').concat(n,'" ').concat(i?"".concat(e,'-opacity="').concat(i,'" '):"")};class $5{getSvgStyles(t){const n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):Qi,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",h=this.visible?"":" visibility: hidden;",p=t?"":this.getSvgFilter(),g=sp(Yn,this.fill);return[sp(Zi,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",g,"fill-rule: ",n,"; ","opacity: ",u,";",p,h].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'.concat(rp(i));return"".concat(r).concat(n,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:n,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),s=t.indexOf("COMMON_PARTS");return t[s]=r,n?n(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:n,reviver:i,withShadow:r,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=n?"":'style="'.concat(this.getSvgStyles(),'" '),a=r?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=l&&l.absolutePositioned,p=this.stroke,g=this.fill,v=this.shadow,C=[],w=t.indexOf("COMMON_PARTS");let S;l&&(l.clipPathId="CLIPPATH_".concat(ml()),S='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(i),`</clipPath>
`)),h&&C.push("<g ",a,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),h?"":a+this.getSvgCommons(),` >
`);const x=[o,u,n?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return t[w]=x,$r(g)&&C.push(g.toSVG(this)),$r(p)&&C.push(p.toSVG(this)),v&&C.push(v.toSVG(this)),l&&C.push(S),C.push(t.join("")),C.push(`</g>
`),h&&C.push(`</g>
`),i?i(C.join("")):C.join("")}addPaintOrder(){return this.paintFirst!==Yn?' paint-order="'.concat(this.paintFirst,'" '):""}}function TC(e){return new RegExp("^("+e.join("|")+")\\b","i")}const _c="textDecorationThickness",K5=["fontSize","fontWeight","fontFamily","fontStyle"],q5=["underline","overline","linethrough"],X5=[...K5,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],Q5=[...X5,...q5,"textBackgroundColor","direction",_c],cpe=[...K5,...q5,Zi,"strokeWidth",Yn,"deltaY","textBackgroundColor",_c],upe={_reNewline:i2,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Gt,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Gt,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[_c]:66.667},Xs="justify",Ov="justify-left",Df="justify-right",Rf="justify-center";var E_,T_,D_;const Cs=String.raw(E_||(E_=po(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),$y=String.raw(T_||(T_=po(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),dpe=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Cs+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Cs+"))?\\s+(.*)"),hpe={cx:Gt,x:Gt,r:"radius",cy:Xi,y:Xi,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":_c},Ky="font-size",qy="clip-path";TC(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);TC(["symbol","image","marker","pattern","view","svg"]);const R_=TC(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(D_||(D_=po(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Cs,$y,Cs,$y,Cs,$y,Cs));const fpe=new Se(1,0),Z5=new Se,J5=(e,t)=>e.rotate(t),lx=(e,t)=>new Se(t).subtract(e),cx=e=>e.distanceFrom(Z5),ux=(e,t)=>Math.atan2(Ff(e,t),gpe(e,t)),ppe=e=>ux(fpe,e),d2=e=>e.eq(Z5)?e:e.scalarDivide(cx(e)),eL=function(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return d2(new Se(-e.y,e.x).scalarMultiply(t?1:-1))},Ff=(e,t)=>e.x*t.y-e.y*t.x,gpe=(e,t)=>e.x*t.x+e.y*t.y,F_=(e,t,n)=>{if(e.eq(t)||e.eq(n))return!0;const i=Ff(t,n),r=Ff(t,e),s=Ff(n,e);return i>=0?r>=0&&s<=0:!(r<=0&&s>=0)},M_="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",__=new RegExp("(?:\\s|^)"+M_+M_+"("+Cs+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Qo{constructor(t){const n=typeof t=="string"?Qo.parseShadow(t):t;Object.assign(this,Qo.ownDefaults,n),this.id=ml()}static parseShadow(t){const n=t.trim(),[,i=0,r=0,s=0]=(__.exec(n)||[]).map(o=>parseFloat(o)||0);return{color:(n.replace(__,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:r,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const n=J5(new Se(this.offsetX,this.offsetY),On(-t.angle)),i=new jt(this.color);let r=40,s=40;return t.width&&t.height&&(r=100*ln((Math.abs(n.x)+this.blur)/t.width,Rt.NUM_FRACTION_DIGITS)+20,s=100*ln((Math.abs(n.y)+this.blur)/t.height,Rt.NUM_FRACTION_DIGITS)+20),t.flipX&&(n.x*=-1),t.flipY&&(n.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(r,'%" width="').concat(100+2*r,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(ln(this.blur?this.blur/2:0,Rt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(ln(n.x,Rt.NUM_FRACTION_DIGITS),'" dy="').concat(ln(n.y,Rt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},n=Qo.ownDefaults;return this.includeDefaultValues?t:l2(t,(i,r)=>i!==n[r])}static async fromObject(t){return new this(t)}}se(Qo,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),se(Qo,"type","shadow"),$e.setClass(Qo,"shadow");const Rd=(e,t,n)=>Math.max(e,Math.min(t,n)),mpe=[Xi,Gt,nr,Jr,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",zd,Wd],fa=[Yn,Zi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],vpe={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Gt,originY:Xi,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Yn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Cpe=(e,t,n,i)=>-n*Math.cos(e/i*Mp)+n+t,wpe=()=>!1;class h2{constructor(t){let{startValue:n,byValue:i,duration:r=500,delay:s=0,easing:o=Cpe,onStart:a=m0,onChange:l=m0,onComplete:u=m0,abort:h=wpe,target:p}=t;se(this,"_state","pending"),se(this,"durationProgress",0),se(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=u,this._abort=h,this.target=p,this.startValue=n,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=n=>{this._state==="pending"&&(this.startTime=n||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>C0(t),this.delay):C0(t)}tick(t){const n=(t||+new Date)-this.startTime,i=Math.min(n,this.duration);this.durationProgress=i/this.duration;const{value:r,valueProgress:s}=this.calculate(i);this.value=Object.freeze(r),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):n>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),C0(this.tick)))}register(){_v.push(this)}unregister(){_v.remove(this)}abort(){this._state="aborted",this.unregister()}}const ype=["startValue","endValue"];class Spe extends h2{constructor(t){let{startValue:n=0,endValue:i=100}=t;super(oe(oe({},gn(t,ype)),{},{startValue:n,byValue:i-n}))}calculate(t){const n=this.easing(t,this.startValue,this.byValue,this.duration);return{value:n,valueProgress:Math.abs((n-this.startValue)/this.byValue)}}}const xpe=["startValue","endValue"];class bpe extends h2{constructor(t){let{startValue:n=[0],endValue:i=[100]}=t;super(oe(oe({},gn(t,xpe)),{},{startValue:n,byValue:i.map((r,s)=>r-n[s])}))}calculate(t){const n=this.startValue.map((i,r)=>this.easing(t,i,this.byValue[r],this.duration,r));return{value:n,valueProgress:Math.abs((n[0]-this.startValue[0])/this.byValue[0])}}}const Epe=["startValue","endValue","easing","onChange","onComplete","abort"],Tpe=(e,t,n,i)=>t+n*(1-Math.cos(e/i*Mp)),Xy=e=>e&&((t,n,i)=>e(new jt(t).toRgba(),n,i));class Dpe extends h2{constructor(t){let{startValue:n,endValue:i,easing:r=Tpe,onChange:s,onComplete:o,abort:a}=t,l=gn(t,Epe);const u=new jt(n).getSource(),h=new jt(i).getSource();super(oe(oe({},l),{},{startValue:u,byValue:h.map((p,g)=>p-u[g]),easing:r,onChange:Xy(s),onComplete:Xy(o),abort:Xy(a)}))}calculate(t){const[n,i,r,s]=this.startValue.map((a,l)=>this.easing(t,a,this.byValue[l],this.duration,l)),o=[...[n,i,r].map(Math.round),Rd(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function tL(e){const t=(n=>Array.isArray(n.startValue)||Array.isArray(n.endValue))(e)?new bpe(e):new Spe(e);return t.start(),t}function Rpe(e){const t=new Dpe(e);return t.start(),t}class Cn{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(n=>n.eq(t))}append(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.points=this.points.concat(n.filter(r=>!this.includes(r))),this}static isPointContained(t,n,i){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n.eq(i))return t.eq(n);if(n.x===i.x)return t.x===n.x&&(r||t.y>=Math.min(n.y,i.y)&&t.y<=Math.max(n.y,i.y));if(n.y===i.y)return t.y===n.y&&(r||t.x>=Math.min(n.x,i.x)&&t.x<=Math.max(n.x,i.x));{const s=lx(n,i),o=lx(n,t).divide(s);return r?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(t,n){const i=new Se(t).setX(Math.min(t.x-1,...n.map(s=>s.x)));let r=0;for(let s=0;s<n.length;s++){const o=this.intersectSegmentSegment(n[s],n[(s+1)%n.length],t,i);if(o.includes(t))return!0;r+=+(o.status==="Intersection")}return r%2==1}static intersectLineLine(t,n,i,r){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=n.x-t.x,l=n.y-t.y,u=r.x-i.x,h=r.y-i.y,p=t.x-i.x,g=t.y-i.y,v=u*g-h*p,C=a*g-l*p,w=h*a-u*l;if(w!==0){const S=v/w,x=C/w;return(s||0<=S&&S<=1)&&(o||0<=x&&x<=1)?new Cn("Intersection").append(new Se(t.x+S*a,t.y+S*l)):new Cn}if(v===0||C===0){const S=s||o||Cn.isPointContained(t,i,r)||Cn.isPointContained(n,i,r)||Cn.isPointContained(i,t,n)||Cn.isPointContained(r,t,n);return new Cn(S?"Coincident":void 0)}return new Cn("Parallel")}static intersectSegmentLine(t,n,i,r){return Cn.intersectLineLine(t,n,i,r,!1,!0)}static intersectSegmentSegment(t,n,i,r){return Cn.intersectLineLine(t,n,i,r,!1,!1)}static intersectLinePolygon(t,n,i){let r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new Cn,o=i.length;for(let a,l,u,h=0;h<o;h++){if(a=i[h],l=i[(h+1)%o],u=Cn.intersectLineLine(t,n,a,l,r,!1),u.status==="Coincident")return u;s.append(...u.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(t,n,i){return Cn.intersectLinePolygon(t,n,i,!1)}static intersectPolygonPolygon(t,n){const i=new Cn,r=t.length,s=[];for(let o=0;o<r;o++){const a=t[o],l=t[(o+1)%r],u=Cn.intersectSegmentPolygon(a,l,n);u.status==="Coincident"?(s.push(u),i.append(a,l)):i.append(...u.points)}return s.length>0&&s.length===t.length?new Cn("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,n,i){const r=n.min(i),s=n.max(i),o=new Se(s.x,r.y),a=new Se(r.x,s.y);return Cn.intersectPolygonPolygon(t,[r,o,s,a])}}class Fpe extends A5{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?$i(t,this.group.calcTransformMatrix()):t}setXY(t,n,i){this.group&&(t=$i(t,vs(this.group.calcTransformMatrix()))),this.setRelativeXY(t,n,i)}getRelativeXY(){return new Se(this.left,this.top)}setRelativeXY(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,n,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:n,br:i,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),s=[t,n,i,r];if(this.group){const o=this.group.calcTransformMatrix();return s.map(a=>$i(a,o))}return s}intersectsWithRect(t,n){return Cn.intersectPolygonRectangle(this.getCoords(),t,n).status==="Intersection"}intersectsWithObject(t){const n=Cn.intersectPolygonPolygon(this.getCoords(),t.getCoords());return n.status==="Intersection"||n.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(n=>t.containsPoint(n))}isContainedWithinRect(t,n){const{left:i,top:r,width:s,height:o}=this.getBoundingRect();return i>=t.x&&i+s<=n.x&&r>=t.y&&r+o<=n.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Cn.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:n}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=n.x&&i.x>=t.x&&i.y<=n.y&&i.y>=t.y)||!!this.intersectsWithRect(t,n)||this.containsPoint(t.midPointFrom(n))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:n}=this.canvas.vptCoords;return this.intersectsWithRect(t,n)?!0:this.getCoords().every(i=>(i.x>=n.x||i.x<=t.x)&&(i.y>=n.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(n))}getBoundingRect(){return Xo(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(nr,t),this._set(Jr,t),this.setCoords()}scaleToWidth(t){const n=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/n)}scaleToHeight(t){const n=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/n)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?la(O5(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||Hi.concat()}calcACoords(){const t=Ud({angle:this.angle}),{x:n,y:i}=this.getRelativeCenterPoint(),r=_p(n,i),s=mi(r,t),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:$i({x:-a,y:-l},s),tr:$i({x:a,y:-l},s),bl:$i({x:-a,y:l},s),br:$i({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=[];return!t&&this.group&&(n=this.group.transformMatrixKey(t)),n.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Gn(this.originX),Gn(this.originY)),n}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.calcOwnMatrix();if(t||!this.group)return n;const i=this.transformMatrixKey(t),r=this.matrixCache;return r&&r.key.every((s,o)=>s===i[o])?r.value:(this.group&&(n=mi(this.group.calcTransformMatrix(!1),n)),this.matrixCache={key:i,value:n},n)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),n=this.ownMatrixCache;if(n&&n.key===t)return n.value;const i=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=Qfe(r);return this.ownMatrixCache={key:t,value:s},s}_getNonTransformedDimensions(){return new Se(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=oe({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=n.strokeWidth;let r=i,s=0;this.strokeUniform&&(r=0,s=i);const o=n.width+r,a=n.height+r;let l;return l=n.skewX===0&&n.skewY===0?new Se(o*n.scaleX,a*n.scaleY):c2(o,a,xC(n)),l.scalarAdd(s)}translateToGivenOrigin(t,n,i,r,s){let o=t.x,a=t.y;const l=Gn(r)-Gn(n),u=Gn(s)-Gn(i);if(l||u){const h=this._getTransformedDimensions();o+=l*h.x,a+=u*h.y}return new Se(o,a)}translateToCenterPoint(t,n,i){if(n===mt&&i===mt)return t;const r=this.translateToGivenOrigin(t,n,i,mt,mt);return this.angle?r.rotate(On(this.angle),t):r}translateToOriginPoint(t,n,i){const r=this.translateToGivenOrigin(t,mt,mt,n,i);return this.angle?r.rotate(On(this.angle),t):r}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?$i(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new Se(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,n){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,n)}setPositionByOrigin(t,n,i){const r=this.translateToCenterPoint(t,n,i),s=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Gt,Xi)}}const Mpe=["type"],_pe=["extraParam"];let Ao=class y0 extends Fpe{static getDefaults(){return y0.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){gl("warn","Setting type has no effect",t)}constructor(t){super(),se(this,"_cacheContext",null),Object.assign(this,y0.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=aa(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const n=t.width,i=t.height,r=Rt.maxCacheSideLimit,s=Rt.minCacheSideLimit;if(n<=r&&i<=r&&n*i<=Rt.perfLimitSizeTotal)return n<s&&(t.width=s),i<s&&(t.height=s),t;const o=n/i,[a,l]=Tf.limitDimsByArea(o),u=Rd(s,a,r),h=Rd(s,l,r);return n>u&&(t.zoomX/=n/u,t.width=u,t.capped=!0),i>h&&(t.zoomY/=i/h,t.height=h,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),n=this._getTransformedDimensions({skewX:0,skewY:0}),i=n.x*t.x/this.scaleX,r=n.y*t.y/this.scaleY;return{width:Math.ceil(i+2),height:Math.ceil(r+2),zoomX:t.x,zoomY:t.y,x:i,y:r}}_updateCacheCanvas(){const t=this._cacheCanvas,n=this._cacheContext,{width:i,height:r,zoomX:s,zoomY:o,x:a,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),u=i!==t.width||r!==t.height,h=this.zoomX!==s||this.zoomY!==o;if(!t||!n)return!1;if(u||h){i!==t.width||r!==t.height?(t.width=i,t.height=r):(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height));const p=a/2,g=l/2;return this.cacheTranslationX=Math.round(t.width/2-p)+p,this.cacheTranslationY=Math.round(t.height/2-g)+g,n.translate(this.cacheTranslationX,this.cacheTranslationY),n.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const n=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!n);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new Se(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=Av(this.calcTransformMatrix());return new Se(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const n=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(n*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,n){t!==nr&&t!==Jr||(n=this._constrainScale(n)),t===nr&&n<0?(this.flipX=!this.flipX,n*=-1):t==="scaleY"&&n<0?(this.flipY=!this.flipY,n*=-1):t!=="shadow"||!n||n instanceof Qo||(n=new Qo(n));const i=this[t]!==n;return this[t]=n,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:n,zoomY:i,cacheTranslationX:r,cacheTranslationY:s}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:n,zoomY:i,cacheTranslationX:r,cacheTranslationY:s,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Zi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,n,i){t.save(),n.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0),t.restore()}drawObject(t,n,i){const r=this.fill,s=this.stroke;n?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,i),this.fill=r,this.stroke=s}createClipPathLayer(t,n){const i=es(n),r=i.getContext("2d");if(r.translate(n.cacheTranslationX,n.cacheTranslationY),r.scale(n.zoomX,n.zoomY),t._cacheCanvas=i,n.parentClipPaths.forEach(s=>{s.transform(r)}),n.parentClipPaths.push(t),t.absolutePositioned){const s=vs(this.calcTransformMatrix());r.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return t.transform(r),t.drawObject(r,!0,n),i}_drawClipPath(t,n,i){if(!n)return;n._transformDone=!0;const r=this.createClipPathLayer(n,i);this.drawClipPathOnCache(t,n,r)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const n=this._cacheCanvas,i=this._cacheContext;return!(!n||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(n&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const n=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-n.x/2,-n.y/2,n.x,n.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,n){const i=n.stroke;i&&(t.lineWidth=n.strokeWidth,t.lineCap=n.strokeLineCap,t.lineDashOffset=n.strokeDashOffset,t.lineJoin=n.strokeLineJoin,t.miterLimit=n.strokeMiterLimit,$r(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=n.stroke)}_setFillStyles(t,n){let{fill:i}=n;i&&($r(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,n){n&&n.length!==0&&t.setLineDash(n)}_setShadow(t){if(!this.shadow)return;const n=this.shadow,i=this.canvas,r=this.getCanvasRetinaScaling(),[s,,,o]=i?.viewportTransform||Hi,a=s*r,l=o*r,u=n.nonScaling?new Se(1,1):this.getObjectScaling();t.shadowColor=n.color,t.shadowBlur=n.blur*Rt.browserShadowBlurConstant*(a+l)*(u.x+u.y)/4,t.shadowOffsetX=n.offsetX*a*u.x,t.shadowOffsetY=n.offsetY*l*u.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,n){if(!$r(n))return{offsetX:0,offsetY:0};const i=n.gradientTransform||n.patternTransform,r=-this.width/2+n.offsetX||0,s=-this.height/2+n.offsetY||0;return n.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,r,s):t.transform(1,0,0,1,r,s),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:r,offsetY:s}}_renderPaintInOrder(t){this.paintFirst===Zi?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const n=this.getObjectScaling();t.scale(1/n.x,1/n.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,n){var i;const r=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=r.x/this.scaleX/s,a=r.y/this.scaleY/s,l=es({width:Math.ceil(o),height:Math.ceil(a)}),u=l.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(o,0),u.lineTo(o,a),u.lineTo(0,a),u.closePath(),u.translate(o/2,a/2),u.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(u,n),u.fillStyle=n.toLive(t),u.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=(i=u.createPattern(l,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new Se(this.left+this.width/2,this.top+this.height/2)}clone(t){const n=this.toObject(t);return this.constructor.fromObject(n)}cloneAsImage(t){const n=this.toCanvasElement(t);return new($e.getClass("image"))(n)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=z5(this),i=this.group,r=this.shadow,s=Math.abs,o=t.enableRetinaScaling?D5():1,a=(t.multiplier||1)*o,l=t.canvasProvider||(E=>new Ap(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&ipe(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&spe(this,this.getViewportTransform()),this.setCoords();const u=aa(),h=this.getBoundingRect(),p=this.shadow,g=new Se;if(p){const E=p.blur,T=p.nonScaling?new Se(1,1):this.getObjectScaling();g.x=2*Math.round(s(p.offsetX)+E)*s(T.x),g.y=2*Math.round(s(p.offsetY)+E)*s(T.y)}const v=h.width+g.x,C=h.height+g.y;u.width=Math.ceil(v),u.height=Math.ceil(C);const w=l(u);t.format==="jpeg"&&(w.backgroundColor="#fff"),this.setPositionByOrigin(new Se(w.width/2,w.height/2),mt,mt);const S=this.canvas;w._objects=[this],this.set("canvas",w),this.setCoords();const x=w.toCanvasElement(a||1,t);return this.set("canvas",S),this.shadow=r,i&&(this.group=i),this.set(n),this.setCoords(),w._objects=[],w.destroy(),x}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return P5(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return k5(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.includes(this.constructor.type)||n.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:n,originX:i,originY:r}=this;if(n){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=mt,this.originY=mt,this.left=s,this.top=o}if(this.set("angle",t),n){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,r);this.left=s,this.top=o,this.originX=i,this.originY=r}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){_v.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&uo().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,n){return Object.entries(t).reduce((i,r)=>{let[s,o]=r;return i[s]=this._animate(s,o,n),i},{})}_animate(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.split("."),s=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:a,onChange:l,onComplete:u}=i,h=oe(oe({},i),{},{target:this,startValue:a??r.reduce((p,g)=>p[g],this),endValue:n,abort:o?.bind(this),onChange:(p,g,v)=>{r.reduce((C,w,S)=>(S===r.length-1&&(C[w]=p),C[w]),this),l&&l(p,g,v)},onComplete:(p,g,v)=>{this.setCoords(),u&&u(p,g,v)}});return s?Rpe(h):tL(h)}isDescendantOf(t){const{parent:n,group:i}=this;return n===t||i===t||!!n&&n.isDescendantOf(t)||!!i&&i!==n&&i.isDescendantOf(t)}getAncestors(){const t=[];let n=this;do n=n.parent,n&&t.push(n);while(n);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const n=this.getAncestors(),i=t.getAncestors();if(n.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let r,s=0;s<n.length;s++){if(r=n[s],r===t)return{fork:[this,...n.slice(0,s)],otherFork:[],common:n.slice(s)};for(let o=0;o<i.length;o++){if(this===i[o])return{fork:[],otherFork:[t,...i.slice(0,o)],common:[this,...n]};if(r===i[o])return{fork:[this,...n.slice(0,s)],otherFork:[t,...i.slice(0,o)],common:n.slice(s)}}}return{fork:[this,...n],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){const n=this.findCommonAncestors(t);return n&&!!n.common.length}isInFrontOf(t){if(this===t)return;const n=this.findCommonAncestors(t);if(n.fork.includes(t))return!0;if(n.otherFork.includes(this))return!1;const i=n.common[0]||this.canvas;if(!i)return;const r=n.fork.pop(),s=n.otherFork.pop(),o=i._objects.indexOf(r),a=i._objects.indexOf(s);return o>-1&&o>a}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(y0.customProperties,this.constructor.customProperties||[]);let n;const i=Rt.NUM_FRACTION_DIGITS,{clipPath:r,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:u,top:h,originX:p,originY:g,width:v,height:C,strokeWidth:w,strokeLineCap:S,strokeDashOffset:x,strokeLineJoin:E,strokeUniform:T,strokeMiterLimit:R,scaleX:F,scaleY:P,angle:_,flipX:L,flipY:A,opacity:O,visible:I,backgroundColor:z,fillRule:J,paintFirst:ae,globalCompositeOperation:ie,skewX:j,skewY:W}=this;r&&!r.excludeFromExport&&(n=r.toObject(t.concat("inverted","absolutePositioned")));const Q=H=>ln(H,i),ce=oe(oe({},jd(this,t)),{},{type:this.constructor.type,version:rx,originX:p,originY:g,left:Q(u),top:Q(h),width:Q(v),height:Q(C),fill:g_(s)?s.toObject():s,stroke:g_(o)?o.toObject():o,strokeWidth:Q(w),strokeDashArray:l&&l.concat(),strokeLineCap:S,strokeDashOffset:x,strokeLineJoin:E,strokeUniform:T,strokeMiterLimit:Q(R),scaleX:Q(F),scaleY:Q(P),angle:Q(_),flipX:L,flipY:A,opacity:Q(O),shadow:a&&a.toObject(),visible:I,backgroundColor:z,fillRule:J,paintFirst:ae,globalCompositeOperation:ie,skewX:Q(j),skewY:Q(W)},n?{clipPath:n}:null);return this.includeDefaultValues?ce:this._removeDefaultValues(ce)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const n=this.constructor.getDefaults(),i=Object.keys(n).length>0?n:Object.getPrototypeOf(this);return l2(t,(r,s)=>{if(s===Gt||s===Xi||s==="type")return!0;const o=i[s];return r!==o&&!(Array.isArray(r)&&Array.isArray(o)&&r.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let n=gn(t,Mpe),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:r}=i,s=gn(i,_pe);return bC(n,s).then(o=>r?(delete o[r],new this(n[r],o)):new this(o))}static fromObject(t,n){return this._fromObject(t,n)}};se(Ao,"stateProperties",mpe),se(Ao,"cacheProperties",fa),se(Ao,"ownDefaults",vpe),se(Ao,"type","FabricObject"),se(Ao,"colorProperties",[Yn,Zi,"backgroundColor"]),se(Ao,"customProperties",[]),$e.setClass(Ao),$e.setClass(Ao,"object");const Yd=(e,t,n)=>(i,r,s,o)=>{const a=t(i,r,s,o);return a&&W5(e,oe(oe({},j5(i,r,s,o)),n)),a};function $d(e){return(t,n,i,r)=>{const{target:s,originX:o,originY:a}=n,l=s.getRelativeCenterPoint(),u=s.translateToOriginPoint(l,o,a),h=e(t,n,i,r);return s.setPositionByOrigin(u,n.originX,n.originY),h}}const A_=Yd(np,$d((e,t,n,i)=>{const r=u2(t,t.originX,t.originY,n,i);if(Gn(t.originX)===Gn(mt)||Gn(t.originX)===Gn(An)&&r.x<0||Gn(t.originX)===Gn(Gt)&&r.x>0){const{target:s}=t,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=U5(t)?2:1,l=s.width,u=Math.abs(r.x*a/s.scaleX)-o;return s.set("width",Math.max(u,1)),l!==s.width}return!1}));function Ape(e,t,n,i,r){i=i||{};const s=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:r.transparentCorners,l=a?Zi:Yn,u=!a&&(i.cornerStrokeColor||r.cornerStrokeColor);let h,p=t,g=n;e.save(),e.fillStyle=i.cornerColor||r.cornerColor||"",e.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||"",s>o?(h=s,e.scale(1,o/s),g=n*s/o):o>s?(h=o,e.scale(s/o,1),p=t*o/s):h=s,e.beginPath(),e.arc(p,g,h/2,0,Rv,!1),e[l](),u&&e.stroke(),e.restore()}function Ppe(e,t,n,i,r){i=i||{};const s=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:r.transparentCorners,l=a?Zi:Yn,u=!a&&(i.cornerStrokeColor||r.cornerStrokeColor),h=s/2,p=o/2;e.save(),e.fillStyle=i.cornerColor||r.cornerColor||"",e.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||"",e.translate(t,n);const g=r.getTotalAngle();e.rotate(On(g)),e["".concat(l,"Rect")](-h,-p,s,o),u&&e.strokeRect(-h,-p,s,o),e.restore()}class hs{constructor(t){se(this,"visible",!0),se(this,"actionName",SC),se(this,"angle",0),se(this,"x",0),se(this,"y",0),se(this,"offsetX",0),se(this,"offsetY",0),se(this,"sizeX",0),se(this,"sizeY",0),se(this,"touchSizeX",0),se(this,"touchSizeY",0),se(this,"cursorStyle","crosshair"),se(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,n,i,r){var s;let{tl:o,tr:a,br:l,bl:u}=r;return((s=n.canvas)===null||s===void 0?void 0:s.getActiveObject())===n&&n.isControlVisible(t)&&Cn.isPointInPolygon(i,[o,a,l,u])}getActionHandler(t,n,i){return this.actionHandler}getMouseDownHandler(t,n,i){return this.mouseDownHandler}getMouseUpHandler(t,n,i){return this.mouseUpHandler}cursorStyleHandler(t,n,i){return n.cursorStyle}getActionName(t,n,i){return n.actionName}getVisibility(t,n){var i,r;return(i=(r=t._controlsVisibility)===null||r===void 0?void 0:r[n])!==null&&i!==void 0?i:this.visible}setVisibility(t,n,i){this.visible=t}positionHandler(t,n,i,r){return new Se(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(n)}calcCornerCoords(t,n,i,r,s,o){const a=o2([_p(i,r),Ud({angle:t}),a2((s?this.touchSizeX:this.sizeX)||n,(s?this.touchSizeY:this.sizeY)||n)]);return{tl:new Se(-.5,-.5).transform(a),tr:new Se(.5,-.5).transform(a),br:new Se(.5,.5).transform(a),bl:new Se(-.5,.5).transform(a)}}render(t,n,i,r,s){((r=r||{}).cornerStyle||s.cornerStyle)==="circle"?Ape.call(this,t,n,i,r,s):Ppe.call(this,t,n,i,r,s)}}const kpe=(e,t,n)=>n.lockRotation?kv:t.cursorStyle,Ope=Yd(F5,$d((e,t,n,i)=>{let{target:r,ex:s,ey:o,theta:a,originX:l,originY:u}=t;const h=r.translateToOriginPoint(r.getRelativeCenterPoint(),l,u);if(xs(r,"lockRotation"))return!1;const p=Math.atan2(o-h.y,s-h.x),g=Math.atan2(i-h.y,n-h.x);let v=la(g-p+a);if(r.snapAngle&&r.snapAngle>0){const w=r.snapAngle,S=r.snapThreshold||w,x=Math.ceil(v/w)*w,E=Math.floor(v/w)*w;Math.abs(v-E)<S?v=E:Math.abs(v-x)<S&&(v=x)}v<0&&(v=360+v),v%=360;const C=r.angle!==v;return r.angle=v,C}));function nL(e,t){const n=t.canvas,i=e[n.uniScaleKey];return n.uniformScaling&&!i||!n.uniformScaling&&i}function iL(e,t,n){const i=xs(e,"lockScalingX"),r=xs(e,"lockScalingY");if(i&&r||!t&&(i||r)&&n||i&&t==="x"||r&&t==="y")return!0;const{width:s,height:o,strokeWidth:a}=e;return s===0&&a===0&&t!=="y"||o===0&&a===0&&t!=="x"}const Lpe=["e","se","s","sw","w","nw","n","ne","e"],uf=(e,t,n)=>{const i=nL(e,n);if(iL(n,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return kv;const r=Y5(n,t);return"".concat(Lpe[r],"-resize")};function f2(e,t,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=t.target,o=r.by,a=nL(e,s);let l,u,h,p,g,v;if(iL(s,o,a))return!1;if(t.gestureScale)u=t.scaleX*t.gestureScale,h=t.scaleY*t.gestureScale;else{if(l=u2(t,t.originX,t.originY,n,i),g=o!=="y"?Math.sign(l.x||t.signX||1):1,v=o!=="x"?Math.sign(l.y||t.signY||1):1,t.signX||(t.signX=g),t.signY||(t.signY=v),xs(s,"lockScalingFlip")&&(t.signX!==g||t.signY!==v))return!1;if(p=s._getTransformedDimensions(),a&&!o){const S=Math.abs(l.x)+Math.abs(l.y),{original:x}=t,E=S/(Math.abs(p.x*x.scaleX/s.scaleX)+Math.abs(p.y*x.scaleY/s.scaleY));u=x.scaleX*E,h=x.scaleY*E}else u=Math.abs(l.x*s.scaleX/p.x),h=Math.abs(l.y*s.scaleY/p.y);U5(t)&&(u*=2,h*=2),t.signX!==g&&o!=="y"&&(t.originX=w_(t.originX),u*=-1,t.signX=g),t.signY!==v&&o!=="x"&&(t.originY=w_(t.originY),h*=-1,t.signY=v)}const C=s.scaleX,w=s.scaleY;return o?(o==="x"&&s.set(nr,u),o==="y"&&s.set(Jr,h)):(!xs(s,"lockScalingX")&&s.set(nr,u),!xs(s,"lockScalingY")&&s.set(Jr,h)),C!==s.scaleX||w!==s.scaleY}const xm=Yd(yC,$d((e,t,n,i)=>f2(e,t,n,i))),Ipe=Yd(yC,$d((e,t,n,i)=>f2(e,t,n,i,{by:"x"}))),Npe=Yd(yC,$d((e,t,n,i)=>f2(e,t,n,i,{by:"y"}))),Bpe=["target","ex","ey","skewingSide"],Qy={x:{counterAxis:"y",scale:nr,skew:zd,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Jr,skew:Wd,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Hpe=["ns","nesw","ew","nwse"],Gpe=(e,t,n)=>{if(t.x!==0&&xs(n,"lockSkewingY")||t.y!==0&&xs(n,"lockSkewingX"))return kv;const i=Y5(n,t)%4;return"".concat(Hpe[i],"-resize")};function rL(e,t,n,i,r){const{target:s}=n,{counterAxis:o,origin:a,lockSkewing:l,skew:u,flip:h}=Qy[e];if(xs(s,l))return!1;const{origin:p,flip:g}=Qy[o],v=Gn(n[p])*(s[g]?-1:1),C=-Math.sign(v)*(s[h]?-1:1),w=.5*-((s[u]===0&&u2(n,mt,mt,i,r)[e]>0||s[u]>0?1:-1)*C)+.5;return Yd(M5,$d((x,E,T,R)=>function(F,P,_){let{target:L,ex:A,ey:O,skewingSide:I}=P,z=gn(P,Bpe);const{skew:J}=Qy[F],ae=_.subtract(new Se(A,O)).divide(new Se(L.scaleX,L.scaleY))[F],ie=L[J],j=z[J],W=Math.tan(On(j)),Q=F==="y"?L._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:L._getTransformedDimensions({scaleX:1,scaleY:1}).y,ce=2*ae*I/Math.max(Q,1)+W,H=la(Math.atan(ce));L.set(J,H);const le=ie!==L[J];if(le&&F==="y"){const{skewX:B,scaleX:Y}=L,K=L._getTransformedDimensions({skewY:ie}),ee=L._getTransformedDimensions(),de=B!==0?K.x/ee.x:1;de!==1&&L.set(nr,de*Y)}return le}(e,E,new Se(T,R))))(t,oe(oe({},n),{},{[a]:w,skewingSide:C}),i,r)}const Vpe=(e,t,n,i)=>rL("x",e,t,n,i),zpe=(e,t,n,i)=>rL("y",e,t,n,i);function DC(e,t){return e[t.canvas.altActionKey]}const bm=(e,t,n)=>{const i=DC(e,n);return t.x===0?i?zd:Jr:t.y===0?i?Wd:nr:""},zu=(e,t,n)=>DC(e,n)?Gpe(0,t,n):uf(e,t,n),P_=(e,t,n,i)=>DC(e,t.target)?zpe(e,t,n,i):Ipe(e,t,n,i),k_=(e,t,n,i)=>DC(e,t.target)?Vpe(e,t,n,i):Npe(e,t,n,i),sL=()=>({ml:new hs({x:-.5,y:0,cursorStyleHandler:zu,actionHandler:P_,getActionName:bm}),mr:new hs({x:.5,y:0,cursorStyleHandler:zu,actionHandler:P_,getActionName:bm}),mb:new hs({x:0,y:.5,cursorStyleHandler:zu,actionHandler:k_,getActionName:bm}),mt:new hs({x:0,y:-.5,cursorStyleHandler:zu,actionHandler:k_,getActionName:bm}),tl:new hs({x:-.5,y:-.5,cursorStyleHandler:uf,actionHandler:xm}),tr:new hs({x:.5,y:-.5,cursorStyleHandler:uf,actionHandler:xm}),bl:new hs({x:-.5,y:.5,cursorStyleHandler:uf,actionHandler:xm}),br:new hs({x:.5,y:.5,cursorStyleHandler:uf,actionHandler:xm}),mtr:new hs({x:0,y:-.5,actionHandler:Ope,cursorStyleHandler:kpe,offsetY:-40,withConnection:!0,actionName:r2})}),Wpe=()=>({mr:new hs({x:.5,y:0,actionHandler:A_,cursorStyleHandler:zu,actionName:np}),ml:new hs({x:-.5,y:0,actionHandler:A_,cursorStyleHandler:zu,actionName:np})}),Upe=()=>oe(oe({},sL()),Wpe());class op extends Ao{static getDefaults(){return oe(oe({},super.getDefaults()),op.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),op.ownDefaults),this.setOptions(t)}static createControls(){return{controls:sL()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const n=t._currentTransform,i=n.target,r=n.action;if(this===i&&r&&r.startsWith(SC))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const i=Object.entries(this.oCoords);for(let r=i.length-1;r>=0;r--){const[s,o]=i[r],a=this.controls[s];if(a.shouldActivate(s,this,t,n?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){const t=this.getViewportTransform(),n=this.getCenterPoint(),i=_p(n.x,n.y),r=Ud({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=mi(i,r),o=mi(t,s),a=mi(o,[1/t[0],0,0,1/t[3],0,0]),l=this.group?Av(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const u=this._calculateCurrentDimensions(l),h={};return this.forEachControl((p,g)=>{const v=p.positionHandler(u,a,this,p);h[g]=Object.assign(v,this._calcCornerCoords(p,v))}),h}_calcCornerCoords(t,n){const i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,n.x,n.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,n.x,n.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const n in this.controls)t(this.controls[n],n,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const n=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),r=this.getViewportTransform();t.translate(n.x,n.y),t.scale(1/r[0],1/r[3]),t.rotate(On(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,n){t.strokeRect(-n.x/2,-n.y/2,n.x,n.y)}_drawBorders(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=oe({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,n),r.hasControls&&this.drawControlsConnectingLines(t,n),t.restore()}_renderControls(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:i,hasControls:r}=this,s=oe({hasBorders:i,hasControls:r},n),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,u=mi(o,this.calcTransformMatrix()),h=Av(u);t.save(),t.translate(h.translateX,h.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(h.angle-=180),t.rotate(On(this.group?h.angle:this.angle)),a&&this.drawBorders(t,h,n),l&&this.drawControls(t,n),t.restore()}drawBorders(t,n,i){let r;if(i&&i.forActiveSelection||this.group){const s=c2(this.width,this.height,xC(n)),o=this.isStrokeAccountedForInDimensions()?s2:(this.strokeUniform?new Se().scalarAdd(this.canvas?this.canvas.getZoom():1):new Se(n.scaleX,n.scaleY)).scalarMultiply(this.strokeWidth);r=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,r,i)}drawControlsConnectingLines(t,n){let i=!1;t.beginPath(),this.forEachControl((r,s)=>{r.withConnection&&r.getVisibility(this,s)&&(i=!0,t.moveTo(r.x*n.x,r.y*n.y),t.lineTo(r.x*n.x+r.offsetX,r.y*n.y+r.offsetY))}),i&&t.stroke()}drawControls(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:s,cornerColor:o}=this,a=oe({cornerStrokeColor:r,cornerDashArray:s,cornerColor:o},n);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl((l,u)=>{if(l.getVisibility(this,u)){const h=this.oCoords[u];l.render(t,h.x,h.y,a,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,n){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=n}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(n=>{let[i,r]=n;return this.setControlVisible(i,r)})}clearContextTop(t){if(!this.canvas)return;const n=this.canvas.contextTop;if(!n)return;const i=this.canvas.viewportTransform;n.save(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(n);const r=this.width+4,s=this.height+4;return n.clearRect(-r/2,-s/2,r,s),t||n.restore(),n}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function oL(e,t){return t.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(n.prototype,i)||Object.create(null))})}),e}se(op,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Ri extends op{}oL(Ri,[$5]),$e.setClass(Ri),$e.setClass(Ri,"object");const jpe=(e,t,n,i)=>{const r=2*(i=Math.round(i))+1,{data:s}=e.getImageData(t-i,n-i,r,r);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class aL{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Se(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Se(1/this.options.scaleX,1/this.options.scaleY):new Se(1,1)}createSideVector(t,n){const i=lx(t,n);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,n,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,n,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const n=new Se(t);return n.y+=n.x*Math.tan(On(this.options.skewY)),n.x+=n.y*Math.tan(On(this.options.skewX)),n}scaleUnitVector(t,n){return t.multiply(this.strokeUniformScalar).scalarMultiply(n)}}const Ype=new Se;class hd extends aL{static getOrthogonalRotationFactor(t,n){const i=n?ux(t,n):ppe(t);return Math.abs(i)<Mp?-1:1}constructor(t,n,i,r){super(r),se(this,"AB",void 0),se(this,"AC",void 0),se(this,"alpha",void 0),se(this,"bisector",void 0),this.A=new Se(t),this.B=new Se(n),this.C=new Se(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=ux(this.AB,this.AC),this.bisector=d2(J5(this.AB.eq(Ype)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,n),s=eL(r),o=hd.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,i*o)}projectBevel(){const t=[];return(this.alpha%Rv==0?[this.B]:[this.B,this.C]).forEach(n=>{t.push(this.projectOrthogonally(this.A,n)),t.push(this.projectOrthogonally(this.A,n,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],n=Math.abs(this.alpha),i=1/Math.sin(n/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),s=this.options.strokeUniform?cx(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return cx(r)/this.strokeProjectionMagnitude<=s&&t.push(this.applySkew(this.A.add(r))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,n){const i=[],r=new Se(hd.getOrthogonalRotationFactor(this.bisector),hd.getOrthogonalRotationFactor(new Se(this.bisector.y,this.bisector.x)));return[new Se(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new Se(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(s=>{F_(s,t,n)&&i.push(this.A.add(s))}),i}projectRoundWithSkew(t,n){const i=[],{skewX:r,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,u=new Se(Math.tan(On(r)),Math.tan(On(s))),h=this.strokeProjectionMagnitude,p=l?h/a/Math.sqrt(1/a**2+1/o**2*u.y**2):h/Math.sqrt(1+u.y**2),g=new Se(Math.sqrt(Math.max(h**2-p**2,0)),p),v=l?h/Math.sqrt(1+u.x**2*(1/a)**2/(1/o+1/o*u.x*u.y)**2):h/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),C=new Se(v,Math.sqrt(Math.max(h**2-v**2,0)));return[C,C.scalarMultiply(-1),g,g.scalarMultiply(-1)].map(w=>this.applySkew(l?w.multiply(this.strokeUniformScalar):w)).forEach(w=>{F_(w,t,n)&&i.push(this.applySkew(this.A).add(w))}),i}projectRound(){const t=[];t.push(...this.projectBevel());const n=this.alpha%Rv==0,i=this.applySkew(this.A),r=t[n?0:2].subtract(i),s=t[n?1:0].subtract(i),o=n?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=Ff(r,o)>0,l=a?r:s,u=a?s:r;return this.isSkewed()?t.push(...this.projectRoundWithSkew(l,u)):t.push(...this.projectRoundNoSkew(l,u)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class O_ extends aL{constructor(t,n,i){super(i),this.A=new Se(t),this.T=new Se(n)}calcOrthogonalProjection(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,n);return this.scaleUnitVector(eL(r),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const n=new Se(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(n)),this.applySkew(this.A.subtract(n)))}else t.push(...new hd(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const n=new Se(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(n),this.A.subtract(n))}else{const n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(d2(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(i);t.push(r.add(n),r.subtract(n))}return t.map(n=>this.applySkew(n))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const $pe=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=[];if(e.length===0)return i;const r=e.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new Se(o)),s),[new Se(e[0])]);if(r.length===1)n=!0;else if(!n){const s=r[0],o=((a,l)=>{for(let u=a.length-1;u>=0;u--)if(l(a[u],u,a))return u;return-1})(r,a=>!a.eq(s));r.splice(o+1)}return r.forEach((s,o,a)=>{let l,u;o===0?(u=a[1],l=n?s:a[a.length-1]):o===a.length-1?(l=a[o-1],u=n?s:a[0]):(l=a[o-1],u=a[o+1]),n&&a.length===1?i.push(...new O_(s,s,t).project()):!n||o!==0&&o!==a.length-1?i.push(...new hd(s,l,u,t).project()):i.push(...new O_(s,o===0?u:l,t).project())}),i},p2=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={},Object.keys(e[n]).forEach(i=>{t[n][i]=oe({},e[n][i])})}),t},Kpe=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let tf;const g2=e=>{if(tf||tf||(tf="Intl"in wC()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),tf){const t=tf.segment(e);return Array.from(t).map(n=>{let{segment:i}=n;return i})}return qpe(e)},qpe=e=>{const t=[];for(let n,i=0;i<e.length;i++)(n=Xpe(e,i))!==!1&&t.push(n);return t},Xpe=(e,t)=>{const n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},m2=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textDecorationThickness!==t.textDecorationThickness||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||n&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},Qpe=(e,t)=>{const n=t.split(`
`),i=[];let r=-1,s={};e=p2(e);for(let o=0;o<n.length;o++){const a=g2(n[o]);if(e[o])for(let l=0;l<a.length;l++){r++;const u=e[o][l];u&&Object.keys(u).length>0&&(m2(s,u,!0)?i.push({start:r,end:r+1,style:u}):i[i.length-1].end++),s=u||{}}else r+=a.length,s={}}return i},Zpe=(e,t)=>{if(!Array.isArray(e))return p2(e);const n=t.split(i2),i={};let r=-1,s=0;for(let o=0;o<n.length;o++){const a=g2(n[o]);for(let l=0;l<a.length;l++)r++,e[s]&&e[s].start<=r&&r<e[s].end&&(i[o]=i[o]||{},i[o][l]=oe({},e[s].style),r===e[s].end-1&&s++)}return i},Sl=["display","transform",Yn,"fill-opacity","fill-rule","opacity",Zi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function L_(e,t){const n=e.nodeName,i=e.getAttribute("class"),r=e.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+n,"i"),t=t.replace(o,""),r&&t.length&&(o=new RegExp("#"+r+s,"i"),t=t.replace(o,"")),i&&t.length){const a=i.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),t=t.replace(o,"")}return t.length===0}function Jpe(e,t){let n=!0;const i=L_(e,t.pop());return i&&t.length&&(n=function(r,s){let o,a=!0;for(;r.parentElement&&r.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=L_(r=r.parentElement,o);return s.length===0}(e,t)),i&&n&&t.length===0}const ege=e=>{var t;return(t=hpe[e])!==null&&t!==void 0?t:e},tge=new RegExp("(".concat(Cs,")"),"gi"),nge=e=>e.replace(tge," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var I_,N_,B_,H_,G_,V_,z_;const Li="(".concat(Cs,")"),ige=String.raw(I_||(I_=po(["(skewX)(",")"],["(skewX)\\(","\\)"])),Li),rge=String.raw(N_||(N_=po(["(skewY)(",")"],["(skewY)\\(","\\)"])),Li),sge=String.raw(B_||(B_=po(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Li,Li,Li),oge=String.raw(H_||(H_=po(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Li,Li),age=String.raw(G_||(G_=po(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Li,Li),lge=String.raw(V_||(V_=po(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Li,Li,Li,Li,Li,Li),v2="(?:".concat(lge,"|").concat(age,"|").concat(sge,"|").concat(oge,"|").concat(ige,"|").concat(rge,")"),cge="(?:".concat(v2,"*)"),uge=String.raw(z_||(z_=po(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),cge),dge=new RegExp(uge),hge=new RegExp(v2),fge=new RegExp(v2,"g");function dx(e){const t=[];if(!(e=nge(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!dge.test(e))return[...Hi];for(const n of e.matchAll(fge)){const i=hge.exec(n[0]);if(!i)continue;let r=Hi;const s=i.filter(C=>!!C),[,o,...a]=s,[l,u,h,p,g,v]=a.map(C=>parseFloat(C));switch(o){case"translate":r=_p(l,u);break;case r2:r=Ud({angle:l},{x:u,y:h});break;case SC:r=a2(l,u);break;case zd:r=I5(l);break;case Wd:r=N5(l);break;case"matrix":r=[l,u,h,p,g,v]}t.push(r)}return o2(t)}function pge(e,t,n,i){const r=Array.isArray(t);let s,o=t;if(e!==Yn&&e!==Zi||t!==Qi){if(e==="strokeUniform")return t==="non-scaling-stroke";if(e==="strokeDashArray")o=t===Qi?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(e==="transformMatrix")o=n&&n.transformMatrix?mi(n.transformMatrix,dx(t)):dx(t);else if(e==="visible")o=t!==Qi&&t!=="hidden",n&&n.visible===!1&&(o=!1);else if(e==="opacity")o=parseFloat(t),n&&n.opacity!==void 0&&(o*=n.opacity);else if(e==="textAnchor")o=t==="start"?Gt:t==="end"?An:mt;else if(e==="charSpacing"||e===_c)s=dd(t,i)/i*1e3;else if(e==="paintFirst"){const a=t.indexOf(Yn),l=t.indexOf(Zi);o=Yn,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=Zi)}else{if(e==="href"||e==="xlink:href"||e==="font"||e==="id")return t;if(e==="imageSmoothing")return t==="optimizeQuality";s=r?t.map(dd):dd(t,i)}}else o="";return!r&&isNaN(s)?o:s}function gge(e,t){const n=e.match(dpe);if(!n)return;const i=n[1],r=n[3],s=n[4],o=n[5],a=n[6];i&&(t.fontStyle=i),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(t.fontSize=dd(s)),a&&(t.fontFamily=a),o&&(t.lineHeight=o==="normal"?1:o)}function mge(e,t){e.replace(/;\s*$/,"").split(";").forEach(n=>{if(!n)return;const[i,r]=n.split(":");t[i.trim().toLowerCase()]=r.trim()})}function vge(e){const t={},n=e.getAttribute("style");return n&&(typeof n=="string"?mge(n,t):function(i,r){Object.entries(i).forEach(s=>{let[o,a]=s;a!==void 0&&(r[o.toLowerCase()]=a)})}(n,t)),t}const Cge={stroke:"strokeOpacity",fill:"fillOpacity"};function pa(e,t,n){if(!e)return{};let i,r={},s=n2;e.parentNode&&R_.test(e.parentNode.nodeName)&&(r=pa(e.parentElement,t,n),r.fontSize&&(i=s=dd(r.fontSize)));const o=oe(oe(oe({},t.reduce((u,h)=>{const p=e.getAttribute(h);return p&&(u[h]=p),u},{})),function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p={};for(const g in h)Jpe(u,g.split(" "))&&(p=oe(oe({},p),h[g]));return p}(e,n)),vge(e));o[qy]&&e.setAttribute(qy,o[qy]),o[Ky]&&(i=dd(o[Ky],s),o[Ky]="".concat(i));const a={};for(const u in o){const h=ege(u),p=pge(h,o[u],r,i);a[h]=p}a&&a.font&&gge(a.font,a);const l=oe(oe({},r),a);return R_.test(e.nodeName)?l:function(u){const h=Ri.getDefaults();return Object.entries(Cge).forEach(p=>{let[g,v]=p;if(u[v]===void 0||u[g]==="")return;if(u[g]===void 0){if(!h[g])return;u[g]=h[g]}if(u[g].indexOf("url(")===0)return;const C=new jt(u[g]);u[g]=C.setAlpha(ln(C.getAlpha()*u[v],2)).toRgba()}),u}(l)}const wge=["left","top","width","height","visible"],lL=["rx","ry"];class Ws extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),Ws.ownDefaults)}constructor(t){super(),Object.assign(this,Ws.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:n}=this;t&&!n?this.ry=t:n&&!t&&(this.rx=n)}_render(t){const{width:n,height:i}=this,r=-n/2,s=-i/2,o=this.rx?Math.min(this.rx,n/2):0,a=this.ry?Math.min(this.ry,i/2):0,l=o!==0||a!==0;t.beginPath(),t.moveTo(r+o,s),t.lineTo(r+n-o,s),l&&t.bezierCurveTo(r+n-Ka*o,s,r+n,s+Ka*a,r+n,s+a),t.lineTo(r+n,s+i-a),l&&t.bezierCurveTo(r+n,s+i-Ka*a,r+n-Ka*o,s+i,r+n-o,s+i),t.lineTo(r+o,s+i),l&&t.bezierCurveTo(r+Ka*o,s+i,r,s+i-Ka*a,r,s+i-a),t.lineTo(r,s+a),l&&t.bezierCurveTo(r,s+Ka*a,r+Ka*o,s,r+o,s),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...lL,...t])}_toSVG(){const{width:t,height:n,rx:i,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-n/2,'" rx="').concat(i,'" ry="').concat(r,'" width="').concat(t,'" height="').concat(n,`" />
`)]}static async fromElement(t,n,i){const r=pa(t,this.ATTRIBUTE_NAMES,i),{left:s=0,top:o=0,width:a=0,height:l=0,visible:u=!0}=r,h=gn(r,wge);return new this(oe(oe(oe({},n),h),{},{left:s,top:o,width:a,height:l,visible:!!(u&&a&&l)}))}}se(Ws,"type","Rect"),se(Ws,"cacheProperties",[...fa,...lL]),se(Ws,"ownDefaults",{rx:0,ry:0}),se(Ws,"ATTRIBUTE_NAMES",[...Sl,"x","y","rx","ry","width","height"]),$e.setClass(Ws),$e.setSVGClass(Ws);const No="initialization",Lv="added",C2="removed",Iv="imperative",cL=(e,t)=>{const{strokeUniform:n,strokeWidth:i,width:r,height:s,group:o}=t,a=o&&o!==e?EC(o.calcTransformMatrix(),e.calcTransformMatrix()):null,l=a?t.getRelativeCenterPoint().transform(a):t.getRelativeCenterPoint(),u=!t.isStrokeAccountedForInDimensions(),h=n&&u?rpe(new Se(i,i),void 0,e.calcTransformMatrix()):s2,p=!n&&u?i:0,g=c2(r+p,s+p,o2([a,t.calcOwnMatrix()],!0)).add(h).scalarDivide(2);return[l.subtract(g),l.add(g)]};class RC{calcLayoutResult(t,n){if(this.shouldPerformLayout(t))return this.calcBoundingBox(n,t)}shouldPerformLayout(t){let{type:n,prevStrategy:i,strategy:r}=t;return n===No||n===Iv||!!i&&r!==i}shouldLayoutClipPath(t){let{type:n,target:{clipPath:i}}=t;return n!==No&&i&&!i.absolutePositioned}getInitialSize(t,n){return n.size}calcBoundingBox(t,n){const{type:i,target:r}=n;if(i===Iv&&n.overrides)return n.overrides;if(t.length===0)return;const{left:s,top:o,width:a,height:l}=Xo(t.map(p=>cL(r,p)).reduce((p,g)=>p.concat(g),[])),u=new Se(a,l),h=new Se(s,o).add(u.scalarDivide(2));if(i===No){const p=this.getInitialSize(n,{size:u,center:h});return{center:h,relativeCorrection:new Se(0,0),size:p}}return{center:h.transform(r.calcOwnMatrix()),size:u}}}se(RC,"type","strategy");class hx extends RC{shouldPerformLayout(t){return!0}}se(hx,"type","fit-content"),$e.setClass(hx);const yge=["strategy"],Sge=["target","strategy","bubbles","prevStrategy"],uL="layoutManager";class ap{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new hx;se(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const n=oe(oe({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(n);const i=this.getLayoutResult(n);i&&this.commitLayout(n,i),this.onAfterLayout(n,i),this._prevLayoutStrategy=n.strategy}attachHandlers(t,n){const{target:i}=n;return[Mv,R5,np,F5,yC,M5,Fv,Ufe,jfe].map(r=>t.on(r,s=>this.performLayout(r===Mv?{type:"object_modified",trigger:r,e:s,target:i}:{type:"object_modifying",trigger:r,e:s,target:i})))}subscribe(t,n){this.unsubscribe(t,n);const i=this.attachHandlers(t,n);this._subscriptions.set(t,i)}unsubscribe(t,n){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(n=>this.unsubscribe(n,t))}subscribeTargets(t){t.targets.forEach(n=>this.subscribe(n,t))}onBeforeLayout(t){const{target:n,type:i}=t,{canvas:r}=n;if(i===No||i===Lv?this.subscribeTargets(t):i===C2&&this.unsubscribeTargets(t),n.fire("layout:before",{context:t}),r&&r.fire("object:layout:before",{target:n,context:t}),i===Iv&&t.deep){const s=gn(t,yge);n.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(oe(oe({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(t){const{target:n,strategy:i,type:r}=t,s=i.calcLayoutResult(t,n.getObjects());if(!s)return;const o=r===No?new Se:n.getRelativeCenterPoint(),{center:a,correction:l=new Se,relativeCorrection:u=new Se}=s,h=o.subtract(a).add(l).transform(r===No?Hi:vs(n.calcOwnMatrix()),!0).add(u);return{result:s,prevCenter:o,nextCenter:a,offset:h}}commitLayout(t,n){const{target:i}=t,{result:{size:r},nextCenter:s}=n;var o,a;i.set({width:r.x,height:r.y}),this.layoutObjects(t,n),t.type===No?i.set({left:(o=t.x)!==null&&o!==void 0?o:s.x+r.x*Gn(i.originX),top:(a=t.y)!==null&&a!==void 0?a:s.y+r.y*Gn(i.originY)}):(i.setPositionByOrigin(s,mt,mt),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,n){const{target:i}=t;i.forEachObject(r=>{r.group===i&&this.layoutObject(t,n,r)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,n,i.clipPath)}layoutObject(t,n,i){let{offset:r}=n;i.set({left:i.left+r.x,top:i.top+r.y})}onAfterLayout(t,n){const{target:i,strategy:r,bubbles:s,prevStrategy:o}=t,a=gn(t,Sge),{canvas:l}=i;i.fire("layout:after",{context:t,result:n}),l&&l.fire("object:layout:after",{context:t,result:n,target:i});const u=i.parent;s&&u!=null&&u.layoutManager&&((a.path||(a.path=[])).push(i),u.layoutManager.performLayout(oe(oe({},a),{},{target:u}))),i.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(n=>n.forEach(i=>i())),t.clear()}toObject(){return{type:uL,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}$e.setClass(ap,uL);const xge=["type","objects","layoutManager"];class bge extends ap{performLayout(){}}class pc extends _5(Ri){static getDefaults(){return oe(oe({},super.getDefaults()),pc.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),se(this,"_activeObjects",[]),se(this,"__objectSelectionTracker",void 0),se(this,"__objectSelectionDisposer",void 0),Object.assign(this,pc.ownDefaults),this.setOptions(n),this.groupInit(t,n)}groupInit(t,n){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(r=>{this.enterGroup(r,!1)}),this.layoutManager=(i=n.layoutManager)!==null&&i!==void 0?i:new ap,this.layoutManager.performLayout({type:No,target:this,targets:[...t],x:n.left,y:n.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(gl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(gl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((n,i,r)=>this.canEnterGroup(n)&&r.indexOf(n)===i)}add(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=this._filterObjectsBeforeEnteringGroup(n),s=super.add(...r);return this._onAfterObjectsChange(Lv,r),s}insertAt(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=this._filterObjectsBeforeEnteringGroup(i),o=super.insertAt(t,...s);return this._onAfterObjectsChange(Lv,s),o}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(C2,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,n){this.exitGroup(t,n),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,n){this.layoutManager.performLayout({type:t,targets:n,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,n){const i=this[t];return super._set(t,n),t==="canvas"&&i!==n&&(this._objects||[]).forEach(r=>{r._set(t,n)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,n){let{target:i}=n;const r=this._activeObjects;if(t)r.push(i),this._set("dirty",!0);else if(r.length>0){const s=r.indexOf(i);s>-1&&(r.splice(s,1),this._set("dirty",!0))}}_watchObject(t,n){t&&this._watchObject(!1,n),t?(n.on("selected",this.__objectSelectionTracker),n.on("deselected",this.__objectSelectionDisposer)):(n.off("selected",this.__objectSelectionTracker),n.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,n){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,n)}_enterGroup(t,n){n&&Pv(t,mi(vs(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,n){this._exitGroup(t,n),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,n){t._set("group",void 0),n||(Pv(t,mi(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){const t=Ri.prototype.shouldCache.call(this);if(t){for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,n,i){this._renderBackground(t);for(let s=0;s<this._objects.length;s++){var r;const o=this._objects[s];(r=this.canvas)!==null&&r!==void 0&&r.preserveObjectStacking&&o.group!==this?(t.save(),t.transform(...vs(this.calcTransformMatrix())),o.render(t),t.restore()):o.group===this&&o.render(t)}this._drawClipPath(t,this.clipPath,i)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(oe({target:this,type:Iv},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,n){const i=this.includeDefaultValues;return this._objects.filter(function(r){return!r.excludeFromExport}).map(function(r){const s=r.includeDefaultValues;r.includeDefaultValues=i;const o=r[t||"toObject"](n);return r.includeDefaultValues=s,o})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.layoutManager.toObject();return oe(oe(oe({},super.toObject(["subTargetCheck","interactive",...t])),n.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:n}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const n=Ws.prototype._toSVG.call(this),i=n.indexOf("COMMON_PARTS");n[i]='for="group" ';const r=n.join("");return t?t(r):r}_toSVG(t){const n=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&n.push("		",i);for(let r=0;r<this._objects.length;r++)n.push("		",this._objects[r].toSVG(t));return n.push(`</g>
`),n}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",n=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),n].join("")}toClipPathSVG(t){const n=[],i=this._createSVGBgRect(t);i&&n.push("	",i);for(let r=0;r<this._objects.length;r++)n.push("	",this._objects[r].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(n,{reviver:t})}static fromObject(t,n){let{type:i,objects:r=[],layoutManager:s}=t,o=gn(t,xge);return Promise.all([ip(r,n),bC(o,n)]).then(a=>{let[l,u]=a;const h=new this(l,oe(oe(oe({},o),u),{},{layoutManager:new bge}));if(s){const p=$e.getClass(s.type),g=$e.getClass(s.strategy);h.layoutManager=new p(new g)}else h.layoutManager=new ap;return h.layoutManager.subscribeTargets({type:No,target:h,targets:h.getObjects()}),h.setCoords(),h})}}se(pc,"type","Group"),se(pc,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),$e.setClass(pc);const Ege=(e,t)=>Math.min(t.width/e.width,t.height/e.height),Tge=(e,t)=>Math.max(t.width/e.width,t.height/e.height),fx="\\s*,?\\s*",nf="".concat(fx,"(").concat(Cs,")"),Dge="".concat(nf).concat(nf).concat(nf).concat(fx,"([01])").concat(fx,"([01])").concat(nf).concat(nf),Rge={m:"l",M:"L"},Fge=(e,t,n,i,r,s,o,a,l,u,h)=>{const p=sa(e),g=oa(e),v=sa(t),C=oa(t),w=n*r*v-i*s*C+o,S=i*r*v+n*s*C+a;return["C",u+l*(-n*r*g-i*s*p),h+l*(-i*r*g+n*s*p),w+l*(n*r*C+i*s*v),S+l*(i*r*C-n*s*v),w,S]},W_=(e,t,n,i)=>{const r=Math.atan2(t,e),s=Math.atan2(i,n);return s>=r?s-r:2*Math.PI-(r-s)};function U_(e,t,n,i,r,s,o,a){let l;if(Rt.cachesBoundsOfCurve&&(l=[...arguments].join(),Tf.boundsOfCurveCache[l]))return Tf.boundsOfCurveCache[l];const u=Math.sqrt,h=Math.abs,p=[],g=[[0,0],[0,0]];let v=6*e-12*n+6*r,C=-3*e+9*n-9*r+3*o,w=3*n-3*e;for(let R=0;R<2;++R){if(R>0&&(v=6*t-12*i+6*s,C=-3*t+9*i-9*s+3*a,w=3*i-3*t),h(C)<1e-12){if(h(v)<1e-12)continue;const A=-w/v;0<A&&A<1&&p.push(A);continue}const F=v*v-4*w*C;if(F<0)continue;const P=u(F),_=(-v+P)/(2*C);0<_&&_<1&&p.push(_);const L=(-v-P)/(2*C);0<L&&L<1&&p.push(L)}let S=p.length;const x=S,E=dL(e,t,n,i,r,s,o,a);for(;S--;){const{x:R,y:F}=E(p[S]);g[0][S]=R,g[1][S]=F}g[0][x]=e,g[1][x]=t,g[0][x+1]=o,g[1][x+1]=a;const T=[new Se(Math.min(...g[0]),Math.min(...g[1])),new Se(Math.max(...g[0]),Math.max(...g[1]))];return Rt.cachesBoundsOfCurve&&(Tf.boundsOfCurveCache[l]=T),T}const Mge=(e,t,n)=>{let[i,r,s,o,a,l,u,h]=n;const p=((g,v,C,w,S,x,E)=>{if(C===0||w===0)return[];let T=0,R=0,F=0;const P=Math.PI,_=E*t2,L=oa(_),A=sa(_),O=.5*(-A*g-L*v),I=.5*(-A*v+L*g),z=C**2,J=w**2,ae=I**2,ie=O**2,j=z*J-z*ae-J*ie;let W=Math.abs(C),Q=Math.abs(w);if(j<0){const Pe=Math.sqrt(1-j/(z*J));W*=Pe,Q*=Pe}else F=(S===x?-1:1)*Math.sqrt(j/(z*ae+J*ie));const ce=F*W*I/Q,H=-F*Q*O/W,le=A*ce-L*H+.5*g,B=L*ce+A*H+.5*v;let Y=W_(1,0,(O-ce)/W,(I-H)/Q),K=W_((O-ce)/W,(I-H)/Q,(-O-ce)/W,(-I-H)/Q);x===0&&K>0?K-=2*P:x===1&&K<0&&(K+=2*P);const ee=Math.ceil(Math.abs(K/P*2)),de=[],Ie=K/ee,Oe=8/3*Math.sin(Ie/4)*Math.sin(Ie/4)/Math.sin(Ie/2);let _e=Y+Ie;for(let Pe=0;Pe<ee;Pe++)de[Pe]=Fge(Y,_e,A,L,W,Q,le,B,Oe,T,R),T=de[Pe][5],R=de[Pe][6],Y=_e,_e+=Ie;return de})(u-e,h-t,r,s,a,l,o);for(let g=0,v=p.length;g<v;g++)p[g][1]+=e,p[g][2]+=t,p[g][3]+=e,p[g][4]+=t,p[g][5]+=e,p[g][6]+=t;return p},_ge=e=>{let t=0,n=0,i=0,r=0;const s=[];let o,a=0,l=0;for(const u of e){const h=[...u];let p;switch(h[0]){case"l":h[1]+=t,h[2]+=n;case"L":t=h[1],n=h[2],p=["L",t,n];break;case"h":h[1]+=t;case"H":t=h[1],p=["L",t,n];break;case"v":h[1]+=n;case"V":n=h[1],p=["L",t,n];break;case"m":h[1]+=t,h[2]+=n;case"M":t=h[1],n=h[2],i=h[1],r=h[2],p=["M",t,n];break;case"c":h[1]+=t,h[2]+=n,h[3]+=t,h[4]+=n,h[5]+=t,h[6]+=n;case"C":a=h[3],l=h[4],t=h[5],n=h[6],p=["C",h[1],h[2],a,l,t,n];break;case"s":h[1]+=t,h[2]+=n,h[3]+=t,h[4]+=n;case"S":o==="C"?(a=2*t-a,l=2*n-l):(a=t,l=n),t=h[3],n=h[4],p=["C",a,l,h[1],h[2],t,n],a=p[3],l=p[4];break;case"q":h[1]+=t,h[2]+=n,h[3]+=t,h[4]+=n;case"Q":a=h[1],l=h[2],t=h[3],n=h[4],p=["Q",a,l,t,n];break;case"t":h[1]+=t,h[2]+=n;case"T":o==="Q"?(a=2*t-a,l=2*n-l):(a=t,l=n),t=h[1],n=h[2],p=["Q",a,l,t,n];break;case"a":h[6]+=t,h[7]+=n;case"A":Mge(t,n,h).forEach(g=>s.push(g)),t=h[6],n=h[7];break;case"z":case"Z":t=i,n=r,p=["Z"]}p?(s.push(p),o=p[0]):o=""}return s},Nv=(e,t,n,i)=>Math.sqrt((n-e)**2+(i-t)**2),dL=(e,t,n,i,r,s,o,a)=>l=>{const u=l**3,h=(v=>3*v**2*(1-v))(l),p=(v=>3*v*(1-v)**2)(l),g=(v=>(1-v)**3)(l);return new Se(o*u+r*h+n*p+e*g,a*u+s*h+i*p+t*g)},hL=e=>e**2,fL=e=>2*e*(1-e),pL=e=>(1-e)**2,Age=(e,t,n,i,r,s,o,a)=>l=>{const u=hL(l),h=fL(l),p=pL(l),g=3*(p*(n-e)+h*(r-n)+u*(o-r)),v=3*(p*(i-t)+h*(s-i)+u*(a-s));return Math.atan2(v,g)},Pge=(e,t,n,i,r,s)=>o=>{const a=hL(o),l=fL(o),u=pL(o);return new Se(r*a+n*l+e*u,s*a+i*l+t*u)},kge=(e,t,n,i,r,s)=>o=>{const a=1-o,l=2*(a*(n-e)+o*(r-n)),u=2*(a*(i-t)+o*(s-i));return Math.atan2(u,l)},j_=(e,t,n)=>{let i=new Se(t,n),r=0;for(let s=1;s<=100;s+=1){const o=e(s/100);r+=Nv(i.x,i.y,o.x,o.y),i=o}return r},Oge=(e,t)=>{let n,i=0,r=0,s={x:e.x,y:e.y},o=oe({},s),a=.01,l=0;const u=e.iterator,h=e.angleFinder;for(;r<t&&a>1e-4;)o=u(i),l=i,n=Nv(s.x,s.y,o.x,o.y),n+r>t?(i-=a,a/=2):(s=o,i+=a,r+=n);return oe(oe({},o),{},{angle:h(l)})},gL=e=>{let t,n,i=0,r=0,s=0,o=0,a=0;const l=[];for(const u of e){const h={x:r,y:s,command:u[0],length:0};switch(u[0]){case"M":n=h,n.x=o=r=u[1],n.y=a=s=u[2];break;case"L":n=h,n.length=Nv(r,s,u[1],u[2]),r=u[1],s=u[2];break;case"C":t=dL(r,s,u[1],u[2],u[3],u[4],u[5],u[6]),n=h,n.iterator=t,n.angleFinder=Age(r,s,u[1],u[2],u[3],u[4],u[5],u[6]),n.length=j_(t,r,s),r=u[5],s=u[6];break;case"Q":t=Pge(r,s,u[1],u[2],u[3],u[4]),n=h,n.iterator=t,n.angleFinder=kge(r,s,u[1],u[2],u[3],u[4]),n.length=j_(t,r,s),r=u[3],s=u[4];break;case"Z":n=h,n.destX=o,n.destY=a,n.length=Nv(r,s,o,a),r=o,s=a}i+=n.length,l.push(n)}return l.push({length:i,x:r,y:s}),l},Lge=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gL(e),i=0;for(;t-n[i].length>0&&i<n.length-2;)t-=n[i].length,i++;const r=n[i],s=t/r.length,o=e[i];switch(r.command){case"M":return{x:r.x,y:r.y,angle:0};case"Z":return oe(oe({},new Se(r.x,r.y).lerp(new Se(r.destX,r.destY),s)),{},{angle:Math.atan2(r.destY-r.y,r.destX-r.x)});case"L":return oe(oe({},new Se(r.x,r.y).lerp(new Se(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-r.y,o[1]-r.x)});case"C":case"Q":return Oge(r,t)}},Ige=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Y_=new RegExp(Dge,"g"),Nge=new RegExp(Cs,"gi"),Bge={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Hge=e=>{var t;const n=[],i=(t=e.match(Ige))!==null&&t!==void 0?t:[];for(const r of i){const s=r[0];if(s==="z"||s==="Z"){n.push([s]);continue}const o=Bge[s.toLowerCase()];let a=[];if(s==="a"||s==="A"){Y_.lastIndex=0;for(let l=null;l=Y_.exec(r);)a.push(...l.slice(1))}else a=r.match(Nge)||[];for(let l=0;l<a.length;l+=o){const u=new Array(o),h=Rge[s];u[0]=l>0&&h?h:s;for(let p=0;p<o;p++)u[p+1]=parseFloat(a[l+p]);n.push(u)}}return n},Gge=(e,t)=>e.map(n=>n.map((i,r)=>r===0||t===void 0?i:ln(i,t)).join(" ")).join(" ");function px(e,t){const n=e.style;n&&t&&(typeof t=="string"?n.cssText+=";"+t:Object.entries(t).forEach(i=>{let[r,s]=i;return n.setProperty(r,s)}))}class Vge extends V5{constructor(t){let{allowTouchScrolling:n=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),se(this,"upper",void 0),se(this,"container",void 0);const{el:r}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:n}),this.applyCanvasStyle(s,{allowTouchScrolling:n,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(i),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,s),this.container=o}createUpperCanvas(){const{el:t}=this.lower,n=aa();return n.className=t.className,n.classList.remove("lower-canvas"),n.classList.add("upper-canvas"),n.setAttribute("data-fabric","top"),n.style.cssText=t.style.cssText,n.setAttribute("draggable","true"),n}createContainerElement(){const t=Vd().createElement("div");return t.setAttribute("data-fabric","wrapper"),px(t,{position:"relative"}),v_(t),t}applyCanvasStyle(t,n){const{styles:i,allowTouchScrolling:r}=n;px(t,oe(oe({},i),{},{"touch-action":r?"manipulation":Qi})),v_(t)}setDimensions(t,n){super.setDimensions(t,n);const{el:i,ctx:r}=this.upper;G5(i,r,t,n)}setCSSDimensions(t){super.setCSSDimensions(t),ox(this.upper.el,t),ox(this.container,t)}cleanupDOM(t){const n=this.container,{el:i}=this.lower,{el:r}=this.upper;super.cleanupDOM(t),n.removeChild(r),n.removeChild(i),n.parentNode&&n.parentNode.replaceChild(i,n)}dispose(){super.dispose(),uo().dispose(this.upper.el),delete this.upper,delete this.container}}class FC extends Ap{constructor(){super(...arguments),se(this,"targets",[]),se(this,"_hoveredTargets",[]),se(this,"_objectsToRender",void 0),se(this,"_currentTransform",null),se(this,"_groupSelector",null),se(this,"contextTopDirty",!1)}static getDefaults(){return oe(oe({},super.getDefaults()),FC.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Vge(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(n=>!n.group&&n!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const n=this.getRetinaScaling(),i=Math.ceil((2*t+1)*n);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(n,n)}isTargetTransparent(t,n,i){const r=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-n+r,-i+r),s.transform(...this.viewportTransform);const o=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(s),t.selectionBackgroundColor=o,s.restore();const a=Math.round(r*this.getRetinaScaling());return jpe(s,a,a,a)}_isSelectionKeyPressed(t){const n=this.selectionKey;return!!n&&(Array.isArray(n)?!!n.find(i=>!!i&&t[i]===!0):t[n])}_shouldClearSelection(t,n){const i=this.getActiveObjects(),r=this._activeObject;return!!(!n||n&&r&&i.length>1&&i.indexOf(n)===-1&&r!==n&&!this._isSelectionKeyPressed(t)||n&&!n.evented||n&&!n.selectable&&r&&r!==n)}_shouldCenterTransform(t,n,i){if(!t)return;let r;return n===SC||n===nr||n===Jr||n===np?r=this.centeredScaling||t.centeredScaling:n===r2&&(r=this.centeredRotation||t.centeredRotation),r?!i:i}_getOriginFromCorner(t,n){const i={x:t.originX,y:t.originY};return n&&(["ml","tl","bl"].includes(n)?i.x=An:["mr","tr","br"].includes(n)&&(i.x=Gt),["tl","mt","tr"].includes(n)?i.y=sx:["bl","mb","br"].includes(n)&&(i.y=Xi)),i}_setupCurrentTransform(t,n,i){var r;const s=n.group?ud(this.getScenePoint(t),void 0,n.group.calcTransformMatrix()):this.getScenePoint(t),{key:o="",control:a}=n.getActiveControl()||{},l=i&&a?(r=a.getActionHandler(t,n,a))===null||r===void 0?void 0:r.bind(a):ape,u=((v,C,w,S)=>{if(!C||!v)return"drag";const x=S.controls[C];return x.getActionName(w,x,S)})(i,o,t,n),h=t[this.centeredKey],p=this._shouldCenterTransform(n,u,h)?{x:mt,y:mt}:this._getOriginFromCorner(n,o),g={target:n,action:u,actionHandler:l,actionPerformed:!1,corner:o,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:s.x-n.left,offsetY:s.y-n.top,originX:p.x,originY:p.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:On(n.angle),width:n.width,height:n.height,shiftKey:t.shiftKey,altKey:h,original:oe(oe({},z5(n)),{},{originX:p.x,originY:p.y})};this._currentTransform=g,this.fire("before:transform",{e:t,transform:g})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:n,y:i,deltaX:r,deltaY:s}=this._groupSelector,o=new Se(n,i).transform(this.viewportTransform),a=new Se(n+r,i+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let u=Math.min(o.x,a.x),h=Math.min(o.y,a.y),p=Math.max(o.x,a.x),g=Math.max(o.y,a.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(u,h,p-u,g-h)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,u+=l,h+=l,p-=l,g-=l,Ri.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(u,h,p-u,g-h))}findTarget(t){if(this.skipTargetFind)return;const n=this.getViewportPoint(t),i=this._activeObject,r=this.getActiveObjects();if(this.targets=[],i&&r.length>=1){if(i.findControl(n,ax(t))||r.length>1&&this.searchPossibleTargets([i],n))return i;if(i===this.searchPossibleTargets([i],n)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,n);return t[this.altSelectionKey]&&o&&o!==i?(this.targets=s,i):o}return i}}return this.searchPossibleTargets(this._objects,n)}_pointIsInObjectSelectionArea(t,n){let i=t.getCoords();const r=this.getZoom(),s=t.padding/r;if(s){const[o,a,l,u]=i,h=Math.atan2(a.y-o.y,a.x-o.x),p=sa(h)*s,g=oa(h)*s,v=p+g,C=p-g;i=[new Se(o.x-C,o.y-v),new Se(a.x+v,a.y-C),new Se(l.x+C,l.y+v),new Se(u.x-v,u.y+C)]}return Cn.isPointInPolygon(n,i)}_checkTarget(t,n){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,ud(n,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,n.x,n.y)))}_searchPossibleTargets(t,n){let i=t.length;for(;i--;){const r=t[i];if(this._checkTarget(r,n)){if(v0(r)&&r.subTargetCheck){const s=this._searchPossibleTargets(r._objects,n);s&&this.targets.push(s)}return r}}}searchPossibleTargets(t,n){const i=this._searchPossibleTargets(t,n);if(i&&v0(i)&&i.interactive&&this.targets[0]){const r=this.targets;for(let s=r.length-1;s>0;s--){const o=r[s];if(!v0(o)||!o.interactive)return o}return r[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.upperCanvasEl,r=i.getBoundingClientRect();let s=epe(t),o=r.width||0,a=r.height||0;o&&a||(Xi in r&&sx in r&&(a=Math.abs(r.top-r.bottom)),An in r&&Gt in r&&(o=Math.abs(r.right-r.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,n||(s=ud(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const u=o===0||a===0?new Se(1,1):new Se(i.width/o,i.height/a);return s.multiply(u)}_setDimensionsImpl(t,n){this._resetTransformEventData(),super._setDimensionsImpl(t,n),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=aa(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return Yl(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,n){let i=!1,r=!1;const s=this.getActiveObjects(),o=[],a=[];t.forEach(l=>{s.includes(l)||(i=!0,l.fire("deselected",{e:n,target:l}),a.push(l))}),s.forEach(l=>{t.includes(l)||(i=!0,l.fire("selected",{e:n,target:l}),o.push(l))}),t.length>0&&s.length>0?(r=!0,i&&this.fire("selection:updated",{e:n,selected:o,deselected:a})):s.length>0?(r=!0,this.fire("selection:created",{e:n,selected:o})):t.length>0&&(r=!0,this.fire("selection:cleared",{e:n,deselected:a})),r&&(this._objectsToRender=void 0)}setActiveObject(t,n){const i=this.getActiveObjects(),r=this._setActiveObject(t,n);return this._fireSelectionEvents(i,n),r}_setActiveObject(t,n){const i=this._activeObject;return i!==t&&!(!this._discardActiveObject(n,t)&&this._activeObject)&&!t.onSelect({e:n})&&(this._activeObject=t,Yl(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,n){const i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:n})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),Yl(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const n=this.getActiveObjects(),i=this.getActiveObject();n.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});const r=this._discardActiveObject(t);return this._fireSelectionEvents(n,t),r}endCurrentTransform(t){const n=this._currentTransform;this._finalizeCurrentTransform(t),n&&n.target&&(n.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const n=this._currentTransform,i=n.target,r={e:t,target:i,transform:n,action:n.action};i._scaling&&(i._scaling=!1),i.setCoords(),n.actionPerformed&&(this.fire("object:modified",r),i.fire(Mv,r))}setViewportTransform(t){super.setViewportTransform(t);const n=this._activeObject;n&&n.setCoords()}destroy(){const t=this._activeObject;Yl(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const n=this._activeObject;n&&n._renderControls(t)}_toObject(t,n,i){const r=this._realizeGroupTransformOnObject(t),s=super._toObject(t,n,i);return t.set(r),s}_realizeGroupTransformOnObject(t){const{group:n}=t;if(n&&Yl(n)&&this._activeObject===n){const i=jd(t,["angle","flipX","flipY",Gt,nr,Jr,zd,Wd,Xi]);return npe(t,n.calcOwnMatrix()),i}return{}}_setSVGObject(t,n,i){const r=this._realizeGroupTransformOnObject(n);super._setSVGObject(t,n,i),n.set(r)}}se(FC,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class zge{constructor(t){se(this,"targets",[]),se(this,"__disposer",void 0);const n=()=>{const{hiddenTextarea:r}=t.getActiveObject()||{};r&&r.focus()},i=t.upperCanvasEl;i.addEventListener("click",n),this.__disposer=()=>i.removeEventListener("click",n)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Hu(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var n;!((n=this.target)===null||n===void 0)&&n.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Wge=["target","oldTarget","fireCanvas","e"],hr={passive:!1},Ou=(e,t)=>{const n=e.getViewportPoint(t),i=e.getScenePoint(t);return{viewportPoint:n,scenePoint:i,pointer:n,absolutePointer:i}},qa=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.addEventListener(...n)},Nr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.removeEventListener(...n)},Uge={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class gx extends FC{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),se(this,"_isClick",void 0),se(this,"textEditingManager",new zge(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(n=>{this[n]=this[n].bind(this)}),this.addOrRemove(qa,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,n){const i=this.upperCanvasEl,r=this._getEventPrefix();t(H5(i),"resize",this._onResize),t(i,r+"down",this._onMouseDown),t(i,"".concat(r,"move"),this._onMouseMove,hr),t(i,"".concat(r,"out"),this._onMouseOut),t(i,"".concat(r,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"click",this._onClick),t(i,"dblclick",this._onClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,hr)}removeListeners(){this.addOrRemove(Nr,"remove");const t=this._getEventPrefix(),n=gs(this.upperCanvasEl);Nr(n,"".concat(t,"up"),this._onMouseUp),Nr(n,"touchend",this._onTouchEnd,hr),Nr(n,"".concat(t,"move"),this._onMouseMove,hr),Nr(n,"touchmove",this._onMouseMove,hr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const n=this._hoveredTarget,i=oe({e:t},Ou(this,t));this.fire("mouse:out",oe(oe({},i),{},{target:n})),this._hoveredTarget=void 0,n&&n.fire("mouseout",oe({},i)),this._hoveredTargets.forEach(r=>{this.fire("mouse:out",oe(oe({},i),{},{target:r})),r&&r.fire("mouseout",oe({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",oe({e:t},Ou(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const n=this.getActiveObject();if(n&&n.onDragStart(t)){this._dragSource=n;const i={e:t,target:n};return this.fire("dragstart",i),n.fire("dragstart",i),void qa(this.upperCanvasEl,"drag",this._onDragProgress)}C_(t)}_renderDragEffects(t,n,i){let r=!1;const s=this._dropTarget;s&&s!==n&&s!==i&&(s.clearContextTop(),r=!0),n?.clearContextTop(),i!==n&&i?.clearContextTop();const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),n&&(o.save(),n.transform(o),n.renderDragSourceEffect(t),o.restore(),r=!0),i&&(o.save(),i.transform(o),i.renderDropTargetEffect(t),o.restore(),r=!0),o.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(t){const n=!!t.dataTransfer&&t.dataTransfer.dropEffect!==Qi,i=n?this._activeObject:void 0,r={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:n,dropTarget:i};Nr(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",r),this._dragSource&&this._dragSource.fire("dragend",r),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const n={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",n),this._dragSource&&this._dragSource.fire("drag",n)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const n="dragover",{target:i,targets:r}=this.findDragTargets(t),s=this._dragSource,o={e:t,target:i,subTargets:r,dragSource:s,canDrop:!1,dropTarget:void 0};let a;this.fire(n,o),this._fireEnterLeaveEvents(i,o),i&&(i.canDrop(t)&&(a=i),i.fire(n,o));for(let l=0;l<r.length;l++){const u=r[l];u.canDrop(t)&&(a=u),u.fire(n,o)}this._renderDragEffects(t,s,a),this._dropTarget=a}_onDragEnter(t){const{target:n,targets:i}=this.findDragTargets(t),r={e:t,target:n,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(n,r)}_onDragLeave(t){const n={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(void 0,n),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:n,targets:i}=this.findDragTargets(t),r=this._basicEventHandler("drop:before",oe({e:t,target:n,subTargets:i,dragSource:this._dragSource},Ou(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(t){const n=this.findTarget(t),i=this.targets||[],r=this._basicEventHandler("contextmenu:before",{e:t,target:n,subTargets:i});return this.stopContextMenu&&C_(t),this._basicEventHandler("contextmenu",r),!1}_onClick(t){const n=t.detail;n>3||n<2||(this._cacheTransformEventData(t),n==2&&t.type==="dblclick"&&this._handleEvent(t,"dblclick"),n==3&&this._handleEvent(t,"tripleclick"),this._resetTransformEventData())}getPointerId(t){const n=t.changedTouches;return n?n[0]&&n[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let n=!this.allowTouchScrolling;const i=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||i&&this._target===i)&&(n=!0),n&&t.preventDefault(),this._resetTransformEventData();const r=this.upperCanvasEl,s=this._getEventPrefix(),o=gs(r);qa(o,"touchend",this._onTouchEnd,hr),n&&qa(o,"touchmove",this._onMouseMove,hr),Nr(r,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const n=this.upperCanvasEl,i=this._getEventPrefix();Nr(n,"".concat(i,"move"),this._onMouseMove,hr);const r=gs(n);qa(r,"".concat(i,"up"),this._onMouseUp),qa(r,"".concat(i,"move"),this._onMouseMove,hr)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const n=this._getEventPrefix(),i=gs(this.upperCanvasEl);Nr(i,"touchend",this._onTouchEnd,hr),Nr(i,"touchmove",this._onMouseMove,hr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{qa(this.upperCanvasEl,"".concat(n,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const n=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){const r=gs(this.upperCanvasEl);Nr(r,"".concat(i,"up"),this._onMouseUp),Nr(r,"".concat(i,"move"),this._onMouseMove,hr),qa(n,"".concat(i,"move"),this._onMouseMove,hr)}}_onMouseMove(t){const n=this.getActiveObject();!this.allowTouchScrolling&&(!n||!n.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const n=this.getActiveObject();return!!n!=!!t||n&&t&&n!==t}__onMouseUp(t){var n;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const i=this._currentTransform,r=this._isClick,s=this._target,{button:o}=t;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let a,l,u=!1;if(i&&(this._finalizeCurrentTransform(t),u=i.actionPerformed),!r){const h=s===this._activeObject;this.handleSelection(t),u||(u=this._shouldRender(s)||!h&&s===this._activeObject)}if(s){const h=s.findControl(this.getViewportPoint(t),ax(t)),{key:p,control:g}=h||{};if(l=p,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,t),u=!0;else if(g){const v=g.getMouseUpHandler(t,s,g);v&&(a=this.getScenePoint(t),v.call(g,t,i,a.x,a.y))}s.isMoving=!1}if(i&&(i.target!==s||i.corner!==l)){const h=i.target&&i.target.controls[i.corner],p=h&&h.getMouseUpHandler(t,i.target,h);a=a||this.getScenePoint(t),p&&p.call(h,t,i,a.x,a.y)}this._setCursorFromEvent(t,s),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),u?this.requestRenderAll():r||(n=this._activeObject)!==null&&n!==void 0&&n.isEditing||this.renderTop()}_basicEventHandler(t,n){const{target:i,subTargets:r=[]}=n;this.fire(t,n),i&&i.fire(t,n);for(let s=0;s<r.length;s++)r[s]!==i&&r[s].fire(t,n);return n}_handleEvent(t,n,i){const r=this._target,s=this.targets||[],o=oe(oe(oe({e:t,target:r,subTargets:s},Ou(this,t)),{},{transform:this._currentTransform},n==="up:before"||n==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),n==="down:before"||n==="down"?i:{});this.fire("mouse:".concat(n),o),r&&r.fire("mouse".concat(n),o);for(let a=0;a<s.length;a++)s[a]!==r&&s[a].fire("mouse".concat(n),o)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const n=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(n,{e:t,pointer:n}),this._handleEvent(t,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const n=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(n,{e:t,pointer:n})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const n=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:n}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let n=this._target,i=!!n&&n===this._activeObject;const{button:r}=t;if(r)return(this.fireMiddleClick&&r===1||this.fireRightClick&&r===2)&&this._handleEvent(t,"down",{alreadySelected:i}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let s=this._shouldRender(n),o=!1;if(this.handleMultiSelection(t,n)?(n=this._activeObject,o=!0,s=!0):this._shouldClearSelection(t,n)&&this.discardActiveObject(t),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){const a=this.getScenePoint(t);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(i=!!n&&n===this._activeObject,n){n.selectable&&n.activeOn==="down"&&this.setActiveObject(n,t);const a=n.findControl(this.getViewportPoint(t),ax(t));if(n===this._activeObject&&(a||!o)){this._setupCurrentTransform(t,n,i);const l=a?a.control:void 0,u=this.getScenePoint(t),h=l&&l.getMouseDownHandler(t,n,l);h&&h.call(l,t,this._currentTransform,u.x,u.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(t,"down",{alreadySelected:i}),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=ud(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const n=this._groupSelector;if(n){const i=this.getScenePoint(t);n.deltaX=i.x-n.x,n.deltaY=i.y-n.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,n){const i=this._hoveredTarget,r=this._hoveredTargets,s=this.targets,o=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:n,oldTarget:i,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e:t,target:s[a],oldTarget:r[a]});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,n){const i=this._draggedoverTarget,r=this._hoveredTargets,s=this.targets,o=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("drag",oe(oe({},n),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",oe(oe({},n),{},{target:s[a],oldTarget:r[a]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,n){let{target:i,oldTarget:r,fireCanvas:s,e:o}=n,a=gn(n,Wge);const{targetIn:l,targetOut:u,canvasIn:h,canvasOut:p}=Uge[t],g=r!==i;if(r&&g){const v=oe(oe({},a),{},{e:o,target:r,nextTarget:i},Ou(this,o));s&&this.fire(p,v),r.fire(u,v)}if(i&&g){const v=oe(oe({},a),{},{e:o,target:i,previousTarget:r},Ou(this,o));s&&this.fire(h,v),i.fire(l,v)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const n=this.getScenePoint(t),i=this._currentTransform,r=i.target,s=r.group?ud(n,void 0,r.group.calcTransformMatrix()):n;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,s),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,n,i){const{action:r,actionHandler:s,target:o}=n,a=!!s&&s(t,n,i.x,i.y);a&&o.setCoords(),r==="drag"&&a&&(n.target.isMoving=!0,this.setCursor(n.target.moveCursor||this.moveCursor)),n.actionPerformed=n.actionPerformed||a}_setCursorFromEvent(t,n){if(!n)return void this.setCursor(this.defaultCursor);let i=n.hoverCursor||this.hoverCursor;const r=Yl(this._activeObject)?this._activeObject:null,s=(!r||n.group!==r)&&n.findControl(this.getViewportPoint(t));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(t,o,n))}else n.subTargetCheck&&this.targets.concat().reverse().map(o=>{i=o.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,n){const i=this._activeObject,r=Yl(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&n&&n.selectable&&(i!==n||r)&&(r||!n.isDescendantOf(i)&&!i.isDescendantOf(n))&&!n.onSelect({e:t})&&!i.getActiveControl()){if(r){const s=i.getObjects();if(n===i){const o=this.getViewportPoint(t);if(!(n=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!n.selectable)return!1}n.group===i?(i.remove(n),this._hoveredTarget=n,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(n),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,t)}else{i.isEditing&&i.exitEditing();const s=new($e.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(i,n),this._hoveredTarget=s,this._setActiveObject(s,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:n,y:i,deltaX:r,deltaY:s}=this._groupSelector,o=new Se(n,i),a=o.add(new Se(r,s)),l=o.min(a),u=o.max(a).subtract(l),h=this.collectObjects({left:l.x,top:l.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),p=o.eq(a)?h[0]?[h[0]]:[]:h.length>1?h.filter(g=>!g.onSelect({e:t})).reverse():h;if(p.length===1)this.setActiveObject(p[0],t);else if(p.length>1){const g=$e.getClass("ActiveSelection");this.setActiveObject(new g(p,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const mL={x1:0,y1:0,x2:0,y2:0},jge=oe(oe({},mL),{},{r1:0,r2:0}),Wu=(e,t)=>isNaN(e)&&typeof t=="number"?t:e,Yge=/^(\d+\.\d+)%|(\d+)%$/;function vL(e){return e&&Yge.test(e)}function CL(e,t){const n=typeof e=="number"?e:typeof e=="string"?parseFloat(e)/(vL(e)?100:1):NaN;return Rd(0,Wu(n,t),1)}const $ge=/\s*;\s*/,Kge=/\s*:\s*/;function qge(e,t){let n,i;const r=e.getAttribute("style");if(r){const o=r.split($ge);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,u]=o[a].split(Kge).map(h=>h.trim());l==="stop-color"?n=u:l==="stop-opacity"&&(i=u)}}const s=new jt(n||e.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:CL(e.getAttribute("offset"),0),color:s.toRgb(),opacity:Wu(parseFloat(i||e.getAttribute("stop-opacity")||""),1)*s.getAlpha()*t}}function Xge(e,t){const n=[],i=e.getElementsByTagName("stop"),r=CL(t,1);for(let s=i.length;s--;)n.push(qge(i[s],r));return n}function wL(e){return e.nodeName==="linearGradient"||e.nodeName==="LINEARGRADIENT"?"linear":"radial"}function yL(e){return e.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ds(e,t){return e.getAttribute(t)}function Qge(e,t){return function(n,i){let r,{width:s,height:o,gradientUnits:a}=i;return Object.keys(n).reduce((l,u)=>{const h=n[u];return h==="Infinity"?r=1:h==="-Infinity"?r=0:(r=typeof h=="string"?parseFloat(h):h,typeof h=="string"&&vL(h)&&(r*=.01,a==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(r*=s),u!=="y1"&&u!=="y2"||(r*=o)))),l[u]=r,l},{})}(wL(e)==="linear"?function(n){return{x1:ds(n,"x1")||0,y1:ds(n,"y1")||0,x2:ds(n,"x2")||"100%",y2:ds(n,"y2")||0}}(e):function(n){return{x1:ds(n,"fx")||ds(n,"cx")||"50%",y1:ds(n,"fy")||ds(n,"cy")||"50%",r1:0,x2:ds(n,"cx")||"50%",y2:ds(n,"cy")||"50%",r2:ds(n,"r")||"50%"}}(e),oe(oe({},t),{},{gradientUnits:yL(e)}))}class Em{constructor(t){const{type:n="linear",gradientUnits:i="pixels",coords:r={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:u}=t||{};Object.assign(this,{type:n,gradientUnits:i,coords:oe(oe({},n==="radial"?jge:mL),r),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:u?"".concat(u,"_").concat(ml()):ml()})}addColorStop(t){for(const n in t){const i=new jt(t[n]);this.colorStops.push({offset:parseFloat(n),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return oe(oe({},jd(this,t)),{},{type:this.type,coords:oe({},this.coords),colorStops:this.colorStops.map(n=>oe({},n)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],r=this.gradientTransform?this.gradientTransform.concat():Hi.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(p=>oe({},p)).sort((p,g)=>p.offset-g.offset);let a=-this.offsetX,l=-this.offsetY;var u;s==="objectBoundingBox"?(a/=t.width,l/=t.height):(a+=t.width/2,l+=t.height/2),(u=t)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=t.pathOffset.x,l-=t.pathOffset.y),r[4]-=a,r[5]-=l;const h=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(n?n+" ":"").concat(rp(r),'"'),""].join(" ");if(this.type==="linear"){const{x1:p,y1:g,x2:v,y2:C}=this.coords;i.push("<linearGradient ",h,' x1="',p,'" y1="',g,'" x2="',v,'" y2="',C,`">
`)}else if(this.type==="radial"){const{x1:p,y1:g,x2:v,y2:C,r1:w,r2:S}=this.coords,x=w>S;i.push("<radialGradient ",h,' cx="',x?p:v,'" cy="',x?g:C,'" r="',x?w:S,'" fx="',x?v:p,'" fy="',x?C:g,`">
`),x&&(o.reverse(),o.forEach(T=>{T.offset=1-T.offset}));const E=Math.min(w,S);if(E>0){const T=E/Math.max(w,S);o.forEach(R=>{R.offset+=T*(1-R.offset)})}}return o.forEach(p=>{let{color:g,offset:v,opacity:C}=p;i.push("<stop ",'offset="',100*v+"%",'" style="stop-color:',g,C!==void 0?";stop-opacity: "+C:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){const{x1:n,y1:i,x2:r,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?t.createLinearGradient(n,i,r,s):t.createRadialGradient(n,i,o,r,s,a);return this.colorStops.forEach(u=>{let{color:h,opacity:p,offset:g}=u;l.addColorStop(g,p!==void 0?new jt(h).setAlpha(p).toRgba():h)}),l}static async fromObject(t){const{colorStops:n,gradientTransform:i}=t;return new this(oe(oe({},t),{},{colorStops:n?n.map(r=>oe({},r)):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,n,i){const r=yL(t),s=n._findCenterFromElement();return new this(oe({id:t.getAttribute("id")||void 0,type:wL(t),coords:Qge(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:Xge(t,i.opacity),gradientUnits:r,gradientTransform:dx(t.getAttribute("gradientTransform")||"")},r==="pixels"?{offsetX:n.width/2-s.x,offsetY:n.height/2-s.y}:{offsetX:0,offsetY:0}))}}se(Em,"type","Gradient"),$e.setClass(Em,"gradient"),$e.setClass(Em,"linear"),$e.setClass(Em,"radial");const Zge=["type","source","patternTransform"];class Zy{get type(){return"pattern"}set type(t){gl("warn","Setting type has no effect",t)}constructor(t){se(this,"repeat","repeat"),se(this,"offsetX",0),se(this,"offsetY",0),se(this,"crossOrigin",""),this.id=ml(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:n,crossOrigin:i}=this;return oe(oe({},jd(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:n,crossOrigin:i,offsetX:ln(this.offsetX,Rt.NUM_FRACTION_DIGITS),offsetY:ln(this.offsetY,Rt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:n,height:i}=t;const{source:r,repeat:s,id:o}=this,a=Wu(this.offsetX/n,0),l=Wu(this.offsetY/i,0),u=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):Wu(r.width/n,0),h=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):Wu(r.height/i,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(u,'" height="').concat(h,'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,n){let{type:i,source:r,patternTransform:s}=t,o=gn(t,Zge);const a=await w0(r,oe(oe({},n),{},{crossOrigin:o.crossOrigin}));return new this(oe(oe({},o),{},{patternTransform:s&&s.slice(0),source:a}))}}se(Zy,"type","Pattern"),$e.setClass(Zy),$e.setClass(Zy,"pattern");const Jge=["path","left","top"],eme=["d"];class $l extends Ri{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:r,top:s}=n,o=gn(n,Jge);super(),Object.assign(this,$l.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),typeof r=="number"&&this.set(Gt,r),typeof s=="number"&&this.set(Xi,s)}_setPath(t,n){this.path=_ge(Array.isArray(t)?t:Hge(t)),this.setBoundingBox(n)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new Se(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const n=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(const r of this.path)switch(r[0]){case"L":t.lineTo(r[1]+n,r[2]+i);break;case"M":t.moveTo(r[1]+n,r[2]+i);break;case"C":t.bezierCurveTo(r[1]+n,r[2]+i,r[3]+n,r[4]+i,r[5]+n,r[6]+i);break;case"Q":t.quadraticCurveTo(r[1]+n,r[2]+i,r[3]+n,r[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe(oe({},super.toObject(t)),{},{path:this.path.map(n=>n.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.toObject(t);return this.sourcePath&&(delete n.path,n.sourcePath=this.sourcePath),n}_toSVG(){const t=Gge(this.path,Rt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=Rt.NUM_FRACTION_DIGITS;return" translate(".concat(ln(-this.pathOffset.x,t),", ").concat(ln(-this.pathOffset.y,t),")")}toClipPathSVG(t){const n=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:n})}toSVG(t){const n=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:n})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:n,height:i,pathOffset:r}=this._calcDimensions();this.set({width:n,height:i,pathOffset:r}),t&&this.setPositionByOrigin(r,mt,mt)}_calcBoundsFromPath(){const t=[];let n=0,i=0,r=0,s=0;for(const o of this.path)switch(o[0]){case"L":r=o[1],s=o[2],t.push({x:n,y:i},{x:r,y:s});break;case"M":r=o[1],s=o[2],n=r,i=s;break;case"C":t.push(...U_(r,s,o[1],o[2],o[3],o[4],o[5],o[6])),r=o[5],s=o[6];break;case"Q":t.push(...U_(r,s,o[1],o[2],o[1],o[2],o[3],o[4])),r=o[3],s=o[4];break;case"Z":r=n,s=i}return Xo(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return oe(oe({},t),{},{pathOffset:new Se(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,n,i){const r=pa(t,this.ATTRIBUTE_NAMES,i),{d:s}=r;return new this(s,oe(oe(oe({},gn(r,eme)),n),{},{left:void 0,top:void 0}))}}se($l,"type","Path"),se($l,"cacheProperties",[...fa,"path","fillRule"]),se($l,"ATTRIBUTE_NAMES",[...Sl,"d"]),$e.setClass($l),$e.setSVGClass($l);const tme=["left","top","radius"],SL=["radius","startAngle","endAngle","counterClockwise"];class Oo extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),Oo.ownDefaults)}constructor(t){super(),Object.assign(this,Oo.ownDefaults),this.setOptions(t)}_set(t,n){return super._set(t,n),t==="radius"&&this.setRadius(n),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,On(this.startAngle),On(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(nr)}getRadiusY(){return this.get("radius")*this.get(Jr)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...SL,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:n}=this,i=On(this.startAngle),r=On(this.endAngle),s=sa(i)*n,o=oa(i)*n,a=sa(r)*n,l=oa(r)*n,u=t>180?1:0,h=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(n," ").concat(n," 0 ").concat(u," ").concat(h," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,n,i){const r=pa(t,this.ATTRIBUTE_NAMES,i),{left:s=0,top:o=0,radius:a=0}=r;return new this(oe(oe({},gn(r,tme)),{},{radius:a,left:s-a,top:o-a}))}static fromObject(t){return super._fromObject(t)}}se(Oo,"type","Circle"),se(Oo,"cacheProperties",[...fa,...SL]),se(Oo,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),se(Oo,"ATTRIBUTE_NAMES",["cx","cy","r",...Sl]),$e.setClass(Oo),$e.setSVGClass(Oo);const nme=["x1","y1","x2","y2"],ime=["x1","y1","x2","y2"],mx=["x1","x2","y1","y2"];class Kl extends Ri{constructor(){let[t,n,i,r]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Kl.ownDefaults),this.setOptions(s),this.x1=t,this.x2=i,this.y1=n,this.y2=r,this._setWidthHeight();const{left:o,top:a}=s;typeof o=="number"&&this.set(Gt,o),typeof a=="number"&&this.set(Xi,a)}_setWidthHeight(){const{x1:t,y1:n,x2:i,y2:r}=this;this.width=Math.abs(i-t),this.height=Math.abs(r-n);const{left:s,top:o,width:a,height:l}=Xo([{x:t,y:n},{x:i,y:r}]),u=new Se(s+a/2,o+l/2);this.setPositionByOrigin(u,mt,mt)}_set(t,n){return super._set(t,n),mx.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const n=this.calcLinePoints();t.moveTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineWidth=this.strokeWidth;const i=t.strokeStyle;var r;$r(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(r=this.stroke)!==null&&r!==void 0?r:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new Se((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe(oe({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:n,y1:i,y2:r,width:s,height:o}=this,a=t<=n?-1:1,l=i<=r?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:t,x2:n,y1:i,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(n,'" y2="').concat(r,`" />
`)]}static async fromElement(t,n,i){const r=pa(t,this.ATTRIBUTE_NAMES,i),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=r;return new this([s,o,a,l],gn(r,nme))}static fromObject(t){let{x1:n,y1:i,x2:r,y2:s}=t,o=gn(t,ime);return this._fromObject(oe(oe({},o),{},{points:[n,i,r,s]}),{extraParam:"points"})}}se(Kl,"type","Line"),se(Kl,"cacheProperties",[...fa,...mx]),se(Kl,"ATTRIBUTE_NAMES",Sl.concat(mx)),$e.setClass(Kl),$e.setSVGClass(Kl);class ec extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),ec.ownDefaults)}constructor(t){super(),Object.assign(this,ec.ownDefaults),this.setOptions(t)}_render(t){const n=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-n,i),t.lineTo(0,-i),t.lineTo(n,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,n=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(n,",0 ").concat(-n,",").concat(t," ").concat(n),'" />']}}se(ec,"type","Triangle"),se(ec,"ownDefaults",{width:100,height:100}),$e.setClass(ec),$e.setSVGClass(ec);const xL=["rx","ry"];class Lo extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),Lo.ownDefaults)}constructor(t){super(),Object.assign(this,Lo.ownDefaults),this.setOptions(t)}_set(t,n){switch(super._set(t,n),t){case"rx":this.rx=n,this.set("width",2*n);break;case"ry":this.ry=n,this.set("height",2*n)}return this}getRx(){return this.get("rx")*this.get(nr)}getRy(){return this.get("ry")*this.get(Jr)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...xL,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Rv,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,n,i){const r=pa(t,this.ATTRIBUTE_NAMES,i);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)}}function rme(e){if(!e)return[];const t=e.replace(/,/g," ").trim().split(/\s+/),n=[];for(let i=0;i<t.length;i+=2)n.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return n}se(Lo,"type","Ellipse"),se(Lo,"cacheProperties",[...fa,...xL]),se(Lo,"ownDefaults",{rx:0,ry:0}),se(Lo,"ATTRIBUTE_NAMES",[...Sl,"cx","cy","rx","ry"]),$e.setClass(Lo),$e.setSVGClass(Lo);const sme=["left","top"],bL={exactBoundingBox:!1};class fs extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),fs.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),se(this,"strokeDiff",void 0),Object.assign(this,fs.ownDefaults),this.setOptions(n),this.points=t;const{left:i,top:r}=n;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(Gt,i),typeof r=="number"&&this.set(Xi,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return $pe(this.points,t,this.isOpen())}_calcDimensions(t){t=oe({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const n=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(u=>u.projectedPoint):this.points;if(n.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Se,strokeOffset:new Se,strokeDiff:new Se};const i=Xo(n),r=xC(oe(oe({},t),{},{scaleX:1,scaleY:1})),s=Xo(this.points.map(u=>$i(u,r,!0))),o=new Se(this.scaleX,this.scaleY);let a=i.left+i.width/2,l=i.top+i.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(On(this.skewX)),l-=a*Math.tan(On(this.skewY))),oe(oe({},i),{},{pathOffset:new Se(a,l),strokeOffset:new Se(s.left,s.top).subtract(new Se(i.left,i.top)).multiply(o),strokeDiff:new Se(i.width,i.height).subtract(new Se(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const t=Xo(this.points);return new Se(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:n,top:i,width:r,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:r,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),t&&this.setPositionByOrigin(new Se(n+r/2,i+s/2),mt,mt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Se(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(t).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var n,i;const{width:a,height:l}=this._calcDimensions(t);o=new Se((n=t.width)!==null&&n!==void 0?n:a,(i=t.height)!==null&&i!==void 0?i:l)}else{var r,s;o=new Se((r=t.width)!==null&&r!==void 0?r:this.width,(s=t.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new Se(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,n){const i=this.initialized&&this[t]!==n,r=super._set(t,n);return this.exactBoundingBox&&i&&((t===nr||t===Jr)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),r}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe(oe({},super.toObject(t)),{},{points:this.points.map(n=>{let{x:i,y:r}=n;return{x:i,y:r}})})}_toSVG(){const t=[],n=this.pathOffset.x,i=this.pathOffset.y,r=Rt.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)t.push(ln(this.points[s].x-n,r),",",ln(this.points[s].y-i,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(n&&!isNaN(this.points[n-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-r);for(let s=0;s<n;s++){const o=this.points[s];t.lineTo(o.x-i,o.y-r)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,n,i){return new this(rme(t.getAttribute("points")),oe(oe({},gn(pa(t,this.ATTRIBUTE_NAMES,i),sme)),n))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}se(fs,"ownDefaults",bL),se(fs,"type","Polyline"),se(fs,"layoutProperties",[zd,Wd,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),se(fs,"cacheProperties",[...fa,"points"]),se(fs,"ATTRIBUTE_NAMES",[...Sl]),$e.setClass(fs),$e.setSVGClass(fs);class Tm extends fs{isOpen(){return!1}}se(Tm,"ownDefaults",bL),se(Tm,"type","Polygon"),$e.setClass(Tm),$e.setSVGClass(Tm);class EL extends Ri{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const n=t===void 0?this.styles:{line:this.styles[t]};for(const i in n)for(const r in n[i])for(const s in n[i][r])return!1;return!0}styleHas(t,n){if(!this.styles||n!==void 0&&!this.styles[n])return!1;const i=n===void 0?this.styles:{0:this.styles[n]};for(const r in i)for(const s in i[r])if(i[r][s][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const n=this.styles;let i,r,s=0,o=!0,a=0;for(const l in n){i=0;for(const u in n[l]){const h=n[l][u]||{};s++,h[t]!==void 0?(r?h[t]!==r&&(o=!1):r=h[t],h[t]===this[t]&&delete h[t]):o=!1,Object.keys(h).length!==0?i++:delete n[l][u]}i===0&&delete n[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[t]=r,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const n=this.styles;let i,r,s;for(r in n){for(s in i=n[r],i)delete i[s][t],Object.keys(i[s]).length===0&&delete i[s];Object.keys(i).length===0&&delete n[r]}}_extendStyles(t,n){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);const s=l2(oe(oe({},this._getStyleDeclaration(i,r)),n),o=>o!==void 0);this._setStyleDeclaration(i,r,s)}getSelectionStyles(t,n,i){const r=[];for(let s=t;s<(n||t);s++)r.push(this.getStyleAtPosition(s,i));return r}getStyleAtPosition(t,n){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);return n?this.getCompleteStyleDeclaration(i,r):this._getStyleDeclaration(i,r)}setSelectionStyles(t,n,i){for(let r=n;r<(i||n);r++)this._extendStyles(r,t);this._forceClearCache=!0}_getStyleDeclaration(t,n){var i;const r=this.styles&&this.styles[t];return r&&(i=r[n])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,n){return oe(oe({},jd(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,n))}_setStyleDeclaration(t,n,i){this.styles[t][n]=i}_deleteStyleDeclaration(t,n){delete this.styles[t][n]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}se(EL,"_styleProperties",cpe);const ome=/  +/g,ame=/"/g;function Jy(e,t,n,i,r){return"		".concat(function(s,o){let{left:a,top:l,width:u,height:h}=o,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.NUM_FRACTION_DIGITS;const g=sp(Yn,s,!1),[v,C,w,S]=[a,l,u,h].map(x=>ln(x,p));return"<rect ".concat(g,' x="').concat(v,'" y="').concat(C,'" width="').concat(w,'" height="').concat(S,'"></rect>')}(e,{left:t,top:n,width:i,height:r}),`
`)}const lme=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let eS;class Ai extends EL{static getDefaults(){return oe(oe({},super.getDefaults()),Ai.ownDefaults)}constructor(t,n){super(),se(this,"__charBounds",[]),Object.assign(this,Ai.ownDefaults),this.setOptions(n),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=gL(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Xs)&&this.enlargeSpaces()}enlargeSpaces(){let t,n,i,r,s,o,a;for(let l=0,u=this._textLines.length;l<u;l++)if((this.textAlign===Xs||l!==u-1&&!this.isEndOfWrapping(l))&&(r=0,s=this._textLines[l],n=this.getLineWidth(l),n<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){i=a.length,t=(this.width-n)/i;for(let h=0;h<=s.length;h++)o=this.__charBounds[l][h],this._reSpaceAndTab.test(s[h])?(o.width+=t,o.kernedWidth+=t,o.left+=r,r+=t):o.left+=r}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,n){const i=n?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<i.length;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r,n)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),n=this.fontSize;return t.width+=n*t.zoomX,t.height+=n*t.zoomY,t}_render(t){const n=this.path;n&&!n.isNotVisible()&&n._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===Zi?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,n,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case mt:t.textBaseline="middle";break;case"ascender":t.textBaseline=Xi;break;case"descender":t.textBaseline=sx}t.font=this._getFontDeclaration(n,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let n=1,i=this._textLines.length;n<i;n++){const r=this.getLineWidth(n);r>t&&(t=r)}return t}_renderTextLine(t,n,i,r,s,o){this._renderChars(t,n,i,r,s,o)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const n=t.fillStyle,i=this._getLeftOffset();let r=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){r+=a;continue}const l=this._textLines[s].length,u=this._getLineLeftOffset(s);let h,p,g=0,v=0,C=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let w=0;w<l;w++){const S=this.__charBounds[s][w];p=this.getValueOfPropertyAt(s,w,"textBackgroundColor"),this.path?(t.save(),t.translate(S.renderLeft,S.renderTop),t.rotate(S.angle),t.fillStyle=p,p&&t.fillRect(-S.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),S.width,a/this.lineHeight),t.restore()):p!==C?(h=i+u+v,this.direction==="rtl"&&(h=this.width-h-g),t.fillStyle=C,C&&t.fillRect(h,r,g,a/this.lineHeight),v=S.left,g=S.width,C=p):g+=S.kernedWidth}p&&!this.path&&(h=i+u+v,this.direction==="rtl"&&(h=this.width-h-g),t.fillStyle=p,t.fillRect(h,r,g,a/this.lineHeight)),r+=a}t.fillStyle=n,this._removeShadow(t)}_measureChar(t,n,i,r){const s=Tf.getFontCache(n),o=this._getFontDeclaration(n),a=i+t,l=i&&o===this._getFontDeclaration(r),u=n.fontSize/this.CACHE_FONT_SIZE;let h,p,g,v;if(i&&s[i]!==void 0&&(g=s[i]),s[t]!==void 0&&(v=h=s[t]),l&&s[a]!==void 0&&(p=s[a],v=p-g),h===void 0||g===void 0||p===void 0){const C=function(){return eS||(eS=es({width:0,height:0}).getContext("2d")),eS}();this._setTextStyles(C,n,!0),h===void 0&&(v=h=C.measureText(t).width,s[t]=h),g===void 0&&l&&i&&(g=C.measureText(i).width,s[i]=g),l&&p===void 0&&(p=C.measureText(a).width,s[a]=p,v=p-g)}return{width:h*u,kernedWidth:v*u}}getHeightOfChar(t,n){return this.getValueOfPropertyAt(t,n,"fontSize")}measureLine(t){const n=this._measureLine(t);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n}_measureLine(t){let n,i,r=0;const s=this.pathSide===An,o=this.path,a=this._textLines[t],l=a.length,u=new Array(l);this.__charBounds[t]=u;for(let h=0;h<l;h++){const p=a[h];i=this._getGraphemeBox(p,t,h,n),u[h]=i,r+=i.kernedWidth,n=p}if(u[l]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let h=0;const p=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Gt:h=s?p-r:0;break;case mt:h=(p-r)/2;break;case An:h=s?0:p-r}h+=this.pathStartOffset*(s?-1:1);for(let g=s?l-1:0;s?g>=0:g<l;s?g--:g++)i=u[g],h>p?h%=p:h<0&&(h+=p),this._setGraphemeOnPath(h,i),h+=i.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(t,n){const i=t+n.kernedWidth/2,r=this.path,s=Lge(r.path,i,r.segmentsInfo);n.renderLeft=s.x-r.pathOffset.x,n.renderTop=s.y-r.pathOffset.y,n.angle=s.angle+(this.pathSide===An?Math.PI:0)}_getGraphemeBox(t,n,i,r,s){const o=this.getCompleteStyleDeclaration(n,i),a=r?this.getCompleteStyleDeclaration(n,i-1):{},l=this._measureChar(t,o,r,a);let u,h=l.kernedWidth,p=l.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),p+=u,h+=u);const g={width:p,left:0,height:o.fontSize,kernedWidth:h,deltaY:o.deltaY};if(i>0&&!s){const v=this.__charBounds[n][i-1];g.left=v.left+v.width+l.kernedWidth-l.width}return g}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let n=this.getHeightOfChar(t,0);for(let i=1,r=this._textLines[t].length;i<r;i++)n=Math.max(this.getHeightOfChar(t,i),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,n=0;for(let i=0,r=this._textLines.length;i<r;i++)t=this.getHeightOfLine(i),n+=i===r-1?t/this.lineHeight:t;return n}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,n){t.save();let i=0;const r=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){const l=this.getHeightOfLine(o),u=l/this.lineHeight,h=this._getLineLeftOffset(o);this._renderTextLine(n,t,this._textLines[o],r+h,s+i+u,o),i+=l}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Yn))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,n,i,r,s,o){const a=this.getHeightOfLine(o),l=this.textAlign.includes(Xs),u=this.path,h=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,p=this.direction==="ltr",g=this.direction==="ltr"?1:-1,v=n.direction;let C,w,S,x,E,T="",R=0;if(n.save(),v!==this.direction&&(n.canvas.setAttribute("dir",p?"ltr":"rtl"),n.direction=p?"ltr":"rtl",n.textAlign=p?Gt:An),s-=a*this._fontSizeFraction/this.lineHeight,h)return this._renderChar(t,n,o,0,i.join(""),r,s),void n.restore();for(let F=0,P=i.length-1;F<=P;F++)x=F===P||this.charSpacing||u,T+=i[F],S=this.__charBounds[o][F],R===0?(r+=g*(S.kernedWidth-S.width),R+=S.width):R+=S.kernedWidth,l&&!x&&this._reSpaceAndTab.test(i[F])&&(x=!0),x||(C=C||this.getCompleteStyleDeclaration(o,F),w=this.getCompleteStyleDeclaration(o,F+1),x=m2(C,w,!1)),x&&(u?(n.save(),n.translate(S.renderLeft,S.renderTop),n.rotate(S.angle),this._renderChar(t,n,o,F,T,-R/2,0),n.restore()):(E=r,this._renderChar(t,n,o,F,T,E,s)),T="",C=w,r+=g*R,R=0);n.restore()}_applyPatternGradientTransformText(t){const n=this.width+this.strokeWidth,i=this.height+this.strokeWidth,r=es({width:n,height:i}),s=r.getContext("2d");return r.width=n,r.height=i,s.beginPath(),s.moveTo(0,0),s.lineTo(n,0),s.lineTo(n,i),s.lineTo(0,i),s.closePath(),s.translate(n/2,i/2),s.fillStyle=t.toLive(s),this._applyPatternGradientTransform(s,t),s.fill(),s.createPattern(r,"no-repeat")}handleFiller(t,n,i){let r,s;return $r(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(r=-this.width/2,s=-this.height/2,t.translate(r,s),t[n]=this._applyPatternGradientTransformText(i),{offsetX:r,offsetY:s}):(t[n]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[n]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,n){let{stroke:i,strokeWidth:r}=n;return t.lineWidth=r,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,n){let{fill:i}=n;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,n,i,r,s,o,a){const l=this._getStyleDeclaration(i,r),u=this.getCompleteStyleDeclaration(i,r),h=t==="fillText"&&u.fill,p=t==="strokeText"&&u.stroke&&u.strokeWidth;if(p||h){if(n.save(),n.font=this._getFontDeclaration(u),l.textBackgroundColor&&this._removeShadow(n),l.deltaY&&(a+=l.deltaY),h){const g=this._setFillStyles(n,u);n.fillText(s,o-g.offsetX,a-g.offsetY)}if(p){const g=this._setStrokeStyles(n,u);n.strokeText(s,o-g.offsetX,a-g.offsetY)}n.restore()}}setSuperscript(t,n){this._setScript(t,n,this.superscript)}setSubscript(t,n){this._setScript(t,n,this.subscript)}_setScript(t,n,i){const r=this.get2DCursorLocation(t,!0),s=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:s*i.size,deltaY:o+s*i.baseline};this.setSelectionStyles(a,t,n)}_getLineLeftOffset(t){const n=this.getLineWidth(t),i=this.width-n,r=this.textAlign,s=this.direction,o=this.isEndOfWrapping(t);let a=0;return r===Xs||r===Rf&&!o||r===Df&&!o||r===Ov&&!o?0:(r===mt&&(a=i/2),r===An&&(a=i),r===Rf&&(a=i/2),r===Df&&(a=i),s==="rtl"&&(r===An||r===Xs||r===Df?a=0:r===Gt||r===Ov?a=-i:r!==mt&&r!==Rf||(a=-i/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:n}=this.measureLine(t);return this.__lineWidths[t]=n,n}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,n,i){var r;return(r=this._getStyleDeclaration(t,n)[i])!==null&&r!==void 0?r:this[i]}_renderTextDecoration(t,n){if(!this[n]&&!this.styleHas(n))return;let i=this._getTopOffset();const r=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=n==="linethrough"?.5:n==="overline"?1:0,l=this.offsets[n];for(let u=0,h=this._textLines.length;u<h;u++){const p=this.getHeightOfLine(u);if(!this[n]&&!this.styleHas(n,u)){i+=p;continue}const g=this._textLines[u],v=p/this.lineHeight,C=this._getLineLeftOffset(u);let w=0,S=0,x=this.getValueOfPropertyAt(u,0,n),E=this.getValueOfPropertyAt(u,0,Yn),T=this.getValueOfPropertyAt(u,0,_c),R=x,F=E,P=T;const _=i+v*(1-this._fontSizeFraction);let L=this.getHeightOfChar(u,0),A=this.getValueOfPropertyAt(u,0,"deltaY");for(let z=0,J=g.length;z<J;z++){const ae=this.__charBounds[u][z];R=this.getValueOfPropertyAt(u,z,n),F=this.getValueOfPropertyAt(u,z,Yn),P=this.getValueOfPropertyAt(u,z,_c);const ie=this.getHeightOfChar(u,z),j=this.getValueOfPropertyAt(u,z,"deltaY");if(s&&R&&F){const W=this.fontSize*P/1e3;t.save(),t.fillStyle=E,t.translate(ae.renderLeft,ae.renderTop),t.rotate(ae.angle),t.fillRect(-ae.kernedWidth/2,l*ie+j-a*W,ae.kernedWidth,W),t.restore()}else if((R!==x||F!==E||ie!==L||P!==T||j!==A)&&S>0){const W=this.fontSize*T/1e3;let Q=r+C+w;this.direction==="rtl"&&(Q=this.width-Q-S),x&&E&&T&&(t.fillStyle=E,t.fillRect(Q,_+l*L+A-a*W,S,W)),w=ae.left,S=ae.width,x=R,T=P,E=F,L=ie,A=j}else S+=ae.kernedWidth}let O=r+C+w;this.direction==="rtl"&&(O=this.width-O-S),t.fillStyle=F;const I=this.fontSize*P/1e3;R&&F&&P&&t.fillRect(O,_+l*L+A-a*I,S-o,I),i+=p}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:n=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=t.includes("'")||t.includes('"')||t.includes(",")||Ai.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[n,i,"".concat(s?this.CACHE_FONT_SIZE:r,"px"),o].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return g2(t)}_splitTextIntoLines(t){const n=t.split(this._reNewline),i=new Array(n.length),r=[`
`];let s=[];for(let o=0;o<n.length;o++)i[o]=this.graphemeSplit(n[o]),s=s.concat(i[o],r);return s.pop(),{_unwrappedLines:i,lines:n,graphemeText:s,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe(oe({},super.toObject([...Q5,...t])),{},{styles:Qpe(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,n){const{textLayoutProperties:i}=this.constructor;super.set(t,n);let r=!1,s=!1;if(typeof t=="object")for(const o in t)o==="path"&&this.setPathInfo(),r=r||i.includes(o),s=s||o==="path";else r=i.includes(t),s=t==="path";return s&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,n,i){const r=pa(t,Ai.ATTRIBUTE_NAMES,i),s=oe(oe({},n),r),{textAnchor:o=Gt,textDecoration:a="",dx:l=0,dy:u=0,top:h=0,left:p=0,fontSize:g=n2,strokeWidth:v=1}=s,C=gn(s,lme),w=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),oe({left:p+l,top:h+u,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:g},C)),S=w.getScaledHeight()/w.height,x=((w.height+w.strokeWidth)*w.lineHeight-w.height)*S,E=w.getScaledHeight()+x;let T=0;return o===mt&&(T=w.getScaledWidth()/2),o===An&&(T=w.getScaledWidth()),w.set({left:w.left-T,top:w.top-(E-w.fontSize*(.07+w._fontSizeFraction))/w.lineHeight,strokeWidth:v}),w}static fromObject(t){return this._fromObject(oe(oe({},t),{},{styles:Zpe(t.styles||{},t.text)}),{extraParam:"text"})}}se(Ai,"textLayoutProperties",X5),se(Ai,"cacheProperties",[...fa,...Q5]),se(Ai,"ownDefaults",upe),se(Ai,"type","Text"),se(Ai,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),se(Ai,"ATTRIBUTE_NAMES",Sl.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),oL(Ai,[class extends $5{_toSVG(){const e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(e){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0}),n=this.path;return n?t+n._createBaseSVGMarkup(n._toSVG(),{reviver:e,withShadow:!0,additionalTransform:rp(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(e){let{textBgRects:t,textSpans:n}=e;const i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(ame,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),`</text>
`]}_getSVGTextAndBg(e,t){const n=[],i=[];let r,s=e;this.backgroundColor&&i.push(...Jy(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)r=this._getLineLeftOffset(o),this.direction==="rtl"&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+r,s),this._setSVGTextLineText(n,o,t+r,s),s+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:i}}_createTextCharSpan(e,t,n,i,r){const s=Rt.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(ome)),a=o?'style="'.concat(o,'"'):"",l=t.deltaY,u=l?' dy="'.concat(ln(l,s),'" '):"",{angle:h,renderLeft:p,renderTop:g,width:v}=r;let C="";if(p!==void 0){const w=v/2;h&&(C=' rotate="'.concat(ln(la(h),s),'"'));const S=Ud({angle:la(h)});S[4]=p,S[5]=g;const x=new Se(-w,0).transform(S);n=x.x,i=x.y}return'<tspan x="'.concat(ln(n,s),'" y="').concat(ln(i,s),'" ').concat(u).concat(C).concat(a,">").concat(Kpe(e),"</tspan>")}_setSVGTextLineText(e,t,n,i){const r=this.getHeightOfLine(t),s=this.textAlign.includes(Xs),o=this._textLines[t];let a,l,u,h,p,g="",v=0;i+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let C=0,w=o.length-1;C<=w;C++)p=C===w||this.charSpacing||this.path,g+=o[C],u=this.__charBounds[t][C],v===0?(n+=u.kernedWidth-u.width,v+=u.width):v+=u.kernedWidth,s&&!p&&this._reSpaceAndTab.test(o[C])&&(p=!0),p||(a=a||this.getCompleteStyleDeclaration(t,C),l=this.getCompleteStyleDeclaration(t,C+1),p=m2(a,l,!0)),p&&(h=this._getStyleDeclaration(t,C),e.push(this._createTextCharSpan(g,h,n,i,u)),g="",a=l,this.direction==="rtl"?n-=v:n+=v,v=0)}_setSVGTextLineBg(e,t,n,i){const r=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight;let o,a=0,l=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let h=0;h<r.length;h++){const{left:p,width:g,kernedWidth:v}=this.__charBounds[t][h];o=this.getValueOfPropertyAt(t,h,"textBackgroundColor"),o!==u?(u&&e.push(...Jy(u,n+l,i,a,s)),l=p,a=g,u=o):a+=v}o&&e.push(...Jy(u,n+l,i,a,s))}_getSVGLineTopOffset(e){let t,n=0;for(t=0;t<e;t++)n+=this.getHeightOfLine(t);const i=this.getHeightOfLine(t);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(e){return"".concat(super.getSvgStyles(e)," text-decoration-thickness: ").concat(ln(this.textDecorationThickness*this.getObjectScaling().y/10,Rt.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(e,t){const{fontFamily:n,strokeWidth:i,stroke:r,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:u,textDecorationThickness:h,linethrough:p,overline:g,underline:v}=e,C=this.getSvgTextDecoration({underline:v??this.underline,overline:g??this.overline,linethrough:p??this.linethrough}),w=h||this.textDecorationThickness;return[r?sp(Zi,r):"",i?"stroke-width: ".concat(i,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",C?"text-decoration: ".concat(C,"; text-decoration-thickness: ").concat(ln(w*this.getObjectScaling().y/10,Rt.NUM_FRACTION_DIGITS),"%; "):"",s?sp(Yn,s):"",u?"baseline-shift: ".concat(-u,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(e){return["overline","underline","line-through"].filter(t=>e[t.replace("-","")]).join(" ")}}]),$e.setClass(Ai),$e.setSVGClass(Ai);class cme{constructor(t){se(this,"target",void 0),se(this,"__mouseDownInPlace",!1),se(this,"__dragStartFired",!1),se(this,"__isDraggingOver",!1),se(this,"__dragStartSelection",void 0),se(this,"__dragImageDisposer",void 0),se(this,"_dispose",void 0),this.target=t;const n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{n.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){const n=this.target,i=n.getSelectionStartFromPointer(t);return n.isEditing&&i>=n.selectionStart&&i<=n.selectionEnd&&n.selectionStart<n.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const n=this.isActive();return n&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,n}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,n){var i;let{selectionStart:r,selectionEnd:s}=n;const o=this.target,a=o.canvas,l=new Se(o.flipX?-1:1,o.flipY?-1:1),u=o._getCursorBoundaries(r),h=new Se(u.left+u.leftOffset,u.top+u.topOffset).multiply(l).transform(o.calcTransformMatrix()),p=a.getScenePoint(t).subtract(h),g=o.getCanvasRetinaScaling(),v=o.getBoundingRect(),C=h.subtract(new Se(v.left,v.top)),w=a.viewportTransform,S=C.add(p).transform(w,!0),x=o.backgroundColor,E=p2(o.styles);o.backgroundColor="";const T={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(T,0,r),o.setSelectionStyles(T,s,o.text.length),o.dirty=!0;const R=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=x,o.styles=E,o.dirty=!0,px(R,{position:"fixed",left:"".concat(-R.width,"px"),border:Qi,width:"".concat(R.width/g,"px"),height:"".concat(R.height/g,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{R.remove()},gs(t.target||this.target.hiddenTextarea).body.appendChild(R),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(R,S.x,S.y)}onDragStart(t){this.__dragStartFired=!0;const n=this.target,i=this.isActive();if(i&&t.dataTransfer){const r=this.__dragStartSelection={selectionStart:n.selectionStart,selectionEnd:n.selectionEnd},s=n._text.slice(r.selectionStart,r.selectionEnd).join(""),o=oe({text:n.text,value:s},r);t.dataTransfer.setData("text/plain",s),t.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:n.getSelectionStyles(r.selectionStart,r.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,o)}return n.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const n=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return n<i.selectionStart||n>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e:n}=t;const i=this.targetCanDrop(n);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e:n}=t,i=this.targetCanDrop(n);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(n.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var n;const{e:i}=t,r=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let s=(n=i.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain");if(s&&!r){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(i);const{styles:u}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},h=s[Math.max(0,s.length-1)],p=0;if(this.__dragStartSelection){const g=this.__dragStartSelection.selectionStart,v=this.__dragStartSelection.selectionEnd;l>g&&l<=v?l=g:l>v&&(l-=v-g),o.removeChars(g,v),delete this.__dragStartSelection}o._reNewline.test(h)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),t.didDrop=!0,t.dropTarget=o,o.insertChars(s,u,l),a.setActiveObject(o),o.enterEditing(i),o.selectionStart=Math.min(l+p,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(Fv,{index:l+p,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(t){let{e:n}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;const r=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((i=n.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||Qi;l===Qi?(r.selectionStart=o,r.selectionEnd=a,r._updateTextarea(),r.hiddenTextarea.focus()):(r.clearContextTop(),l==="move"&&(r.removeChars(o,a),r.selectionStart=r.selectionEnd=o,r.hiddenTextarea&&(r.hiddenTextarea.value=r.text),r._updateTextarea(),r.fire(Fv,{index:o,action:"dragend"}),s.fire("text:changed",{target:r}),s.requestRenderAll()),r.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const $_=/[ \n\.,;!\?\-]/;class ume extends Ai{constructor(){super(...arguments),se(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:n,duration:i,delay:r,onComplete:s}=t;return tL({startValue:this._currentCursorOpacity,endValue:n,duration:i,delay:r,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(n=>{n&&!n.isDone()&&(t=!0,n.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let n=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)n++,i--;for(;/\S/.test(this._text[i])&&i>-1;)n++,i--;return t-n}findWordBoundaryRight(t){let n=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)n++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)n++,i++;return t+n}findLineBoundaryLeft(t){let n=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)n++,i--;return t-n}findLineBoundaryRight(t){let n=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)n++,i++;return t+n}searchWordBoundary(t,n){const i=this._text;let r=t>0&&this._reSpace.test(i[t])&&(n===-1||!i2.test(i[t-1]))?t-1:t,s=i[r];for(;r>0&&r<i.length&&!$_.test(s);)r+=n,s=i[r];return n===-1&&$_.test(s)&&r++,r}selectWord(t){var n;t=(n=t)!==null&&n!==void 0?n:this.selectionStart;const i=this.searchWordBoundary(t,-1),r=Math.max(i,this.searchWordBoundary(t,1));this.selectionStart=i,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var n;t=(n=t)!==null&&n!==void 0?n:this.selectionStart;const i=this.findLineBoundaryLeft(t),r=this.findLineBoundaryRight(t);this.selectionStart=i,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const n=this.hiddenTextarea;gs(n).activeElement!==n&&n.focus();const i=this.getSelectionStartFromPointer(t),r=this.selectionStart,s=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&r!==s||r!==i&&s!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,n,i){const r=i.slice(0,t),s=this.graphemeSplit(r).length;if(t===n)return{selectionStart:s,selectionEnd:s};const o=i.slice(t,n);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(t,n,i){const r=i.slice(0,t).join("").length;return t===n?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+i.slice(t,n).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const n=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,n=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),r=i.lineIndex,s=i.charIndex,o=this.getValueOfPropertyAt(r,s,"fontSize")*this.lineHeight,a=n.leftOffset,l=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,h=u.width/l,p=u.height/l,g=h-o,v=p-o,C=new Se(n.left+a,n.top+n.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Se(u.clientWidth/h,u.clientHeight/p));return C.x<0&&(C.x=0),C.x>g&&(C.x=g),C.y<0&&(C.y=0),C.y>v&&(C.y=v),C.x+=this.canvas._offset.left,C.y+=this.canvas._offset.top,{left:"".concat(C.x,"px"),top:"".concat(C.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(Mv),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,n){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(n,!0);if(i!==s){if(this.styles[i])for(let a=r;a<this._unwrappedTextLines[i].length;a++)delete this.styles[i][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){const l=this.styles[s][a];l&&(this.styles[i]||(this.styles[i]={}),this.styles[i][r+a-o]=l)}for(let a=i+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,i-s)}else if(this.styles[i]){const a=this.styles[i],l=o-r;for(let u=r;u<o;u++)delete a[u];for(const u in this.styles[i]){const h=parseInt(u,10);h>=o&&(a[h-l]=a[u],delete a[u])}}}shiftLineStyles(t,n){const i=Object.assign({},this.styles);for(const r in this.styles){const s=parseInt(r,10);s>t&&(this.styles[s+n]=i[s],i[s-n]||delete this.styles[s])}}insertNewlineStyleObject(t,n,i,r){const s={},o=this._unwrappedTextLines[t].length,a=o===n;let l=!1;i||(i=1),this.shiftLineStyles(t,i);const u=this.styles[t]?this.styles[t][n===0?n:n-1]:void 0;for(const p in this.styles[t]){const g=parseInt(p,10);g>=n&&(l=!0,s[g-n]=this.styles[t][p],a&&n===0||delete this.styles[t][p])}let h=!1;for(l&&!a&&(this.styles[t+i]=s,h=!0),(h||o>n)&&i--;i>0;)r&&r[i-1]?this.styles[t+i]={0:oe({},r[i-1])}:u?this.styles[t+i]={0:oe({},u)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,n,i,r){this.styles||(this.styles={});const s=this.styles[t],o=s?oe({},s):{};i||(i=1);for(const l in o){const u=parseInt(l,10);u>=n&&(s[u+i]=o[u],o[u-i]||delete s[u])}if(this._forceClearCache=!0,r){for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][n+i]=oe({},r[i]));return}if(!s)return;const a=s[n?n-1:1];for(;a&&i--;)this.styles[t][n+i]=oe({},a)}insertNewStyleBlock(t,n,i){const r=this.get2DCursorLocation(n,!0),s=[0];let o,a=0;for(let l=0;l<t.length;l++)t[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,s[0],i),i=i&&i.slice(s[0]+1)),a&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,s[o],i):i&&this.styles[r.lineIndex+o]&&i[0]&&(this.styles[r.lineIndex+o][0]=i[0]),i=i&&i.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,s[o],i)}removeChars(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,n),this._text.splice(t,n-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;r>i&&this.removeStyleFromTo(i,r);const s=this.graphemeSplit(t);this.insertNewStyleBlock(s,i,n),this._text=[...this._text.slice(0,i),...s,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,n,i){i<=t?(n===t?this._selectionDirection=Gt:this._selectionDirection===An&&(this._selectionDirection=Gt,this.selectionEnd=t),this.selectionStart=i):i>t&&i<n?this._selectionDirection===An?this.selectionEnd=i:this.selectionStart=i:(n===t?this._selectionDirection=An:this._selectionDirection===Gt&&(this._selectionDirection=An,this.selectionStart=n),this.selectionEnd=i)}}class dme extends ume{initHiddenTextarea(){const t=this.canvas&&gs(this.canvas.getElement())||Vd(),n=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return n.setAttribute(a,l)});const{top:i,left:r,fontSize:s}=this._calcTextareaPosition();n.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||t.body).appendChild(n),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return n.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=n}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in n)this[n[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const n=this.fromPaste,{value:i,selectionStart:r,selectionEnd:s}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(Fv),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const a=this._splitTextIntoLines(i).graphemeText,l=this._text.length,u=a.length,h=this.selectionStart,p=this.selectionEnd,g=h!==p;let v,C,w,S,x=u-l;const E=this.fromStringToGraphemeSelection(r,s,i),T=h>E.selectionStart;g?(C=this._text.slice(h,p),x+=p-h):u<l&&(C=T?this._text.slice(p+x,p):this._text.slice(h,h-x));const R=a.slice(E.selectionEnd-x,E.selectionEnd);if(C&&C.length&&(R.length&&(v=this.getSelectionStyles(h,h+1,!1),v=R.map(()=>v[0])),g?(w=h,S=p):T?(w=p-C.length,S=p):(w=p,S=p+C.length),this.removeStyleFromTo(w,S)),R.length){const{copyPasteData:F}=uo();n&&R.join("")===F.copiedText&&!Rt.disableStyleCopyPaste&&(v=F.copiedTextStyle),this.insertNewStyleBlock(R,h,v)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:n}=t;const{selectionStart:i,selectionEnd:r}=n;this.compositionStart=i,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=uo();t.copiedText=this.getSelectedText(),Rt.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,n){let i,r=this._getLineLeftOffset(t);return n>0&&(i=this.__charBounds[t][n-1],r+=i.left+i.width),r}getDownCursorOffset(t,n){const i=this._getSelectionForOffset(t,n),r=this.get2DCursorLocation(i),s=r.lineIndex;if(s===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;const o=r.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(t,n){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,n){const i=this._getSelectionForOffset(t,n),r=this.get2DCursorLocation(i),s=r.lineIndex;if(s===0||t.metaKey||t.keyCode===33)return-i;const o=r.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),u=this._textLines[s].slice(0,o),h=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-u.length+(1-h)}_getIndexOnLine(t,n){const i=this._textLines[t];let r,s,o=this._getLineLeftOffset(t),a=0;for(let l=0,u=i.length;l<u;l++)if(r=this.__charBounds[t][l].width,o+=r,o>n){s=!0;const h=o-r,p=o,g=Math.abs(h-n);a=Math.abs(p-n)<g?l:l-1;break}return s||(a=i.length-1),a}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,n){const i=this["get".concat(t,"CursorOffset")](n,this._selectionDirection===An);if(n.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){const r=this.text.length;this.selectionStart=Rd(0,this.selectionStart,r),this.selectionEnd=Rd(0,this.selectionEnd,r),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const n=this._selectionDirection===Gt?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,n,i){let r;if(t.altKey)r=this["findWordBoundary".concat(i)](this[n]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[n]+=i==="Left"?-1:1,!0;r=this["findLineBoundary".concat(i)](this[n])}return r!==void 0&&this[n]!==r&&(this[n]=r,!0)}_moveLeft(t,n){return this._move(t,n,"Left")}_moveRight(t,n){return this._move(t,n,"Right")}moveCursorLeftWithoutShift(t){let n=!0;return this._selectionDirection=Gt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,n}moveCursorLeftWithShift(t){return this._selectionDirection===An&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Gt,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,n){const i="moveCursor".concat(t).concat(n.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===Gt&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=An,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let n=!0;return this._selectionDirection=An,this.selectionStart===this.selectionEnd?(n=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n}}const K_=e=>!!e.button;class hme extends dme{constructor(){super(...arguments),se(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new cme(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e:n,alreadySelected:i}=t;this.canvas&&this.editable&&!K_(n)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(n)||(this.canvas.textEditingManager.register(this),i&&(this.inCompositionMode=!1,this.setCursorByClick(n)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=i||this.isEditing)))}mouseUpHandler(t){let{e:n,transform:i}=t;const r=this.draggableTextDelegate.end(n);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||K_(n)||r||this.selected&&!this.getActiveControl()&&(this.enterEditing(n),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const n=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,r,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const n=this.canvas.getScenePoint(t).transform(vs(this.calcTransformMatrix())).add(new Se(-this._getLeftOffset(),-this._getTopOffset()));let i=0,r=0,s=0;for(let u=0;u<this._textLines.length&&i<=n.y;u++)i+=this.getHeightOfLine(u),s=u,u>0&&(r+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let o=Math.abs(this._getLineLeftOffset(s));const a=this._textLines[s].length,l=this.__charBounds[s];for(let u=0;u<a;u++){const h=o+l[u].kernedWidth;if(n.x<=h){Math.abs(n.x-h)<=Math.abs(n.x-o)&&r++;break}o=h,r++}return Math.min(this.flipX?a-r:r,this._text.length)}}const Dm="moveCursorUp",Rm="moveCursorDown",Fm="moveCursorLeft",Mm="moveCursorRight",_m="exitEditing",q_=(e,t)=>{const n=t.getRetinaScaling();e.setTransform(n,0,0,n,0,0);const i=t.viewportTransform;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])},fme=oe({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:_m,27:_m,33:Dm,34:Rm,35:Mm,36:Fm,37:Fm,38:Dm,39:Mm,40:Rm},keysMapRtl:{9:_m,27:_m,33:Dm,34:Rm,35:Fm,36:Mm,37:Mm,38:Dm,39:Fm,40:Rm},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class to extends hme{static getDefaults(){return oe(oe({},super.getDefaults()),to.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,n){super(t,oe(oe({},to.ownDefaults),n)),this.initBehavior()}_set(t,n){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=n,this):(t==="canvas"&&(this.canvas instanceof gx&&this.canvas.textEditingManager.remove(this),n instanceof gx&&n.textEditingManager.add(this)),super._set(t,n))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,n){this[t]!==n&&(this._fireSelectionChanged(),this[t]=n),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,n,i)}setSelectionStyles(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,n,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,n)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const n=this.isEditing;this.isEditing=!1;const i=super.toCanvasElement(t);return this.isEditing=n,i}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const n=this._getCursorBoundaries(),i=this.findAncestorsWithClipPath(),r=i.length>0;let s,o=t;if(r){s=es(t.canvas),o=s.getContext("2d"),q_(o,this.canvas);const a=this.calcTransformMatrix();o.transform(a[0],a[1],a[2],a[3],a[4],a[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,n):this.renderCursor(o,n),r)for(const a of i){const l=a.clipPath,u=es(t.canvas),h=u.getContext("2d");if(q_(h,this.canvas),!l.absolutePositioned){const p=a.calcTransformMatrix();h.transform(p[0],p[1],p[2],p[3],p[4],p[5])}l.transform(h),l.drawObject(h,!0,{}),this.drawClipPathOnCache(o,l,u)}r&&(t.setTransform(1,0,0,1,0,0),t.drawImage(s,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let n=this;for(;n;)n.clipPath&&t.push(n),n=n.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;const i=this._getLeftOffset(),r=this._getTopOffset(),s=this._getCursorBoundariesOffsets(t,n);return{left:i,top:r,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(t,n){return n?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let n=0,i=0;const{charIndex:r,lineIndex:s}=this.get2DCursorLocation(t);for(let u=0;u<s;u++)n+=this.getHeightOfLine(u);const o=this._getLineLeftOffset(s),a=this.__charBounds[s][r];a&&(i=a.left),this.charSpacing!==0&&r===this._textLines[s].length&&(i-=this._getWidthOfCharSpacing());const l={top:n,left:o+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===An||this.textAlign===Xs||this.textAlign===Df?l.left*=-1:this.textAlign===Gt||this.textAlign===Ov?l.left=o-(i>0?i:0):this.textAlign!==mt&&this.textAlign!==Rf||(l.left=o-(i>0?i:0))),l}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,n){this._renderCursor(t,n,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const i=this.get2DCursorLocation(t),r=i.lineIndex,s=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(r,s,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/a,u=this.getValueOfPropertyAt(r,s,"deltaY"),h=n.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(r,s,"fill"),opacity:this._currentCursorOpacity,left:n.left+n.leftOffset-l/2,top:h+n.top+u,width:l,height:o}}_renderCursor(t,n,i){const{color:r,opacity:s,left:o,top:a,width:l,height:u}=this.getCursorRenderingData(i,n);t.fillStyle=r,t.globalAlpha=s,t.fillRect(o,a,l,u)}renderSelection(t,n){const i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,n)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const n=this.getSelectionStartFromPointer(t);this.renderCursorAt(n)}_renderSelection(t,n,i){const r=n.selectionStart,s=n.selectionEnd,o=this.textAlign.includes(Xs),a=this.get2DCursorLocation(r),l=this.get2DCursorLocation(s),u=a.lineIndex,h=l.lineIndex,p=a.charIndex<0?0:a.charIndex,g=l.charIndex<0?0:l.charIndex;for(let v=u;v<=h;v++){const C=this._getLineLeftOffset(v)||0;let w=this.getHeightOfLine(v),S=0,x=0,E=0;if(v===u&&(x=this.__charBounds[u][p].left),v>=u&&v<h)E=o&&!this.isEndOfWrapping(v)?this.width:this.getLineWidth(v)||5;else if(v===h)if(g===0)E=this.__charBounds[h][g].left;else{const _=this._getWidthOfCharSpacing();E=this.__charBounds[h][g-1].left+this.__charBounds[h][g-1].width-_}S=w,(this.lineHeight<1||v===h&&this.lineHeight>1)&&(w/=this.lineHeight);let T=i.left+C+x,R=w,F=0;const P=E-x;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",R=1,F=w):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===An||this.textAlign===Xs||this.textAlign===Df?T=this.width-T-P:this.textAlign===Gt||this.textAlign===Ov?T=i.left+C-E:this.textAlign!==mt&&this.textAlign!==Rf||(T=i.left+C-E)),t.fillRect(T,i.top+i.topOffset+F,P,R),i.topOffset+=S}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Yn)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),n=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:n}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}se(to,"ownDefaults",fme),se(to,"type","IText"),$e.setClass(to),$e.setClass(to,"i-text");class tc extends to{static getDefaults(){return oe(oe({},super.getDefaults()),tc.ownDefaults)}constructor(t,n){super(t,oe(oe({},tc.ownDefaults),n))}static createControls(){return{controls:Upe()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Xs)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let n=0,i=0,r=0;const s={};for(let o=0;o<t.graphemeLines.length;o++)t.graphemeText[r]===`
`&&o>0?(i=0,r++,n++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&o>0&&(i++,r++),s[o]={line:n,offset:i},r+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return s}styleHas(t,n){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[n];i&&(n=i.line)}return super.styleHas(t,n)}isEmptyStyles(t){if(!this.styles)return!0;let n,i=0,r=t+1,s=!1;const o=this._styleMap[t],a=this._styleMap[t+1];o&&(t=o.line,i=o.offset),a&&(r=a.line,s=r===t,n=a.offset);const l=t===void 0?this.styles:{line:this.styles[t]};for(const u in l)for(const h in l[u]){const p=parseInt(h,10);if(p>=i&&(!s||p<n))for(const g in l[u][h])return!1}return!0}_getStyleDeclaration(t,n){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[t];if(!i)return{};t=i.line,n=i.offset+n}return super._getStyleDeclaration(t,n)}_setStyleDeclaration(t,n,i){const r=this._styleMap[t];super._setStyleDeclaration(r.line,r.offset+n,i)}_deleteStyleDeclaration(t,n){const i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+n)}_getLineStyle(t){const n=this._styleMap[t];return!!this.styles[n.line]}_setLineStyle(t){const n=this._styleMap[t];super._setLineStyle(n.line)}_wrapText(t,n){this.isWrapping=!0;const i=this.getGraphemeDataForRender(t),r=[];for(let s=0;s<i.wordsData.length;s++)r.push(...this._wrapLine(s,n,i));return this.isWrapping=!1,r}getGraphemeDataForRender(t){const n=this.splitByGrapheme,i=n?"":" ";let r=0;return{wordsData:t.map((s,o)=>{let a=0;const l=n?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(u=>{const h=n?[u]:this.graphemeSplit(u),p=this._measureWord(h,o,a);return r=Math.max(p,r),a+=h.length+i.length,{word:h,width:p}})}),largestWordWidth:r}}_measureWord(t,n){let i,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=t.length;o<a;o++)s+=this._getGraphemeBox(t[o],n,o+r,i,!0).kernedWidth,i=t[o];return s}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,n,i){let{largestWordWidth:r,wordsData:s}=i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,u=[],h=l?"":" ";let p=0,g=[],v=0,C=0,w=!0;n-=o;const S=Math.max(n,r,this.dynamicMinWidth),x=s[t];let E;for(v=0,E=0;E<x.length;E++){const{word:T,width:R}=x[E];v+=T.length,p+=C+R-a,p>S&&!w?(u.push(g),g=[],p=R,w=!0):p+=a,w||l||g.push(h),g=g.concat(T),C=l?0:this._measureWord([h],t,v),v++,w=!1}return E&&u.push(g),r+o>this.dynamicMinWidth&&(this.dynamicMinWidth=r-a+o),u}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,n){return this.splitByGrapheme&&!n?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const n=super._splitTextIntoLines(t),i=this._wrapText(n.lines,this.width),r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[s].join("");return n.lines=r,n.graphemeLines=i,n}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const n in this._styleMap){const i=parseInt(n,10);if(this._textLines[i]){const r=this._styleMap[n].line;t.set("".concat(r),!0)}}for(const n in this.styles)t.has(n)||delete this.styles[n]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}se(tc,"type","Textbox"),se(tc,"textLayoutProperties",[...to.textLayoutProperties,"width"]),se(tc,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),$e.setClass(tc);class X_ extends RC{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,n){const{target:i}=t,{clipPath:r,group:s}=i;if(!r||!this.shouldPerformLayout(t))return;const{width:o,height:a}=Xo(cL(i,r)),l=new Se(o,a);if(r.absolutePositioned)return{center:ud(r.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const u=r.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:h=new Se,correction:p=new Se}=this.calcBoundingBox(n,t)||{};return{center:h.add(u),correction:p.subtract(u),size:l}}return{center:i.getRelativeCenterPoint().add(u),size:l}}}}se(X_,"type","clip-path"),$e.setClass(X_);class Q_ extends RC{getInitialSize(t,n){let{target:i}=t,{size:r}=n;return new Se(i.width||r.x,i.height||r.y)}}se(Q_,"type","fixed"),$e.setClass(Q_);class pme extends ap{subscribeTargets(t){const n=t.target;t.targets.reduce((i,r)=>(r.parent&&i.add(r.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[n]})})}unsubscribeTargets(t){const n=t.target,i=n.getObjects();t.targets.reduce((r,s)=>(s.parent&&r.add(s.parent),r),new Set).forEach(r=>{!i.some(s=>s.parent===r)&&r.layoutManager.unsubscribeTargets({target:r,targets:[n]})})}}class nc extends pc{static getDefaults(){return oe(oe({},super.getDefaults()),nc.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,nc.ownDefaults),this.setOptions(n);const{left:i,top:r,layoutManager:s}=n;this.groupInit(t,{left:i,top:r,layoutManager:s??new pme})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...n):n.forEach(r=>{const s=this._objects.findIndex(a=>a.isInFrontOf(r)),o=s===-1?this.size():s;this.insertAt(o,r)})}canEnterGroup(t){return this.getObjects().some(n=>n.isDescendantOf(t)||t.isDescendantOf(n))?(gl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,n){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,n)}exitGroup(t,n){this._exitGroup(t,n),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,n){super._onAfterObjectsChange(t,n);const i=new Set;n.forEach(r=>{const{parent:s}=r;s&&i.add(s)}),t===C2?i.forEach(r=>{r._onAfterObjectsChange(Lv,n)}):i.forEach(r=>{r._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,n,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=oe(oe({hasControls:!1},i),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(t,r);super._renderControls(t,n),t.restore()}}se(nc,"type","ActiveSelection"),se(nc,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),$e.setClass(nc),$e.setClass(nc,"activeSelection");class gme{constructor(){se(this,"resources",{})}applyFilters(t,n,i,r,s){const o=s.getContext("2d");if(!o)return;o.drawImage(n,0,0,i,r);const a={sourceWidth:i,sourceHeight:r,imageData:o.getImageData(0,0,i,r),originalEl:n,originalImageData:o.getImageData(0,0,i,r),canvasEl:s,ctx:o,filterBackend:this};t.forEach(u=>{u.applyTo(a)});const{imageData:l}=a;return l.width===i&&l.height===r||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}}class TL{constructor(){let{tileSize:t=Rt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),se(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,n){this.dispose(),this.createWebGLCanvas(t,n)}createWebGLCanvas(t,n){const i=es({width:t,height:n}),r=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)}applyFilters(t,n,i,r,s,o){const a=this.gl,l=s.getContext("2d");if(!a||!l)return;let u;o&&(u=this.getCachedTexture(o,n));const h={originalWidth:n.width||n.naturalWidth||0,originalHeight:n.height||n.naturalHeight||0,sourceWidth:i,sourceHeight:r,destinationWidth:i,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,i,r,u?void 0:n),targetTexture:this.createTexture(a,i,r),originalTexture:u||this.createTexture(a,i,r,u?void 0:n),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},p=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,p),t.forEach(g=>{g&&g.applyTo(h)}),function(g){const v=g.targetCanvas,C=v.width,w=v.height,S=g.destinationWidth,x=g.destinationHeight;C===S&&w===x||(v.width=S,v.height=x)}(h),this.copyGLTo2D(a,h),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(h.sourceTexture),a.deleteTexture(h.targetTexture),a.deleteFramebuffer(p),l.setTransform(1,0,0,1,0,0),h}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,n,i,r,s){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:h,TEXTURE_MAG_FILTER:p,TEXTURE_MIN_FILTER:g,TEXTURE_WRAP_S:v,TEXTURE_WRAP_T:C}=t,w=t.createTexture();return t.bindTexture(a,w),t.texParameteri(a,p,s||o),t.texParameteri(a,g,s||o),t.texParameteri(a,v,h),t.texParameteri(a,C,h),r?t.texImage2D(a,0,l,l,u,r):t.texImage2D(a,0,l,n,i,0,l,u,null),w}getCachedTexture(t,n,i){const{textureCache:r}=this;if(r[t])return r[t];{const s=this.createTexture(this.gl,n.width,n.height,n,i);return s&&(r[t]=s),s}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,n){const i=t.canvas,r=n.targetCanvas,s=r.getContext("2d");if(!s)return;s.translate(0,r.height),s.scale(1,-1);const o=i.height-r.height;s.drawImage(i,0,o,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(t,n){const i=n.targetCanvas.getContext("2d"),r=n.destinationWidth,s=n.destinationHeight,o=r*s*4;if(!i)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,r,s,t.RGBA,t.UNSIGNED_BYTE,a);const u=new ImageData(l,r,s);i.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,n={renderer:"",vendor:""};if(!t)return n;const i=t.getExtension("WEBGL_debug_renderer_info");if(i){const r=t.getParameter(i.UNMASKED_RENDERER_WEBGL),s=t.getParameter(i.UNMASKED_VENDOR_WEBGL);r&&(n.renderer=r.toLowerCase()),s&&(n.vendor=s.toLowerCase())}return this.gpuInfo=n,n}}let tS;function mme(){const{WebGLProbe:e}=uo();return e.queryWebGL(aa()),Rt.enableGLFiltering&&e.isSupported(Rt.textureSize)?new TL({tileSize:Rt.textureSize}):new gme}function nS(){return!tS&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(tS=mme()),tS}const vme=["filters","resizeFilter","src","crossOrigin","type"],DL=["cropX","cropY"];class mr extends Ri{static getDefaults(){return oe(oe({},super.getDefaults()),mr.ownDefaults)}constructor(t,n){super(),se(this,"_lastScaleX",1),se(this,"_lastScaleY",1),se(this,"_filterScalingX",1),se(this,"_filterScalingY",1),this.filters=[],Object.assign(this,mr.ownDefaults),this.setOptions(n),this.cacheKey="texture".concat(ml()),this.setElement(typeof t=="string"?(this.canvas&&gs(this.canvas.getElement())||Vd()).getElementById(t):t,n)}getElement(){return this._element}setElement(t){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(i),(n=t.classList)===null||n===void 0||n.add(mr.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const n=nS(!1);n instanceof TL&&n.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const n=this[t];n&&uo().dispose(n),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const n=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-n,-i),t.lineTo(n,-i),t.lineTo(n,i),t.lineTo(-n,i),t.lineTo(-n,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=[];return this.filters.forEach(i=>{i&&n.push(i.toObject())}),oe(oe({},super.toObject([...DL,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],n=this._element,i=-this.width/2,r=-this.height/2;let s=[],o=[],a="",l="";if(!n)return[];if(this.hasCrop()){const u=ml();s.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(n.width||n.naturalWidth,'" height="').concat(n.height||n.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const u=this.fill;this.fill=null,o=['	<rect x="'.concat(i,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return s=this.paintFirst!==Yn?s.concat(o,t):s.concat(t,o),s}getSrc(t){const n=t?this._element:this._originalElement;return n?n.toDataURL?n.toDataURL():this.srcFromAttribute?n.getAttribute("src")||"":n.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:n,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w0(t,{crossOrigin:n,signal:i}).then(r=>{n!==void 0&&this.set({crossOrigin:n}),this.setElement(r)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,n=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),r=i.x,s=i.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>n&&s>n)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=s);const a=es(o),{width:l,height:u}=o;this._element=a,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=s,nS().applyFilters([t],o,l,u,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const n=this._originalElement,i=n.naturalWidth||n.width,r=n.naturalHeight||n.height;if(this._element===this._originalElement){const s=es({width:i,height:r});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,r),this._lastScaleX=1,this._lastScaleY=1);nS().applyFilters(t,this._originalElement,i,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const n=this._element;if(!n)return;const i=this._filterScalingX,r=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),u=n.naturalWidth||n.width,h=n.naturalHeight||n.height,p=a*i,g=l*r,v=Math.min(s*i,u-p),C=Math.min(o*r,h-g),w=-s/2,S=-o/2,x=Math.min(s,u/i-a),E=Math.min(o,h/r-l);n&&t.drawImage(n,p,g,v,C,w,S,x,E)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=this.getOriginalSize();this.width=t||i.width,this.height=n||i.height}parsePreserveAspectRatioAttribute(){const t=lpe(this.preserveAspectRatio||""),n=this.width,i=this.height,r={width:n,height:i};let s,o=this._element.width,a=this._element.height,l=1,u=1,h=0,p=0,g=0,v=0;return!t||t.alignX===Qi&&t.alignY===Qi?(l=n/o,u=i/a):(t.meetOrSlice==="meet"&&(l=u=Ege(this._element,r),s=(n-o*l)/2,t.alignX==="Min"&&(h=-s),t.alignX==="Max"&&(h=s),s=(i-a*u)/2,t.alignY==="Min"&&(p=-s),t.alignY==="Max"&&(p=s)),t.meetOrSlice==="slice"&&(l=u=Tge(this._element,r),s=o-n/l,t.alignX==="Mid"&&(g=s/2),t.alignX==="Max"&&(g=s),s=a-i/u,t.alignY==="Mid"&&(v=s/2),t.alignY==="Max"&&(v=s),o=n/l,a=i/u)),{width:o,height:a,scaleX:l,scaleY:u,offsetLeft:h,offsetTop:p,cropX:g,cropY:v}}static fromObject(t,n){let{filters:i,resizeFilter:r,src:s,crossOrigin:o,type:a}=t,l=gn(t,vme);return Promise.all([w0(s,oe(oe({},n),{},{crossOrigin:o})),i&&ip(i,n),r&&ip([r],n),bC(l,n)]).then(u=>{let[h,p=[],[g]=[],v={}]=u;return new this(h,oe(oe({},l),{},{src:s,filters:p,resizeFilter:g},v))})}static fromURL(t){let{crossOrigin:n=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return w0(t,{crossOrigin:n,signal:i}).then(s=>new this(s,r))}static async fromElement(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const r=pa(t,this.ATTRIBUTE_NAMES,i);return this.fromURL(r["xlink:href"]||r.href,n,r).catch(s=>(gl("log","Unable to parse Image",s),null))}}se(mr,"type","Image"),se(mr,"cacheProperties",[...fa,...DL]),se(mr,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),se(mr,"CSS_CANVAS","canvas-img"),se(mr,"ATTRIBUTE_NAMES",[...Sl,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),$e.setClass(mr),$e.setSVGClass(mr);TC(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const MC=e=>e.webgl!==void 0,w2="precision highp float",Cme=`
    `.concat(w2,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),wme=["type"],yme=["type"],Sme=new RegExp(w2,"g");class $n{get type(){return this.constructor.type}constructor(){let t=gn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wme);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Cme}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:r="highp"}}=uo();r!=="highp"&&(n=n.replace(Sme,w2.replace("highp",r)));const s=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER),a=t.createProgram();if(!s||!o||!a)throw new eo("Vertex, fragment shader or program creation error");if(t.shaderSource(s,i),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS))throw new eo("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(s)));if(t.shaderSource(o,n),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new eo("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.attachShader(a,s),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new eo('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(a)));const l=this.getUniformLocations(t,a)||{};return l.uStepW=t.getUniformLocation(a,"uStepW"),l.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(t,a),uniformLocations:l}}getAttributeLocations(t,n){return{aPosition:t.getAttribLocation(n,"aPosition")}}getUniformLocations(t,n){const i=this.constructor.uniformLocations,r={};for(let s=0;s<i.length;s++)r[i[s]]=t.getUniformLocation(n,i[s]);return r}sendAttributeData(t,n,i){const r=n.aPosition,s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){const n=t.context;if(t.passes>1){const i=t.destinationWidth,r=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===r||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,i,r)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish()}_swapTextures(t){t.passes--,t.pass++;const n=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=n}isNeutralState(t){return!1}applyTo(t){MC(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const n=this.getCacheKey();return t.programCache[n]||(t.programCache[n]=this.createProgram(t.context)),t.programCache[n]}applyToWebGL(t){const n=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?n.bindTexture(n.TEXTURE_2D,t.originalTexture):n.bindTexture(n.TEXTURE_2D,t.sourceTexture),n.useProgram(i.program),this.sendAttributeData(n,i.attributeLocations,t.aPosition),n.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),n.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(n,i.uniformLocations),n.viewport(0,0,t.destinationWidth,t.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,n,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,n),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,n){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:n,sourceHeight:i}=t,r=es({width:n,height:i});t.helpLayer=r}}toObject(){const t=Object.keys(this.constructor.defaults||{});return oe({type:this.type},t.reduce((n,i)=>(n[i]=this[i],n),{}))}toJSON(){return this.toObject()}static async fromObject(t,n){return new this(gn(t,yme))}}se($n,"type","BaseFilter"),se($n,"uniformLocations",[]);const xme={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Am extends $n{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(xme[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:n}}=t;const i=new jt(this.color).getSource(),r=this.alpha,s=i[0]*r,o=i[1]*r,a=i[2]*r,l=1-r;for(let u=0;u<n.length;u+=4){const h=n[u],p=n[u+1],g=n[u+2];let v,C,w;switch(this.mode){case"multiply":v=h*s/255,C=p*o/255,w=g*a/255;break;case"screen":v=255-(255-h)*(255-s)/255,C=255-(255-p)*(255-o)/255,w=255-(255-g)*(255-a)/255;break;case"add":v=h+s,C=p+o,w=g+a;break;case"difference":v=Math.abs(h-s),C=Math.abs(p-o),w=Math.abs(g-a);break;case"subtract":v=h-s,C=p-o,w=g-a;break;case"darken":v=Math.min(h,s),C=Math.min(p,o),w=Math.min(g,a);break;case"lighten":v=Math.max(h,s),C=Math.max(p,o),w=Math.max(g,a);break;case"overlay":v=s<128?2*h*s/255:255-2*(255-h)*(255-s)/255,C=o<128?2*p*o/255:255-2*(255-p)*(255-o)/255,w=a<128?2*g*a/255:255-2*(255-g)*(255-a)/255;break;case"exclusion":v=s+h-2*s*h/255,C=o+p-2*o*p/255,w=a+g-2*a*g/255;break;case"tint":v=s+h*l,C=o+p*l,w=a+g*l}n[u]=v,n[u+1]=C,n[u+2]=w}}sendUniformData(t,n){const i=new jt(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(n.uColor,i)}}se(Am,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),se(Am,"type","BlendColor"),se(Am,"uniformLocations",["uColor"]),$e.setClass(Am);const bme={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Eme=["type","image"];class Pm extends $n{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return bme[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const n=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(n,i,n.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(n,n.TEXTURE1)}createTexture(t,n){return t.getCachedTexture(n.cacheKey,n.getElement())}calculateMatrix(){const t=this.image,{width:n,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/n,-t.top/i,1]}applyTo2d(t){let{imageData:{data:n,width:i,height:r},filterBackend:{resources:s}}=t;const o=this.image;s.blendImage||(s.blendImage=aa());const a=s.blendImage,l=a.getContext("2d");a.width!==i||a.height!==r?(a.width=i,a.height=r):l.clearRect(0,0,i,r),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,i,r);const u=l.getImageData(0,0,i,r).data;for(let h=0;h<n.length;h+=4){const p=n[h],g=n[h+1],v=n[h+2],C=n[h+3],w=u[h],S=u[h+1],x=u[h+2],E=u[h+3];switch(this.mode){case"multiply":n[h]=p*w/255,n[h+1]=g*S/255,n[h+2]=v*x/255,n[h+3]=C*E/255;break;case"mask":n[h+3]=E}}}sendUniformData(t,n){const i=this.calculateMatrix();t.uniform1i(n.uImage,1),t.uniformMatrix3fv(n.uTransformMatrix,!1,i)}toObject(){return oe(oe({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,n){let{type:i,image:r}=t,s=gn(t,Eme);return mr.fromObject(r,n).then(o=>new this(oe(oe({},s),{},{image:o})))}}se(Pm,"type","BlendImage"),se(Pm,"defaults",{mode:"multiply",alpha:1}),se(Pm,"uniformLocations",["uTransformMatrix","uImage"]),$e.setClass(Pm);class km extends $n{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(t){MC(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){let{imageData:{data:n,width:i,height:r}}=t;this.aspectRatio=i/r,this.horizontal=!0;let s=this.getBlurValue()*i;const o=new Uint8ClampedArray(n),a=15,l=4*i;for(let u=0;u<n.length;u+=4){let h=0,p=0,g=0,v=0,C=0;const w=u-u%l,S=w+l;for(let x=-14;x<a;x++){const E=x/a,T=4*Math.floor(s*E),R=1-Math.abs(E);let F=u+T;F<w?F=w:F>S&&(F=S);const P=n[F+3]*R;h+=n[F]*P,p+=n[F+1]*P,g+=n[F+2]*P,v+=P,C+=R}o[u]=h/v,o[u+1]=p/v,o[u+2]=g/v,o[u+3]=v/C}this.horizontal=!1,s=this.getBlurValue()*r;for(let u=0;u<o.length;u+=4){let h=0,p=0,g=0,v=0,C=0;const w=u%l,S=o.length-l+w;for(let x=-14;x<a;x++){const E=x/a,T=Math.floor(s*E)*l,R=1-Math.abs(E);let F=u+T;F<w?F=w:F>S&&(F=S);const P=o[F+3]*R;h+=o[F]*P,p+=o[F+1]*P,g+=o[F+2]*P,v+=P,C+=R}n[u]=h/v,n[u+1]=p/v,n[u+2]=g/v,n[u+3]=v/C}}sendUniformData(t,n){const i=this.chooseRightDelta();t.uniform2fv(n.uDelta,i)}isNeutralState(){return this.blur===0}getBlurValue(){let t=1;const{horizontal:n,aspectRatio:i}=this;return n?i>1&&(t=1/i):i<1&&(t=i),t*this.blur*.12}chooseRightDelta(){const t=this.getBlurValue();return this.horizontal?[t,0]:[0,t]}}se(km,"type","Blur"),se(km,"defaults",{blur:0}),se(km,"uniformLocations",["uDelta"]),$e.setClass(km);class Om extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:n}}=t;const i=Math.round(255*this.brightness);for(let r=0;r<n.length;r+=4)n[r]+=i,n[r+1]+=i,n[r+2]+=i}isNeutralState(){return this.brightness===0}sendUniformData(t,n){t.uniform1f(n.uBrightness,this.brightness)}}se(Om,"type","Brightness"),se(Om,"defaults",{brightness:0}),se(Om,"uniformLocations",["uBrightness"]),$e.setClass(Om);const RL={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Uu extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const n=t.imageData.data,i=this.matrix,r=this.colorsOnly;for(let s=0;s<n.length;s+=4){const o=n[s],a=n[s+1],l=n[s+2];if(n[s]=o*i[0]+a*i[1]+l*i[2]+255*i[4],n[s+1]=o*i[5]+a*i[6]+l*i[7]+255*i[9],n[s+2]=o*i[10]+a*i[11]+l*i[12]+255*i[14],!r){const u=n[s+3];n[s]+=u*i[3],n[s+1]+=u*i[8],n[s+2]+=u*i[13],n[s+3]=o*i[15]+a*i[16]+l*i[17]+u*i[18]+255*i[19]}}}sendUniformData(t,n){const i=this.matrix,r=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],s=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(n.uColorMatrix,!1,r),t.uniform4fv(n.uConstants,s)}toObject(){return oe(oe({},super.toObject()),{},{matrix:[...this.matrix]})}}function Uc(e,t){var n;const i=(se(n=class extends Uu{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",e),se(n,"defaults",{colorsOnly:!1,matrix:t}),n);return $e.setClass(i,e),i}se(Uu,"type","ColorMatrix"),se(Uu,"defaults",RL),se(Uu,"uniformLocations",["uColorMatrix","uConstants"]),$e.setClass(Uu);Uc("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Uc("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Uc("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Uc("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Uc("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Uc("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Uc("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Z_ extends $n{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){MC(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(n=>{n.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,n){return Promise.all((t.subFilters||[]).map(i=>$e.getClass(i.type).fromObject(i,n))).then(i=>new this({subFilters:i}))}}se(Z_,"type","Composed"),$e.setClass(Z_);class Lm extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:n}}=t;const i=Math.floor(255*this.contrast),r=259*(i+255)/(255*(259-i));for(let s=0;s<n.length;s+=4)n[s]=r*(n[s]-128)+128,n[s+1]=r*(n[s+1]-128)+128,n[s+2]=r*(n[s+2]-128)+128}sendUniformData(t,n){t.uniform1f(n.uContrast,this.contrast)}}se(Lm,"type","Contrast"),se(Lm,"defaults",{contrast:0}),se(Lm,"uniformLocations",["uContrast"]),$e.setClass(Lm);const Tme={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Im extends $n{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return Tme[this.getCacheKey()]}applyTo2d(t){const n=t.imageData,i=n.data,r=this.matrix,s=Math.round(Math.sqrt(r.length)),o=Math.floor(s/2),a=n.width,l=n.height,u=t.ctx.createImageData(a,l),h=u.data,p=this.opaque?1:0;let g,v,C,w,S,x,E,T,R,F,P,_,L;for(P=0;P<l;P++)for(F=0;F<a;F++){for(S=4*(P*a+F),g=0,v=0,C=0,w=0,L=0;L<s;L++)for(_=0;_<s;_++)E=P+L-o,x=F+_-o,E<0||E>=l||x<0||x>=a||(T=4*(E*a+x),R=r[L*s+_],g+=i[T]*R,v+=i[T+1]*R,C+=i[T+2]*R,p||(w+=i[T+3]*R));h[S]=g,h[S+1]=v,h[S+2]=C,h[S+3]=p?i[S+3]:w}t.imageData=u}sendUniformData(t,n){t.uniform1fv(n.uMatrix,this.matrix)}toObject(){return oe(oe({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}se(Im,"type","Convolute"),se(Im,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),se(Im,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),$e.setClass(Im);const FL="Gamma";class Nm extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:n}}=t;const i=this.gamma,r=1/i[0],s=1/i[1],o=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,r),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<n.length;l+=4)n[l]=a.r[n[l]],n[l+1]=a.g[n[l+1]],n[l+2]=a.b[n[l+2]]}sendUniformData(t,n){t.uniform3fv(n.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:FL,gamma:this.gamma.concat()}}}se(Nm,"type",FL),se(Nm,"defaults",{gamma:[1,1,1]}),se(Nm,"uniformLocations",["uGamma"]),$e.setClass(Nm);const Dme={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Bm extends $n{applyTo2d(t){let{imageData:{data:n}}=t;for(let i,r=0;r<n.length;r+=4){const s=n[r],o=n[r+1],a=n[r+2];switch(this.mode){case"average":i=(s+o+a)/3;break;case"lightness":i=(Math.min(s,o,a)+Math.max(s,o,a))/2;break;case"luminosity":i=.21*s+.72*o+.07*a}n[r+2]=n[r+1]=n[r]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Dme[this.mode]}sendUniformData(t,n){t.uniform1i(n.uMode,1)}isNeutralState(){return!1}}se(Bm,"type","Grayscale"),se(Bm,"defaults",{mode:"average"}),se(Bm,"uniformLocations",["uMode"]),$e.setClass(Bm);const Rme=oe(oe({},RL),{},{rotation:0});class iS extends Uu{calculateMatrix(){const t=this.rotation*Math.PI,n=sa(t),i=oa(t),r=1/3,s=Math.sqrt(r)*i,o=1-n;this.matrix=[n+o/3,r*o-s,r*o+s,0,0,r*o+s,n+r*o,r*o-s,0,0,r*o-s,r*o+s,n+r*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}se(iS,"type","HueRotation"),se(iS,"defaults",Rme),$e.setClass(iS);class Hm extends $n{applyTo2d(t){let{imageData:{data:n}}=t;for(let i=0;i<n.length;i+=4)n[i]=255-n[i],n[i+1]=255-n[i+1],n[i+2]=255-n[i+2],this.alpha&&(n[i+3]=255-n[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,n){t.uniform1i(n.uInvert,Number(this.invert)),t.uniform1i(n.uAlpha,Number(this.alpha))}}se(Hm,"type","Invert"),se(Hm,"defaults",{alpha:!1,invert:!0}),se(Hm,"uniformLocations",["uInvert","uAlpha"]),$e.setClass(Hm);class Gm extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:n}}=t;const i=this.noise;for(let r=0;r<n.length;r+=4){const s=(.5-Math.random())*i;n[r]+=s,n[r+1]+=s,n[r+2]+=s}}sendUniformData(t,n){t.uniform1f(n.uNoise,this.noise/255),t.uniform1f(n.uSeed,Math.random())}isNeutralState(){return this.noise===0}}se(Gm,"type","Noise"),se(Gm,"defaults",{noise:0}),se(Gm,"uniformLocations",["uNoise","uSeed"]),$e.setClass(Gm);class Vm extends $n{applyTo2d(t){let{imageData:{data:n,width:i,height:r}}=t;for(let s=0;s<r;s+=this.blocksize)for(let o=0;o<i;o+=this.blocksize){const a=4*s*i+4*o,l=n[a],u=n[a+1],h=n[a+2],p=n[a+3];for(let g=s;g<Math.min(s+this.blocksize,r);g++)for(let v=o;v<Math.min(o+this.blocksize,i);v++){const C=4*g*i+4*v;n[C]=l,n[C+1]=u,n[C+2]=h,n[C+3]=p}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,n){t.uniform1f(n.uBlocksize,this.blocksize)}}se(Vm,"type","Pixelate"),se(Vm,"defaults",{blocksize:4}),se(Vm,"uniformLocations",["uBlocksize"]),$e.setClass(Vm);class zm extends $n{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:n}}=t;const i=255*this.distance,r=new jt(this.color).getSource(),s=[r[0]-i,r[1]-i,r[2]-i],o=[r[0]+i,r[1]+i,r[2]+i];for(let a=0;a<n.length;a+=4){const l=n[a],u=n[a+1],h=n[a+2];l>s[0]&&u>s[1]&&h>s[2]&&l<o[0]&&u<o[1]&&h<o[2]&&(n[a+3]=0)}}sendUniformData(t,n){const i=new jt(this.color).getSource(),r=this.distance,s=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],o=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];t.uniform4fv(n.uLow,s),t.uniform4fv(n.uHigh,o)}}se(zm,"type","RemoveColor"),se(zm,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),se(zm,"uniformLocations",["uLow","uHigh"]),$e.setClass(zm);class Wm extends $n{sendUniformData(t,n){t.uniform2fv(n.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(n.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),n=this.tempScale,i=this.getFilterWindow(),r=new Array(i);for(let s=1;s<=i;s++)r[s-1]=t(s*n);return r}generateShader(t){const n=new Array(t);for(let i=1;i<=t;i++)n[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(n.map((i,r)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(r,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(r,`];
              sum += 2.0 * uTaps[`).concat(r,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){MC(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return n=>{if(n>=t||n<=-t)return 0;if(n<11920929e-14&&n>-11920929e-14)return 1;const i=(n*=Math.PI)/t;return Math.sin(n)/n*Math.sin(i)/i}}applyTo2d(t){const n=t.imageData,i=this.scaleX,r=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/r;const s=n.width,o=n.height,a=Math.round(s*i),l=Math.round(o*r);let u;u=this.resizeType==="sliceHack"?this.sliceByTwo(t,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(t,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(t,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(t,s,o,a,l):new ImageData(a,l),t.imageData=u}sliceByTwo(t,n,i,r,s){const o=t.imageData,a=.5;let l=!1,u=!1,h=n*a,p=i*a;const g=t.filterBackend.resources;let v=0,C=0;const w=n;let S=0;g.sliceByTwo||(g.sliceByTwo=aa());const x=g.sliceByTwo;(x.width<1.5*n||x.height<i)&&(x.width=1.5*n,x.height=i);const E=x.getContext("2d");for(E.clearRect(0,0,1.5*n,i),E.putImageData(o,0,0),r=Math.floor(r),s=Math.floor(s);!l||!u;)n=h,i=p,r<Math.floor(h*a)?h=Math.floor(h*a):(h=r,l=!0),s<Math.floor(p*a)?p=Math.floor(p*a):(p=s,u=!0),E.drawImage(x,v,C,n,i,w,S,h,p),v=w,C=S,S+=p;return E.getImageData(v,C,r,s)}lanczosResize(t,n,i,r,s){const o=t.imageData.data,a=t.ctx.createImageData(r,s),l=a.data,u=this.lanczosCreate(this.lanczosLobes),h=this.rcpScaleX,p=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,C=Math.ceil(h*this.lanczosLobes/2),w=Math.ceil(p*this.lanczosLobes/2),S={},x={x:0,y:0},E={x:0,y:0};return function T(R){let F,P,_,L,A,O,I,z,J,ae,ie;for(x.x=(R+.5)*h,E.x=Math.floor(x.x),F=0;F<s;F++){for(x.y=(F+.5)*p,E.y=Math.floor(x.y),A=0,O=0,I=0,z=0,J=0,P=E.x-C;P<=E.x+C;P++)if(!(P<0||P>=n)){ae=Math.floor(1e3*Math.abs(P-x.x)),S[ae]||(S[ae]={});for(let j=E.y-w;j<=E.y+w;j++)j<0||j>=i||(ie=Math.floor(1e3*Math.abs(j-x.y)),S[ae][ie]||(S[ae][ie]=u(Math.sqrt(Math.pow(ae*g,2)+Math.pow(ie*v,2))/1e3)),_=S[ae][ie],_>0&&(L=4*(j*n+P),A+=_,O+=_*o[L],I+=_*o[L+1],z+=_*o[L+2],J+=_*o[L+3]))}L=4*(F*r+R),l[L]=O/A,l[L+1]=I/A,l[L+2]=z/A,l[L+3]=J/A}return++R<r?T(R):a}(0)}bilinearFiltering(t,n,i,r,s){let o,a,l,u,h,p,g,v,C,w,S,x,E,T=0;const R=this.rcpScaleX,F=this.rcpScaleY,P=4*(n-1),_=t.imageData.data,L=t.ctx.createImageData(r,s),A=L.data;for(g=0;g<s;g++)for(v=0;v<r;v++)for(h=Math.floor(R*v),p=Math.floor(F*g),C=R*v-h,w=F*g-p,E=4*(p*n+h),S=0;S<4;S++)o=_[E+S],a=_[E+4+S],l=_[E+P+S],u=_[E+P+4+S],x=o*(1-C)*(1-w)+a*C*(1-w)+l*w*(1-C)+u*C*w,A[T++]=x;return L}hermiteFastResize(t,n,i,r,s){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),u=Math.ceil(a/2),h=t.imageData.data,p=t.ctx.createImageData(r,s),g=p.data;for(let v=0;v<s;v++)for(let C=0;C<r;C++){const w=4*(C+v*r);let S=0,x=0,E=0,T=0,R=0,F=0,P=0;const _=(v+.5)*a;for(let L=Math.floor(v*a);L<(v+1)*a;L++){const A=Math.abs(_-(L+.5))/u,O=(C+.5)*o,I=A*A;for(let z=Math.floor(C*o);z<(C+1)*o;z++){let J=Math.abs(O-(z+.5))/l;const ae=Math.sqrt(I+J*J);ae>1&&ae<-1||(S=2*ae*ae*ae-3*ae*ae+1,S>0&&(J=4*(z+L*n),P+=S*h[J+3],E+=S,h[J+3]<255&&(S=S*h[J+3]/250),T+=S*h[J],R+=S*h[J+1],F+=S*h[J+2],x+=S))}}g[w]=T/x,g[w+1]=R/x,g[w+2]=F/x,g[w+3]=P/E}return p}}se(Wm,"type","Resize"),se(Wm,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),se(Wm,"uniformLocations",["uDelta","uTaps"]),$e.setClass(Wm);class Um extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:n}}=t;const i=-this.saturation;for(let r=0;r<n.length;r+=4){const s=n[r],o=n[r+1],a=n[r+2],l=Math.max(s,o,a);n[r]+=l!==s?(l-s)*i:0,n[r+1]+=l!==o?(l-o)*i:0,n[r+2]+=l!==a?(l-a)*i:0}}sendUniformData(t,n){t.uniform1f(n.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}se(Um,"type","Saturation"),se(Um,"defaults",{saturation:0}),se(Um,"uniformLocations",["uSaturation"]),$e.setClass(Um);class jm extends $n{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:n}}=t;const i=-this.vibrance;for(let r=0;r<n.length;r+=4){const s=n[r],o=n[r+1],a=n[r+2],l=Math.max(s,o,a),u=(s+o+a)/3,h=2*Math.abs(l-u)/255*i;n[r]+=l!==s?(l-s)*h:0,n[r+1]+=l!==o?(l-o)*h:0,n[r+2]+=l!==a?(l-a)*h:0}}sendUniformData(t,n){t.uniform1f(n.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}se(jm,"type","Vibrance"),se(jm,"defaults",{vibrance:0}),se(jm,"uniformLocations",["uVibrance"]),$e.setClass(jm);const Fme=({title:e,eventTitle:t,items:n=[]})=>{const i=(r,s)=>()=>{console.log(r,s)};return G.jsxs("div",{className:"image-list-wrapper",children:[G.jsxs("div",{className:"image-list-title",children:[G.jsx("p",{children:e}),n.length>1&&G.jsx(fi,{className:"rounded",children:""})]}),G.jsx("div",{className:"image-list",children:G.jsx("ul",{children:n.map((r,s)=>G.jsx("li",{className:"item",onClick:i(t,r.id,r.url),children:G.jsx("img",{src:r.src,alt:`image-${s}`})},`text-ai-setting-${r.id}`))})})]})},Mme=()=>G.jsx(G.Fragment,{children:"  "}),_me=()=>G.jsx(G.Fragment,{children:"  "}),Ame=()=>{const e=[{title:"/",eventTitle:"addTitle",items:[{id:"add_title_1",src:"/src/assets/images/text/title1.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}},{id:"add_title_2",src:"/src/assets/images/text/title2.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}}]},{title:"",eventTitle:"addSubtext",items:[{id:"add_subtext_1",src:"/src/assets/images/text/subtext1.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}},{id:"add_subtext_2",src:"/src/assets/images/text/subtext2.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}}]},{title:"",eventTitle:"addTextEffect",items:[{id:"add_texteffect_1",src:"/src/assets/images/text/texteffect1.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}},{id:"add_texteffect_2",src:"/src/assets/images/text/texteffect2.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}}]},{title:"SNS  ",eventTitle:"addSnsText",items:[{id:"add_snstext_1",src:"/src/assets/images/text/snstext1.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}},{id:"add_snstext_2",src:"/src/assets/images/text/snstext2.png",url:{VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}}]},{title:"/ ",eventTitle:"addEventText",items:[{id:"add_eventtext_1",src:"/src/assets/images/text/eventtext1.png",url:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"},{id:"add_eventtext_2",src:"/src/assets/images/text/eventtext2.png",url:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)"}]}];return G.jsx(G.Fragment,{children:e.map((t,n)=>G.jsx(Fme,{title:t.title,eventTitle:t.eventTitle,items:t.items},n))})},Pme=()=>G.jsx(G.Fragment,{children:"  "}),kme=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M5.94068 9.80181H10.4293C10.669 10.7381 11.2135 11.5679 11.9769 12.1605C12.7404 12.7531 13.6794 13.0748 14.6458 13.0748C15.6123 13.0748 16.5512 12.7531 17.3147 12.1605C18.0781 11.5679 18.6226 10.7381 18.8624 9.80181H29.8798C30.1684 9.80181 30.4451 9.68717 30.6492 9.4831C30.8533 9.27903 30.9679 9.00226 30.9679 8.71367C30.9679 8.42508 30.8533 8.1483 30.6492 7.94424C30.4451 7.74017 30.1684 7.62553 29.8798 7.62553H18.8624C18.6226 6.68927 18.0781 5.85943 17.3147 5.26683C16.5512 4.67423 15.6123 4.35257 14.6458 4.35257C13.6794 4.35257 12.7404 4.67423 11.9769 5.26683C11.2135 5.85943 10.669 6.68927 10.4293 7.62553H5.94068C5.65209 7.62553 5.37531 7.74017 5.17125 7.94424C4.96718 8.1483 4.85254 8.42508 4.85254 8.71367C4.85254 9.00226 4.96718 9.27903 5.17125 9.4831C5.37531 9.68717 5.65209 9.80181 5.94068 9.80181ZM14.6458 6.53739C15.0762 6.53739 15.497 6.66502 15.8549 6.90416C16.2128 7.14329 16.4917 7.48318 16.6564 7.88084C16.8211 8.27851 16.8642 8.71608 16.7803 9.13824C16.6963 9.5604 16.489 9.94817 16.1847 10.2525C15.8803 10.5569 15.4925 10.7642 15.0704 10.8481C14.6482 10.9321 14.2106 10.889 13.813 10.7243C13.4153 10.5596 13.0754 10.2806 12.8363 9.92275C12.5972 9.56486 12.4695 9.1441 12.4695 8.71367C12.4695 8.13648 12.6988 7.58294 13.1069 7.17481C13.5151 6.76667 14.0686 6.53739 14.6458 6.53739ZM29.8798 16.3307H27.5675C27.3278 15.3944 26.7833 14.5646 26.0198 13.972C25.2564 13.3794 24.3174 13.0577 23.3509 13.0577C22.3845 13.0577 21.4455 13.3794 20.6821 13.972C19.9186 14.5646 19.3741 15.3944 19.1344 16.3307H5.94068C5.65209 16.3307 5.37531 16.4453 5.17125 16.6494C4.96718 16.8534 4.85254 17.1302 4.85254 17.4188C4.85254 17.7074 4.96718 17.9842 5.17125 18.1882C5.37531 18.3923 5.65209 18.5069 5.94068 18.5069H19.1344C19.3741 19.4432 19.9186 20.273 20.6821 20.8656C21.4455 21.4582 22.3845 21.7799 23.3509 21.7799C24.3174 21.7799 25.2564 21.4582 26.0198 20.8656C26.7833 20.273 27.3278 19.4432 27.5675 18.5069H29.8798C30.1684 18.5069 30.4451 18.3923 30.6492 18.1882C30.8533 17.9842 30.9679 17.7074 30.9679 17.4188C30.9679 17.1302 30.8533 16.8534 30.6492 16.6494C30.4451 16.4453 30.1684 16.3307 29.8798 16.3307ZM23.3509 19.5951C22.9205 19.5951 22.4997 19.4674 22.1419 19.2283C21.784 18.9892 21.505 18.6493 21.3403 18.2516C21.1756 17.854 21.1325 17.4164 21.2165 16.9942C21.3004 16.5721 21.5077 16.1843 21.8121 15.8799C22.1164 15.5756 22.5042 15.3683 22.9264 15.2843C23.3485 15.2004 23.7861 15.2435 24.1838 15.4082C24.5814 15.5729 24.9213 15.8518 25.1604 16.2097C25.3996 16.5676 25.5272 16.9884 25.5272 17.4188C25.5272 17.996 25.2979 18.5495 24.8898 18.9577C24.4817 19.3658 23.9281 19.5951 23.3509 19.5951Z",fill:"white"}),D.createElement("path",{d:"M5.96875 28.8107H10.4805C10.7214 29.7518 11.2687 30.5859 12.0361 31.1815C12.8035 31.7772 13.7473 32.1005 14.7187 32.1005C15.6902 32.1005 16.634 31.7772 17.4014 31.1815C18.1688 30.5859 18.7161 29.7518 18.957 28.8107H30.0312C30.3213 28.8107 30.5995 28.6954 30.8046 28.4903C31.0098 28.2852 31.125 28.007 31.125 27.7169C31.125 27.4268 31.0098 27.1486 30.8046 26.9435C30.5995 26.7384 30.3213 26.6232 30.0312 26.6232H18.957C18.7161 25.6821 18.1688 24.848 17.4014 24.2523C16.634 23.6567 15.6902 23.3333 14.7187 23.3333C13.7473 23.3333 12.8035 23.6567 12.0361 24.2523C11.2687 24.848 10.7214 25.6821 10.4805 26.6232H5.96875C5.67867 26.6232 5.40047 26.7384 5.19535 26.9435C4.99023 27.1486 4.875 27.4268 4.875 27.7169C4.875 28.007 4.99023 28.2852 5.19535 28.4903C5.40047 28.6954 5.67867 28.8107 5.96875 28.8107ZM14.7187 25.5294C15.1514 25.5294 15.5743 25.6577 15.9341 25.8981C16.2938 26.1384 16.5742 26.4801 16.7397 26.8798C16.9053 27.2795 16.9486 27.7193 16.8642 28.1437C16.7798 28.568 16.5715 28.9578 16.2655 29.2637C15.9596 29.5696 15.5698 29.778 15.1455 29.8624C14.7212 29.9468 14.2813 29.9035 13.8816 29.7379C13.4819 29.5723 13.1403 29.292 12.8999 28.9322C12.6595 28.5725 12.5312 28.1496 12.5312 27.7169C12.5312 27.1368 12.7617 26.5804 13.172 26.1701C13.5822 25.7599 14.1386 25.5294 14.7187 25.5294Z",fill:"white"})),Ome=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M5.9397 9.8008H10.4283C10.668 10.7371 11.2125 11.5669 11.976 12.1595C12.7394 12.7521 13.6784 13.0738 14.6448 13.0738C15.6113 13.0738 16.5503 12.7521 17.3137 12.1595C18.0772 11.5669 18.6217 10.7371 18.8614 9.8008H29.8788C30.1674 9.8008 30.4442 9.68616 30.6482 9.48209C30.8523 9.27803 30.9669 9.00125 30.9669 8.71266C30.9669 8.42407 30.8523 8.1473 30.6482 7.94323C30.4442 7.73916 30.1674 7.62452 29.8788 7.62452H18.8614C18.6217 6.68827 18.0772 5.85843 17.3137 5.26582C16.5503 4.67322 15.6113 4.35156 14.6448 4.35156C13.6784 4.35156 12.7394 4.67322 11.976 5.26582C11.2125 5.85843 10.668 6.68827 10.4283 7.62452H5.9397C5.65111 7.62452 5.37434 7.73916 5.17027 7.94323C4.96621 8.1473 4.85156 8.42407 4.85156 8.71266C4.85156 9.00125 4.96621 9.27803 5.17027 9.48209C5.37434 9.68616 5.65111 9.8008 5.9397 9.8008ZM14.6448 6.53638C15.0753 6.53638 15.496 6.66402 15.8539 6.90315C16.2118 7.14228 16.4907 7.48217 16.6555 7.87983C16.8202 8.2775 16.8633 8.71508 16.7793 9.13723C16.6953 9.55939 16.4881 9.94717 16.1837 10.2515C15.8793 10.5559 15.4916 10.7632 15.0694 10.8471C14.6472 10.9311 14.2097 10.888 13.812 10.7233C13.4143 10.5586 13.0745 10.2796 12.8353 9.92174C12.5962 9.56385 12.4685 9.14309 12.4685 8.71266C12.4685 8.13548 12.6978 7.58193 13.106 7.1738C13.5141 6.76567 14.0676 6.53638 14.6448 6.53638ZM29.8788 16.3296H27.5665C27.3268 15.3934 26.7823 14.5636 26.0188 13.971C25.2554 13.3783 24.3164 13.0567 23.35 13.0567C22.3835 13.0567 21.4445 13.3783 20.6811 13.971C19.9176 14.5636 19.3731 15.3934 19.1334 16.3296H5.9397C5.65111 16.3296 5.37434 16.4443 5.17027 16.6484C4.96621 16.8524 4.85156 17.1292 4.85156 17.4178C4.85156 17.7064 4.96621 17.9832 5.17027 18.1872C5.37434 18.3913 5.65111 18.5059 5.9397 18.5059H19.1334C19.3731 19.4422 19.9176 20.272 20.6811 20.8646C21.4445 21.4572 22.3835 21.7789 23.35 21.7789C24.3164 21.7789 25.2554 21.4572 26.0188 20.8646C26.7823 20.272 27.3268 19.4422 27.5665 18.5059H29.8788C30.1674 18.5059 30.4442 18.3913 30.6482 18.1872C30.8523 17.9832 30.9669 17.7064 30.9669 17.4178C30.9669 17.1292 30.8523 16.8524 30.6482 16.6484C30.4442 16.4443 30.1674 16.3296 29.8788 16.3296ZM23.35 19.5941C22.9195 19.5941 22.4988 19.4664 22.1409 19.2273C21.783 18.9882 21.5041 18.6483 21.3393 18.2506C21.1746 17.853 21.1315 17.4154 21.2155 16.9932C21.2995 16.5711 21.5067 16.1833 21.8111 15.8789C22.1155 15.5746 22.5032 15.3673 22.9254 15.2833C23.3475 15.1994 23.7851 15.2424 24.1828 15.4072C24.5805 15.5719 24.9203 15.8508 25.1595 16.2087C25.3986 16.5666 25.5262 16.9874 25.5262 17.4178C25.5262 17.995 25.297 18.5485 24.8888 18.9567C24.4807 19.3648 23.9271 19.5941 23.35 19.5941Z",fill:"#FFB71C"}),D.createElement("path",{d:"M5.96875 28.8094H10.4805C10.7214 29.7504 11.2687 30.5846 12.0361 31.1802C12.8035 31.7759 13.7473 32.0992 14.7187 32.0992C15.6902 32.0992 16.634 31.7759 17.4014 31.1802C18.1688 30.5846 18.7161 29.7504 18.957 28.8094H30.0312C30.3213 28.8094 30.5995 28.6941 30.8046 28.489C31.0098 28.2839 31.125 28.0057 31.125 27.7156C31.125 27.4255 31.0098 27.1473 30.8046 26.9422C30.5995 26.7371 30.3213 26.6219 30.0312 26.6219H18.957C18.7161 25.6808 18.1688 24.8467 17.4014 24.251C16.634 23.6553 15.6902 23.332 14.7187 23.332C13.7473 23.332 12.8035 23.6553 12.0361 24.251C11.2687 24.8467 10.7214 25.6808 10.4805 26.6219H5.96875C5.67867 26.6219 5.40047 26.7371 5.19535 26.9422C4.99023 27.1473 4.875 27.4255 4.875 27.7156C4.875 28.0057 4.99023 28.2839 5.19535 28.489C5.40047 28.6941 5.67867 28.8094 5.96875 28.8094ZM14.7187 25.5281C15.1514 25.5281 15.5743 25.6564 15.9341 25.8968C16.2938 26.1371 16.5742 26.4788 16.7397 26.8785C16.9053 27.2782 16.9486 27.718 16.8642 28.1424C16.7798 28.5667 16.5715 28.9565 16.2655 29.2624C15.9596 29.5683 15.5698 29.7767 15.1455 29.8611C14.7212 29.9455 14.2813 29.9022 13.8816 29.7366C13.4819 29.571 13.1403 29.2907 12.8999 28.9309C12.6595 28.5712 12.5312 28.1483 12.5312 27.7156C12.5312 27.1354 12.7617 26.579 13.172 26.1688C13.5822 25.7586 14.1386 25.5281 14.7187 25.5281Z",fill:"#FFB71C"})),Lme=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M16.8174 5.73114C17.1813 5.73114 17.5362 5.84273 17.835 6.05048C18.0963 6.23222 18.3039 6.47969 18.4365 6.76727L18.4893 6.89325V6.89423L20.9414 13.6423L27.6924 16.0964V16.0974L27.8184 16.1491C28.106 16.2817 28.3543 16.4893 28.5361 16.7507C28.7438 17.0494 28.8545 17.4045 28.8545 17.7682C28.8545 18.132 28.7437 18.4871 28.5361 18.7858C28.3544 19.0472 28.106 19.2548 27.8184 19.3874L27.6924 19.4401L20.9434 21.8932L18.4893 28.6432C18.3626 28.9844 18.1337 29.2792 17.835 29.487C17.5363 29.6946 17.1811 29.8054 16.8174 29.8054C16.4536 29.8053 16.0985 29.6946 15.7998 29.487C15.501 29.2792 15.2731 28.9844 15.1465 28.6432H15.1455L12.6914 21.8932L5.94336 19.4401H5.94238C5.60119 19.3135 5.30741 19.0846 5.09961 18.7858C4.89186 18.4871 4.78027 18.1321 4.78027 17.7682C4.78029 17.4043 4.89183 17.0494 5.09961 16.7507C5.30737 16.4519 5.60127 16.224 5.94238 16.0974L5.94336 16.0964L12.6914 13.6423L15.1455 6.89423L15.1465 6.89325C15.2731 6.55214 15.5011 6.25824 15.7998 6.05048C16.0986 5.84269 16.4535 5.73116 16.8174 5.73114ZM14.2881 14.6843C14.2418 14.8115 14.168 14.9274 14.0723 15.0231C13.9765 15.1189 13.8606 15.1926 13.7334 15.239L6.77832 17.7682L13.7334 20.2975C13.8606 20.3439 13.9765 20.4177 14.0723 20.5134C14.168 20.6091 14.2418 20.725 14.2881 20.8522L16.8174 27.8063L19.3467 20.8522C19.393 20.725 19.4667 20.6091 19.5625 20.5134C19.6583 20.4176 19.7741 20.3439 19.9014 20.2975L26.8555 17.7682L19.9014 15.239C19.7741 15.1926 19.6583 15.1189 19.5625 15.0231C19.4668 14.9274 19.393 14.8115 19.3467 14.6843L16.8174 7.72919L14.2881 14.6843Z",fill:"white",stroke:"white",strokeWidth:.145085}),D.createElement("path",{d:"M28.0667 0.289734C28.2866 0.289826 28.5013 0.357522 28.6819 0.483093C28.8174 0.57736 28.9285 0.701406 29.0081 0.844421L29.0774 0.992859V0.993835L30.3987 4.63055L34.0364 5.95282H34.0374C34.2436 6.02943 34.4215 6.16767 34.5471 6.34833C34.6728 6.52905 34.7405 6.74441 34.7405 6.96454C34.7404 7.1845 34.6727 7.39918 34.5471 7.57977C34.4215 7.76043 34.2436 7.89866 34.0374 7.97528H34.0364L30.3997 9.29657L29.0774 12.9343V12.9352C29.0008 13.1415 28.8625 13.3194 28.6819 13.445C28.5013 13.5706 28.2866 13.6383 28.0667 13.6384C27.8465 13.6384 27.6312 13.5707 27.4504 13.445C27.2698 13.3194 27.1315 13.1415 27.0549 12.9352V12.9343L25.7327 9.29755L22.0959 7.97528H22.095C21.8887 7.89866 21.7108 7.76041 21.5852 7.57977C21.4596 7.39919 21.3919 7.18448 21.3918 6.96454C21.3918 6.74442 21.4595 6.52904 21.5852 6.34833C21.7108 6.16768 21.8887 6.02944 22.095 5.95282H22.0959L25.7327 4.63055L27.0549 0.993835V0.992859C27.1316 0.786591 27.2698 0.608731 27.4504 0.483093C27.6312 0.357414 27.8465 0.289734 28.0667 0.289734ZM26.7854 5.31708C26.7548 5.40099 26.706 5.47757 26.6428 5.54071C26.5797 5.60385 26.5031 5.65274 26.4192 5.68329L22.8958 6.96356L26.4192 8.24481C26.5031 8.27536 26.5797 8.32427 26.6428 8.38739C26.706 8.45053 26.7548 8.52711 26.7854 8.61102L28.0657 12.1335L29.3469 8.61102C29.3775 8.52711 29.4264 8.45053 29.4895 8.38739C29.5526 8.32425 29.6292 8.27537 29.7131 8.24481L33.2356 6.96356L29.7131 5.68329C29.6292 5.65274 29.5526 5.60385 29.4895 5.54071C29.4264 5.47758 29.3775 5.40097 29.3469 5.31708L28.0657 1.79364L26.7854 5.31708Z",fill:"white",stroke:"white",strokeWidth:.290171})),Ime=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M16.8164 5.73242C17.1803 5.73242 17.5352 5.84401 17.834 6.05176C18.0953 6.23351 18.303 6.48097 18.4355 6.76855L18.4883 6.89453V6.89551L20.9404 13.6436L27.6914 16.0977V16.0986L27.8174 16.1504C28.1051 16.283 28.3534 16.4906 28.5352 16.752C28.7428 17.0506 28.8535 17.4058 28.8535 17.7695C28.8535 18.1333 28.7427 18.4884 28.5352 18.7871C28.3534 19.0485 28.105 19.2561 27.8174 19.3887L27.6914 19.4414L20.9424 21.8945L18.4883 28.6445C18.3616 28.9857 18.1328 29.2805 17.834 29.4883C17.5353 29.6959 17.1802 29.8066 16.8164 29.8066C16.4526 29.8066 16.0975 29.6959 15.7988 29.4883C15.5001 29.2805 15.2722 28.9857 15.1455 28.6445H15.1445L12.6904 21.8945L5.94238 19.4414H5.94141C5.60021 19.3148 5.30643 19.0859 5.09863 18.7871C4.89088 18.4883 4.7793 18.1334 4.7793 17.7695C4.77932 17.4056 4.89085 17.0507 5.09863 16.752C5.30639 16.4532 5.6003 16.2253 5.94141 16.0986L5.94238 16.0977L12.6904 13.6436L15.1445 6.89551L15.1455 6.89453C15.2722 6.55342 15.5001 6.25952 15.7988 6.05176C16.0976 5.84397 16.4525 5.73244 16.8164 5.73242ZM14.2871 14.6855C14.2408 14.8128 14.167 14.9287 14.0713 15.0244C13.9755 15.1202 13.8597 15.1939 13.7324 15.2402L6.77734 17.7695L13.7324 20.2988C13.8596 20.3451 13.9755 20.4189 14.0713 20.5146C14.167 20.6104 14.2408 20.7263 14.2871 20.8535L16.8164 27.8076L19.3457 20.8535C19.392 20.7263 19.4658 20.6104 19.5615 20.5146C19.6573 20.4189 19.7731 20.3452 19.9004 20.2988L26.8545 17.7695L19.9004 15.2402C19.7731 15.1939 19.6573 15.1202 19.5615 15.0244C19.4658 14.9287 19.392 14.8128 19.3457 14.6855L16.8164 7.73047L14.2871 14.6855Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.145085}),D.createElement("path",{d:"M28.0684 0.288086C28.2883 0.288178 28.503 0.355874 28.6836 0.481445C28.8191 0.575712 28.9302 0.699758 29.0098 0.842773L29.0791 0.991211V0.992188L30.4004 4.62891L34.0381 5.95117H34.0391C34.2454 6.02778 34.4232 6.16602 34.5488 6.34668C34.6745 6.5274 34.7422 6.74276 34.7422 6.96289C34.7421 7.18285 34.6744 7.39754 34.5488 7.57812C34.4232 7.75879 34.2453 7.89702 34.0391 7.97363H34.0381L30.4014 9.29492L29.0791 12.9326V12.9336C29.0025 13.1399 28.8643 13.3177 28.6836 13.4434C28.503 13.5689 28.2883 13.6366 28.0684 13.6367C27.8482 13.6367 27.6329 13.569 27.4521 13.4434C27.2715 13.3177 27.1333 13.1399 27.0566 12.9336V12.9326L25.7344 9.2959L22.0977 7.97363H22.0967C21.8904 7.89701 21.7125 7.75877 21.5869 7.57812C21.4613 7.39754 21.3936 7.18283 21.3936 6.96289C21.3936 6.74277 21.4612 6.52739 21.5869 6.34668C21.7126 6.16603 21.8904 6.02779 22.0967 5.95117H22.0977L25.7344 4.62891L27.0566 0.992188V0.991211C27.1333 0.784943 27.2715 0.607083 27.4521 0.481445C27.6329 0.355766 27.8482 0.288086 28.0684 0.288086ZM26.7871 5.31543C26.7566 5.39934 26.7077 5.47592 26.6445 5.53906C26.5814 5.60221 26.5048 5.65109 26.4209 5.68164L22.8975 6.96191L26.4209 8.24316C26.5048 8.27371 26.5814 8.32262 26.6445 8.38574C26.7077 8.44888 26.7566 8.52547 26.7871 8.60938L28.0674 12.1318L29.3486 8.60938C29.3792 8.52547 29.4281 8.44888 29.4912 8.38574C29.5544 8.3226 29.6309 8.27372 29.7148 8.24316L33.2373 6.96191L29.7148 5.68164C29.6309 5.65109 29.5544 5.60221 29.4912 5.53906C29.4281 5.47593 29.3792 5.39932 29.3486 5.31543L28.0674 1.79199L26.7871 5.31543Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.290171})),Nme=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M31.125 29.5313C31.125 29.8213 31.0098 30.0995 30.8046 30.3046C30.5995 30.5098 30.3213 30.625 30.0312 30.625H5.96875C5.67867 30.625 5.40047 30.5098 5.19535 30.3046C4.99023 30.0995 4.875 29.8213 4.875 29.5313C4.875 29.2412 4.99023 28.963 5.19535 28.7579C5.40047 28.5527 5.67867 28.4375 5.96875 28.4375H30.0312C30.3213 28.4375 30.5995 28.5527 30.8046 28.7579C31.0098 28.963 31.125 29.2412 31.125 29.5313Z",fill:"white"}),D.createElement("path",{d:"M9.20312 6.13634L9.50588 5.83203H25.6343L25.9371 6.13634C25.8454 7.70402 25.7995 9.52068 25.7995 11.5863H24.8362C24.3591 9.85266 24.0472 8.83828 23.9004 8.54319C23.827 8.32187 23.7444 8.11899 23.6527 7.93456C23.5243 7.80546 23.3591 7.72246 23.1573 7.68558C22.2031 7.50114 21.405 7.40893 20.7628 7.40893C20.1206 7.40893 19.5701 7.45504 19.1114 7.54725C18.9646 11.033 18.8912 16.5014 18.8912 23.9525C18.8912 24.2845 19.0564 24.5519 19.3866 24.7548C19.7353 24.9392 20.0839 25.0591 20.4325 25.1144C20.7811 25.1698 21.2582 25.2251 21.8637 25.2804V26.2487H13.0563V25.2804C14.5242 25.1513 15.4233 24.9208 15.7536 24.5888C15.9187 24.4228 16.0013 24.2107 16.0013 23.9525C16.0563 20.3745 16.0839 17.0271 16.0839 13.9102C16.0839 10.7748 16.0655 8.65385 16.0288 7.54725C15.5701 7.45504 15.0196 7.40893 14.3774 7.40893C13.7352 7.40893 12.9371 7.50114 11.9829 7.68558C11.7811 7.72246 11.616 7.80546 11.4875 7.93456C11.3958 8.11899 11.3132 8.32187 11.2398 8.54319C11.093 8.83828 10.7811 9.85266 10.304 11.5863H9.34074C9.34074 9.52068 9.29487 7.70402 9.20312 6.13634Z",fill:"white"})),Bme=e=>D.createElement("svg",{width:36,height:35,viewBox:"0 0 36 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M31.125 29.5312C31.125 29.8213 31.0098 30.0995 30.8046 30.3046C30.5995 30.5098 30.3213 30.625 30.0312 30.625H5.96875C5.67867 30.625 5.40047 30.5098 5.19535 30.3046C4.99023 30.0995 4.875 29.8213 4.875 29.5312C4.875 29.2412 4.99023 28.963 5.19535 28.7579C5.40047 28.5527 5.67867 28.4375 5.96875 28.4375H30.0312C30.3213 28.4375 30.5995 28.5527 30.8046 28.7579C31.0098 28.963 31.125 29.2412 31.125 29.5312Z",fill:"#FFB71C"}),D.createElement("path",{d:"M9.20508 6.13766L9.50783 5.83334H25.6363L25.9391 6.13766C25.8473 7.70533 25.8014 9.52199 25.8014 11.5876H24.8381C24.3611 9.85397 24.0491 8.83959 23.9024 8.5445C23.829 8.32318 23.7464 8.12031 23.6546 7.93587C23.5262 7.80677 23.3611 7.72378 23.1592 7.68689C22.2051 7.50246 21.4069 7.41024 20.7647 7.41024C20.1225 7.41024 19.5721 7.45635 19.1134 7.54856C18.9666 11.0343 18.8932 16.5028 18.8932 23.9538C18.8932 24.2858 19.0583 24.5532 19.3886 24.7561C19.7372 24.9405 20.0858 25.0604 20.4345 25.1157C20.7831 25.1711 21.2601 25.2264 21.8657 25.2817V26.25H13.0583V25.2817C14.5262 25.1526 15.4253 24.9221 15.7555 24.5901C15.9207 24.4241 16.0033 24.212 16.0033 23.9538C16.0583 20.3758 16.0858 17.0284 16.0858 13.9115C16.0858 10.7761 16.0675 8.65516 16.0308 7.54856C15.5721 7.45635 15.0216 7.41024 14.3794 7.41024C13.7372 7.41024 12.939 7.50246 11.9849 7.68689C11.7831 7.72378 11.6179 7.80677 11.4895 7.93587C11.3977 8.12031 11.3152 8.32318 11.2418 8.5445C11.095 8.83959 10.7831 9.85397 10.306 11.5876H9.34269C9.34269 9.52199 9.29682 7.70533 9.20508 6.13766Z",fill:"#FFB71C"})),Hme=e=>D.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M7.08936 4.68063C8.27942 4.68076 9.33926 5.15864 10.0503 5.98239C10.7614 5.15841 11.8219 4.68063 13.0122 4.68063L13.2036 4.68552C14.1589 4.73382 15.0651 5.13497 15.7446 5.81442C16.4694 6.53914 16.8772 7.52194 16.8784 8.54684V8.54782C16.8782 10.7115 15.2808 12.6371 13.7056 14.0166C12.1221 15.4033 10.5069 16.2836 10.3657 16.3584L10.3667 16.3593C10.2695 16.4116 10.1606 16.4384 10.0503 16.4384C9.93994 16.4384 9.83107 16.4116 9.73389 16.3593V16.3584C9.5857 16.2797 7.9745 15.3998 6.39502 14.0166C4.81988 12.6371 3.22239 10.7114 3.22217 8.54782V8.54684C3.2234 7.52194 3.63123 6.53914 4.35596 5.81442C5.08068 5.0897 6.06348 4.68187 7.08838 4.68063H7.08936ZM13.0122 6.01657C11.9306 6.01657 11.0396 6.58827 10.6685 7.49509V7.49606C10.6181 7.61843 10.5323 7.72317 10.4224 7.79684C10.3124 7.87054 10.1827 7.91013 10.0503 7.91013C9.91795 7.91008 9.78816 7.87053 9.67822 7.79684C9.56847 7.72322 9.48341 7.61827 9.43311 7.49606V7.49509C9.06199 6.58987 8.17062 6.01673 7.08936 6.01657C6.41837 6.01744 5.77475 6.2843 5.30029 6.75876C4.82584 7.23322 4.55898 7.87684 4.55811 8.54782C4.55833 10.0504 5.65333 11.5133 6.93408 12.7021C8.13333 13.8152 9.45494 14.648 10.0503 15.0009C10.6451 14.6477 11.967 13.8139 13.1665 12.7002C14.4475 11.5107 15.5423 10.0479 15.5425 8.54782C15.5416 7.87684 15.2748 7.23322 14.8003 6.75876C14.3259 6.28452 13.683 6.01754 13.0122 6.01657Z",fill:"white",stroke:"white",strokeWidth:.387946}),D.createElement("path",{d:"M26.0933 4.68066C26.3826 4.68069 26.6673 4.75665 26.9185 4.90039C27.1068 5.00827 27.2714 5.15198 27.4038 5.32227L27.5249 5.50098L27.5259 5.50195L32.7046 14.4971H32.7056C32.847 14.7398 32.9216 15.0159 32.9214 15.2969C32.9212 15.5777 32.8453 15.8533 32.7036 16.0957C32.5588 16.347 32.3509 16.5562 32.0991 16.7002C31.8478 16.8438 31.5624 16.9166 31.2729 16.9141V16.915H20.9136V16.9141C20.624 16.9168 20.339 16.8438 20.0874 16.7002C19.8354 16.5563 19.6259 16.3481 19.481 16.0967C19.3393 15.854 19.2642 15.5779 19.2642 15.2969C19.2642 15.086 19.3064 14.8778 19.3872 14.6846L19.481 14.4971L24.6606 5.50195L24.6616 5.50098C24.8082 5.25147 25.017 5.04415 25.2681 4.90039C25.5192 4.75663 25.8039 4.68066 26.0933 4.68066ZM26.0942 6.01465C26.0385 6.01466 25.9836 6.02924 25.9351 6.05664C25.8863 6.0842 25.8447 6.1239 25.8159 6.17188L20.6382 15.1641L20.6372 15.166C20.614 15.2053 20.6021 15.2503 20.6021 15.2959C20.6021 15.3186 20.6049 15.3415 20.6108 15.3633L20.6372 15.4268C20.665 15.4741 20.7056 15.5132 20.7534 15.54C20.8012 15.5668 20.855 15.581 20.9097 15.5801H31.2759C31.3308 15.581 31.3852 15.5669 31.4331 15.54C31.4809 15.5132 31.5206 15.4741 31.5483 15.4268L31.5493 15.4258C31.5727 15.3866 31.5852 15.3415 31.5854 15.2959C31.5857 15.2502 31.5743 15.2045 31.5513 15.165L31.5503 15.1641L26.3726 6.17188L26.3208 6.10645C26.301 6.08716 26.2786 6.07038 26.2544 6.05664C26.2057 6.02908 26.1502 6.01465 26.0942 6.01465Z",fill:"white",stroke:"white",strokeWidth:.387946}),D.createElement("path",{d:"M15.519 20.7223C15.8217 20.7224 16.1117 20.8433 16.3257 21.0573C16.5397 21.2713 16.6605 21.5613 16.6606 21.8639V30.3942C16.6605 30.6968 16.5397 30.9868 16.3257 31.2008C16.1117 31.4148 15.8217 31.5357 15.519 31.5358H5.09326C4.79063 31.5357 4.50062 31.4148 4.28662 31.2008C4.07262 30.9868 3.95176 30.6968 3.95166 30.3942V21.8639C3.95178 21.5613 4.07262 21.2713 4.28662 21.0573C4.50062 20.8433 4.79063 20.7224 5.09326 20.7223H15.519ZM5.2876 30.1999H15.3247V22.0583H5.2876V30.1999Z",fill:"white",stroke:"white",strokeWidth:.387946}),D.createElement("path",{d:"M26.6631 19.2728C28.2329 19.3523 29.7222 20.0106 30.8389 21.1273C32.0301 22.3185 32.7004 23.9339 32.7021 25.6185C32.7021 26.8752 32.3291 28.1038 31.6309 29.1487C30.9327 30.1936 29.9403 31.0077 28.7793 31.4886C27.6184 31.9695 26.3408 32.0959 25.1084 31.8509C23.8758 31.6057 22.7431 31.0003 21.8545 30.1116C20.9659 29.223 20.3604 28.0903 20.1152 26.8577C19.8702 25.6253 19.9967 24.3478 20.4775 23.1868C20.9585 22.0259 21.7725 21.0334 22.8174 20.3353C23.8623 19.6371 25.0909 19.264 26.3477 19.264L26.6631 19.2728ZM28.2686 20.9818C27.3516 20.6019 26.3416 20.503 25.3682 20.6966C24.3949 20.8903 23.5006 21.3679 22.7988 22.0696C22.0971 22.7714 21.6195 23.6657 21.4258 24.639C21.2321 25.6125 21.3311 26.6224 21.7109 27.5394C22.0908 28.4563 22.7344 29.2399 23.5596 29.7913C24.3848 30.3427 25.3551 30.637 26.3477 30.637C27.6781 30.6355 28.9537 30.1061 29.8945 29.1653C30.8353 28.2245 31.3646 26.949 31.3662 25.6185C31.3662 24.626 31.0719 23.6556 30.5205 22.8304C29.9691 22.0052 29.1854 21.3616 28.2686 20.9818Z",fill:"white",stroke:"white",strokeWidth:.387946})),Gme=e=>D.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M7.08691 4.68066C8.27698 4.68079 9.33681 5.15867 10.0479 5.98242C10.759 5.15844 11.8194 4.68066 13.0098 4.68066L13.2012 4.68555C14.1564 4.73385 15.0626 5.135 15.7422 5.81445C16.4669 6.53918 16.8747 7.52197 16.876 8.54688V8.54785C16.8758 10.7116 15.2783 12.6371 13.7031 14.0166C12.1197 15.4033 10.5044 16.2836 10.3633 16.3584L10.3643 16.3594C10.2671 16.4116 10.1582 16.4385 10.0479 16.4385C9.9375 16.4384 9.82863 16.4117 9.73145 16.3594V16.3584C9.58326 16.2797 7.97206 15.3998 6.39258 14.0166C4.81744 12.6371 3.21995 10.7115 3.21973 8.54785V8.54688C3.22096 7.52197 3.62879 6.53918 4.35352 5.81445C5.07824 5.08973 6.06103 4.6819 7.08594 4.68066H7.08691ZM13.0098 6.0166C11.9281 6.0166 11.0372 6.5883 10.666 7.49512V7.49609C10.6157 7.61846 10.5298 7.7232 10.4199 7.79688C10.3099 7.87057 10.1802 7.91016 10.0479 7.91016C9.91551 7.91011 9.78572 7.87056 9.67578 7.79688C9.56603 7.72325 9.48097 7.6183 9.43066 7.49609V7.49512C9.05955 6.5899 8.16818 6.01676 7.08691 6.0166C6.41593 6.01748 5.77231 6.28433 5.29785 6.75879C4.82339 7.23325 4.55654 7.87687 4.55566 8.54785C4.55589 10.0504 5.65089 11.5133 6.93164 12.7021C8.13089 13.8153 9.4525 14.648 10.0479 15.001C10.6427 14.6477 11.9646 13.8139 13.1641 12.7002C14.4451 11.5108 15.5398 10.048 15.54 8.54785C15.5392 7.87687 15.2723 7.23325 14.7979 6.75879C14.3235 6.28455 13.6805 6.01757 13.0098 6.0166Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.387946}),D.createElement("path",{d:"M26.0879 4.68066C26.3772 4.68069 26.662 4.75665 26.9131 4.90039C27.1015 5.00827 27.266 5.15198 27.3984 5.32227L27.5195 5.50098L27.5205 5.50195L32.6992 14.4971H32.7002C32.8417 14.7398 32.9162 15.0159 32.916 15.2969C32.9158 15.5777 32.8399 15.8533 32.6982 16.0957C32.5535 16.347 32.3456 16.5562 32.0938 16.7002C31.8424 16.8438 31.557 16.9166 31.2676 16.9141V16.915H20.9082V16.9141C20.6186 16.9168 20.3336 16.8438 20.082 16.7002C19.83 16.5563 19.6205 16.3481 19.4756 16.0967C19.3339 15.854 19.2588 15.5779 19.2588 15.2969C19.2588 15.086 19.301 14.8778 19.3818 14.6846L19.4756 14.4971L24.6553 5.50195L24.6562 5.50098C24.8028 5.25147 25.0116 5.04415 25.2627 4.90039C25.5139 4.75663 25.7985 4.68066 26.0879 4.68066ZM26.0889 6.01465C26.0331 6.01466 25.9783 6.02924 25.9297 6.05664C25.881 6.0842 25.8394 6.1239 25.8105 6.17188L20.6328 15.1641L20.6318 15.166C20.6087 15.2053 20.5968 15.2503 20.5967 15.2959C20.5967 15.3186 20.5996 15.3415 20.6055 15.3633L20.6318 15.4268C20.6596 15.4741 20.7002 15.5132 20.748 15.54C20.7958 15.5668 20.8496 15.581 20.9043 15.5801H31.2705C31.3254 15.581 31.3799 15.5669 31.4277 15.54C31.4756 15.5132 31.5152 15.4741 31.543 15.4268L31.5439 15.4258C31.5674 15.3866 31.5798 15.3415 31.5801 15.2959C31.5803 15.2502 31.5689 15.2045 31.5459 15.165L31.5449 15.1641L26.3672 6.17188L26.3154 6.10645C26.2956 6.08716 26.2733 6.07038 26.249 6.05664C26.2003 6.02908 26.1448 6.01465 26.0889 6.01465Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.387946}),D.createElement("path",{d:"M15.5137 20.7236C15.8163 20.7238 16.1063 20.8446 16.3203 21.0586C16.5343 21.2726 16.6552 21.5626 16.6553 21.8652V30.3955C16.6552 30.6981 16.5343 30.9881 16.3203 31.2021C16.1063 31.4161 15.8163 31.537 15.5137 31.5371H5.08789C4.78526 31.537 4.49525 31.4162 4.28125 31.2021C4.06725 30.9881 3.94639 30.6981 3.94629 30.3955V21.8652C3.94641 21.5626 4.06725 21.2726 4.28125 21.0586C4.49525 20.8446 4.78526 20.7238 5.08789 20.7236H15.5137ZM5.28223 30.2012H15.3193V22.0596H5.28223V30.2012Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.387946}),D.createElement("path",{d:"M26.6631 19.2715C28.2329 19.351 29.7222 20.0093 30.8389 21.126C32.0301 22.3172 32.7004 23.9326 32.7021 25.6172C32.7021 26.8739 32.3291 28.1025 31.6309 29.1475C30.9327 30.1923 29.9403 31.0064 28.7793 31.4873C27.6184 31.9682 26.3408 32.0947 25.1084 31.8496C23.8758 31.6044 22.7431 30.999 21.8545 30.1104C20.9659 29.2217 20.3604 28.089 20.1152 26.8564C19.8702 25.624 19.9967 24.3465 20.4775 23.1855C20.9585 22.0246 21.7725 21.0322 22.8174 20.334C23.8623 19.6358 25.0909 19.2627 26.3477 19.2627L26.6631 19.2715ZM28.2686 20.9805C27.3516 20.6006 26.3416 20.5017 25.3682 20.6953C24.3949 20.889 23.5006 21.3666 22.7988 22.0684C22.0971 22.7701 21.6195 23.6644 21.4258 24.6377C21.2321 25.6112 21.3311 26.6211 21.7109 27.5381C22.0908 28.455 22.7344 29.2387 23.5596 29.79C24.3848 30.3414 25.3551 30.6357 26.3477 30.6357C27.6781 30.6342 28.9537 30.1049 29.8945 29.1641C30.8353 28.2233 31.3646 26.9477 31.3662 25.6172C31.3662 24.6247 31.0719 23.6544 30.5205 22.8291C29.9691 22.0039 29.1854 21.3603 28.2686 20.9805Z",fill:"#FFB71C",stroke:"#FFB71C",strokeWidth:.387946})),Vme=({lists:e})=>{const[t,n]=D.useState(0);return e=[{title:" ",icon:kme,iconActive:Ome},{title:" ",icon:Lme,iconActive:Ime},{title:"",icon:Nme,iconActive:Bme},{title:"",icon:Hme,iconActive:Gme}],G.jsxs("div",{className:"generator-setting-wrap",children:[G.jsxs("div",{className:"ai-setting-wrap",children:[G.jsx("p",{children:"AI  "}),G.jsx("div",{className:"tab-wrap",children:e.map((i,r)=>{const s=t===r?i.iconActive:i.icon;return G.jsxs(fi,{className:`tab ${t===r?"active":""}`,onClick:()=>n(r),children:[G.jsx(s,{style:{width:24,height:24}}),G.jsx("span",{children:i.title})]},r)})})]}),G.jsxs("div",{className:"ai-setting-content",children:[t===0&&G.jsx(_me,{title:e[0].title,items:e[0].items}),t===1&&G.jsx(Mme,{someProp:e[1].items}),t===2&&G.jsx(Ame,{someProp:e[1].items}),t===3&&G.jsx(Pme,{})]})]})};var rS={exports:{}},sS,J_;function zme(){if(J_)return sS;J_=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sS=e,sS}var oS,eA;function Wme(){if(eA)return oS;eA=1;var e=zme();function t(){}function n(){}return n.resetWarningCache=t,oS=function(){function i(o,a,l,u,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},oS}var tA;function Ume(){return tA||(tA=1,rS.exports=Wme()()),rS.exports}var jme=Ume();const sn=cp(jme);function jc(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(p){o(p)}}function l(h){try{u(i.throw(h))}catch(p){o(p)}}function u(h){h.done?s(h.value):r(h.value).then(a,l)}u((i=i.apply(e,t||[])).next())})}const Yme=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fd(e,t,n){const i=$me(e),{webkitRelativePath:r}=e,s=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof i.path!="string"&&nA(i,"path",s),nA(i,"relativePath",s),i}function $me(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),r=Yme.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function nA(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Kme=[".DS_Store","Thumbs.db"];function qme(e){return jc(this,void 0,void 0,function*(){return Bv(e)&&Xme(e.dataTransfer)?e0e(e.dataTransfer,e.type):Qme(e)?Zme(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Jme(e):[]})}function Xme(e){return Bv(e)}function Qme(e){return Bv(e)&&Bv(e.target)}function Bv(e){return typeof e=="object"&&e!==null}function Zme(e){return vx(e.target.files).map(t=>Fd(t))}function Jme(e){return jc(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Fd(n))})}function e0e(e,t){return jc(this,void 0,void 0,function*(){if(e.items){const n=vx(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(t0e));return iA(ML(i))}return iA(vx(e.files).map(n=>Fd(n)))})}function iA(e){return e.filter(t=>Kme.indexOf(t.name)===-1)}function vx(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function t0e(e){if(typeof e.webkitGetAsEntry!="function")return rA(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?_L(t):rA(e,t)}function ML(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?ML(n):[n]],[])}function rA(e,t){return jc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Fd(o)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Fd(i,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function n0e(e){return jc(this,void 0,void 0,function*(){return e.isDirectory?_L(e):i0e(e)})}function _L(e){const t=e.createReader();return new Promise((n,i)=>{const r=[];function s(){t.readEntries(o=>jc(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(n0e));r.push(a),s()}else try{const a=yield Promise.all(r);n(a)}catch(a){i(a)}}),o=>{i(o)})}s()})}function i0e(e){return jc(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const r=Fd(i,e.fullPath);t(r)},i=>{n(i)})})})}var Ym={},sA;function r0e(){return sA||(sA=1,Ym.__esModule=!0,Ym.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",r=(e.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0}),Ym}var s0e=r0e();const aS=cp(s0e);function oA(e){return l0e(e)||a0e(e)||PL(e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l0e(e){if(Array.isArray(e))return Cx(e)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(i){AL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lp(e,t){return d0e(e)||u0e(e,t)||PL(e,t)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PL(e,t){if(e){if(typeof e=="string")return Cx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cx(e,t)}}function Cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function d0e(e){if(Array.isArray(e))return e}var h0e=typeof aS=="function"?aS:aS.default,f0e="file-invalid-type",p0e="file-too-large",g0e="file-too-small",m0e="too-many-files",v0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:f0e,message:"File type must be ".concat(i)}},cA=function(t){return{code:p0e,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},uA=function(t){return{code:g0e,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},C0e={code:m0e,message:"Too many files"};function kL(e,t){var n=e.type==="application/x-moz-file"||h0e(e,t);return[n,n?null:v0e(t)]}function OL(e,t,n){if(ql(e.size))if(ql(t)&&ql(n)){if(e.size>n)return[!1,cA(n)];if(e.size<t)return[!1,uA(t)]}else{if(ql(t)&&e.size<t)return[!1,uA(t)];if(ql(n)&&e.size>n)return[!1,cA(n)]}return[!0,null]}function ql(e){return e!=null}function w0e(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,s=e.multiple,o=e.maxFiles,a=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(l){var u=kL(l,n),h=lp(u,1),p=h[0],g=OL(l,i,r),v=lp(g,1),C=v[0],w=a?a(l):null;return p&&C&&!w})}function Hv(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $m(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function dA(e){e.preventDefault()}function y0e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function S0e(e){return e.indexOf("Edge/")!==-1}function x0e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return y0e(e)||S0e(e)}function Ns(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t.some(function(a){return!Hv(i)&&a&&a.apply(void 0,[i].concat(s)),Hv(i)})}}function b0e(){return"showOpenFilePicker"in window}function E0e(e){if(ql(e)){var t=Object.entries(e).filter(function(n){var i=lp(n,2),r=i[0],s=i[1],o=!0;return LL(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(IL))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var r=lp(i,2),s=r[0],o=r[1];return lA(lA({},n),{},AL({},s,o))},{});return[{description:"Files",accept:t}]}return e}function T0e(e){if(ql(e))return Object.entries(e).reduce(function(t,n){var i=lp(n,2),r=i[0],s=i[1];return[].concat(oA(t),[r],oA(s))},[]).filter(function(t){return LL(t)||IL(t)}).join(",")}function D0e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function R0e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function LL(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function IL(e){return/^.*\.[\w]+$/.test(e)}var F0e=["children"],M0e=["open"],_0e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],A0e=["refKey","onChange","onClick"];function P0e(e){return L0e(e)||O0e(e)||NL(e)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L0e(e){if(Array.isArray(e))return wx(e)}function lS(e,t){return B0e(e)||N0e(e,t)||NL(e,t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(e,t){if(e){if(typeof e=="string")return wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(e,t)}}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function B0e(e){if(Array.isArray(e))return e}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(i){yx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gv(e,t){if(e==null)return{};var n=H0e(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function H0e(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var y2=D.forwardRef(function(e,t){var n=e.children,i=Gv(e,F0e),r=HL(i),s=r.open,o=Gv(r,M0e);return D.useImperativeHandle(t,function(){return{open:s}},[s]),te.createElement(D.Fragment,null,n(wn(wn({},o),{},{open:s})))});y2.displayName="Dropzone";var BL={disabled:!1,getFilesFromEvent:qme,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};y2.defaultProps=BL;y2.propTypes={children:sn.func,accept:sn.objectOf(sn.arrayOf(sn.string)),multiple:sn.bool,preventDropOnDocument:sn.bool,noClick:sn.bool,noKeyboard:sn.bool,noDrag:sn.bool,noDragEventsBubbling:sn.bool,minSize:sn.number,maxSize:sn.number,maxFiles:sn.number,disabled:sn.bool,getFilesFromEvent:sn.func,onFileDialogCancel:sn.func,onFileDialogOpen:sn.func,useFsAccessApi:sn.bool,autoFocus:sn.bool,onDragEnter:sn.func,onDragLeave:sn.func,onDragOver:sn.func,onDrop:sn.func,onDropAccepted:sn.func,onDropRejected:sn.func,onError:sn.func,validator:sn.func};var Sx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function HL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=wn(wn({},BL),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,p=t.onDragOver,g=t.onDrop,v=t.onDropAccepted,C=t.onDropRejected,w=t.onFileDialogCancel,S=t.onFileDialogOpen,x=t.useFsAccessApi,E=t.autoFocus,T=t.preventDropOnDocument,R=t.noClick,F=t.noKeyboard,P=t.noDrag,_=t.noDragEventsBubbling,L=t.onError,A=t.validator,O=D.useMemo(function(){return T0e(n)},[n]),I=D.useMemo(function(){return E0e(n)},[n]),z=D.useMemo(function(){return typeof S=="function"?S:fA},[S]),J=D.useMemo(function(){return typeof w=="function"?w:fA},[w]),ae=D.useRef(null),ie=D.useRef(null),j=D.useReducer(G0e,Sx),W=lS(j,2),Q=W[0],ce=W[1],H=Q.isFocused,le=Q.isFileDialogActive,B=D.useRef(typeof window<"u"&&window.isSecureContext&&x&&b0e()),Y=function(){!B.current&&le&&setTimeout(function(){if(ie.current){var Qe=ie.current.files;Qe.length||(ce({type:"closeDialog"}),J())}},300)};D.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[ie,le,J,B]);var K=D.useRef([]),ee=function(Qe){ae.current&&ae.current.contains(Qe.target)||(Qe.preventDefault(),K.current=[])};D.useEffect(function(){return T&&(document.addEventListener("dragover",dA,!1),document.addEventListener("drop",ee,!1)),function(){T&&(document.removeEventListener("dragover",dA),document.removeEventListener("drop",ee))}},[ae,T]),D.useEffect(function(){return!i&&E&&ae.current&&ae.current.focus(),function(){}},[ae,E,i]);var de=D.useCallback(function(Ne){L?L(Ne):console.error(Ne)},[L]),Ie=D.useCallback(function(Ne){Ne.preventDefault(),Ne.persist(),Ft(Ne),K.current=[].concat(P0e(K.current),[Ne.target]),$m(Ne)&&Promise.resolve(r(Ne)).then(function(Qe){if(!(Hv(Ne)&&!_)){var Mt=Qe.length,ft=Mt>0&&w0e({files:Qe,accept:O,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:A}),nt=Mt>0&&!ft;ce({isDragAccept:ft,isDragReject:nt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Ne)}}).catch(function(Qe){return de(Qe)})},[r,u,de,_,O,o,s,a,l,A]),Oe=D.useCallback(function(Ne){Ne.preventDefault(),Ne.persist(),Ft(Ne);var Qe=$m(Ne);if(Qe&&Ne.dataTransfer)try{Ne.dataTransfer.dropEffect="copy"}catch{}return Qe&&p&&p(Ne),!1},[p,_]),_e=D.useCallback(function(Ne){Ne.preventDefault(),Ne.persist(),Ft(Ne);var Qe=K.current.filter(function(ft){return ae.current&&ae.current.contains(ft)}),Mt=Qe.indexOf(Ne.target);Mt!==-1&&Qe.splice(Mt,1),K.current=Qe,!(Qe.length>0)&&(ce({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$m(Ne)&&h&&h(Ne))},[ae,h,_]),Pe=D.useCallback(function(Ne,Qe){var Mt=[],ft=[];Ne.forEach(function(nt){var xt=kL(nt,O),rr=lS(xt,2),ga=rr[0],ma=rr[1],ns=OL(nt,o,s),Dr=lS(ns,2),Vi=Dr[0],Ms=Dr[1],is=A?A(nt):null;if(ga&&Vi&&!is)Mt.push(nt);else{var va=[ma,Ms];is&&(va=va.concat(is)),ft.push({file:nt,errors:va.filter(function(xl){return xl})})}}),(!a&&Mt.length>1||a&&l>=1&&Mt.length>l)&&(Mt.forEach(function(nt){ft.push({file:nt,errors:[C0e]})}),Mt.splice(0)),ce({acceptedFiles:Mt,fileRejections:ft,isDragReject:ft.length>0,type:"setFiles"}),g&&g(Mt,ft,Qe),ft.length>0&&C&&C(ft,Qe),Mt.length>0&&v&&v(Mt,Qe)},[ce,a,O,o,s,l,g,v,C,A]),it=D.useCallback(function(Ne){Ne.preventDefault(),Ne.persist(),Ft(Ne),K.current=[],$m(Ne)&&Promise.resolve(r(Ne)).then(function(Qe){Hv(Ne)&&!_||Pe(Qe,Ne)}).catch(function(Qe){return de(Qe)}),ce({type:"reset"})},[r,Pe,de,_]),et=D.useCallback(function(){if(B.current){ce({type:"openDialog"}),z();var Ne={multiple:a,types:I};window.showOpenFilePicker(Ne).then(function(Qe){return r(Qe)}).then(function(Qe){Pe(Qe,null),ce({type:"closeDialog"})}).catch(function(Qe){D0e(Qe)?(J(Qe),ce({type:"closeDialog"})):R0e(Qe)?(B.current=!1,ie.current?(ie.current.value=null,ie.current.click()):de(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):de(Qe)});return}ie.current&&(ce({type:"openDialog"}),z(),ie.current.value=null,ie.current.click())},[ce,z,J,x,Pe,de,I,a]),Lt=D.useCallback(function(Ne){!ae.current||!ae.current.isEqualNode(Ne.target)||(Ne.key===" "||Ne.key==="Enter"||Ne.keyCode===32||Ne.keyCode===13)&&(Ne.preventDefault(),et())},[ae,et]),We=D.useCallback(function(){ce({type:"focus"})},[]),dt=D.useCallback(function(){ce({type:"blur"})},[]),st=D.useCallback(function(){R||(x0e()?setTimeout(et,0):et())},[R,et]),ke=function(Qe){return i?null:Qe},tt=function(Qe){return F?null:ke(Qe)},vt=function(Qe){return P?null:ke(Qe)},Ft=function(Qe){_&&Qe.stopPropagation()},It=D.useMemo(function(){return function(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qe=Ne.refKey,Mt=Qe===void 0?"ref":Qe,ft=Ne.role,nt=Ne.onKeyDown,xt=Ne.onFocus,rr=Ne.onBlur,ga=Ne.onClick,ma=Ne.onDragEnter,ns=Ne.onDragOver,Dr=Ne.onDragLeave,Vi=Ne.onDrop,Ms=Gv(Ne,_0e);return wn(wn(yx({onKeyDown:tt(Ns(nt,Lt)),onFocus:tt(Ns(xt,We)),onBlur:tt(Ns(rr,dt)),onClick:ke(Ns(ga,st)),onDragEnter:vt(Ns(ma,Ie)),onDragOver:vt(Ns(ns,Oe)),onDragLeave:vt(Ns(Dr,_e)),onDrop:vt(Ns(Vi,it)),role:typeof ft=="string"&&ft!==""?ft:"presentation"},Mt,ae),!i&&!F?{tabIndex:0}:{}),Ms)}},[ae,Lt,We,dt,st,Ie,Oe,_e,it,F,P,i]),mn=D.useCallback(function(Ne){Ne.stopPropagation()},[]),Kn=D.useMemo(function(){return function(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qe=Ne.refKey,Mt=Qe===void 0?"ref":Qe,ft=Ne.onChange,nt=Ne.onClick,xt=Gv(Ne,A0e),rr=yx({accept:O,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ke(Ns(ft,it)),onClick:ke(Ns(nt,mn)),tabIndex:-1},Mt,ie);return wn(wn({},rr),xt)}},[ie,n,a,it,i]);return wn(wn({},Q),{},{isFocused:H&&!i,getRootProps:It,getInputProps:Kn,rootRef:ae,inputRef:ie,open:ke(et)})}function G0e(e,t){switch(t.type){case"focus":return wn(wn({},e),{},{isFocused:!0});case"blur":return wn(wn({},e),{},{isFocused:!1});case"openDialog":return wn(wn({},Sx),{},{isFileDialogActive:!0});case"closeDialog":return wn(wn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return wn(wn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return wn(wn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return wn({},Sx);default:return e}}function fA(){}const V0e=({onFileSelected:e,multiple:t=!1,accept:n={"image/*":[".jpg",".jpeg",".png",".svg"]}})=>{const i=D.useCallback(o=>{if(o.length===0)return;const a=t?o:o[0];e&&e(a),o.forEach(l=>{const u=new FileReader;u.onload=()=>console.log("  ",u.result),u.readAsArrayBuffer(l)})},[e,t]),{getRootProps:r,getInputProps:s}=HL({onDrop:i,multiple:t,accept:n});return G.jsxs("div",{className:"upload-ui-box",...r(),children:[G.jsx("span",{className:"upload-img",children:" "}),G.jsx("input",{...s()}),G.jsx(fi,{className:"normal bg-gray",children:""})]})},z0e=()=>{const[e,t]=D.useState([]),[n,i]=D.useState(0),r=D.useRef(null),s=D.useRef(null),o=D.useRef(null);return D.useEffect(()=>{if(!e||!s.current)return;const a=new gx(s.current,{backgroundColor:"#f5f5f5",selection:!0,preserveObjectStacking:!0,enableRetinaScaling:!0});o.current=a;const l=r.current,u=()=>{const v=Math.max(1,l?.clientWidth??0),C=l?.clientHeight>0?l.clientHeight:Math.round(v*2/3);a.setWidth(v),a.setHeight(C),a.requestRenderAll()};u();let h;l&&"ResizeObserver"in window&&(h=new ResizeObserver(()=>u()),h.observe(l));const p=v=>{const C=v.e;let w=a.getZoom();w*=Math.pow(.999,C.deltaY),w=Math.max(.2,Math.min(5,w)),a.zoomToPoint({x:C.offsetX,y:C.offsetY},w),C.preventDefault(),C.stopPropagation()};a.on("mouse:wheel",p);const g=Array.isArray(e)?e[0]:e;if(g instanceof File){const v=URL.createObjectURL(g),C=document.createElement("img");C.src=v,C.onload=()=>{const w=new mr(C);a.getObjects().forEach(T=>a.remove(T));const S=a.getWidth(),x=a.getHeight(),E=Math.min(S/C.width,x/C.height);w.scale(E),w.set({left:(S-C.width*E)/2,top:(x-C.height*E)/2}),a.add(w),a.setActiveObject(w),a.requestRenderAll(),URL.revokeObjectURL(v)}}return()=>{a.off("mouse:wheel",p),h?.disconnect(),a.dispose(),o.current=null}},[e]),D.useCallback(()=>{const a=o.current;if(!a)return;const l=new to(" ",{left:50,top:50,fontSize:24,fill:"#222"});a.add(l),a.setActiveObject(l),a.requestRenderAll()},[]),D.useCallback(a=>{const l=o.current;!l||!a||Image.fromURL(a,u=>{u.set({left:150,top:120});const h=l.getWidth()*.8;if(u.width>h){const p=h/u.width;u.scale(p)}l.add(u),l.setActiveObject(u),l.requestRenderAll()},{crossOrigin:"anonymous"})},[]),D.useCallback(()=>{const a=o.current;if(!a)return;const l=a.toDataURL({format:"png",quality:1}),u=document.createElement("a");u.href=l,u.download="canvas.png",u.click()},[]),G.jsxs("div",{className:"generator-content-wrap",children:[G.jsx(Vme,{}),G.jsx("div",{className:"generator-box bg-ver",children:e.length===0?G.jsxs("div",{className:"upload-generator-file",children:[G.jsxs("div",{className:"upload-generator-title",children:[G.jsx("p",{children:"IGen AI     !"}),G.jsx("span",{children:"   "})]}),G.jsx(V0e,{onFileSelected:t,multiple:!1,accept:{"image/*":[".jpg",".png",".svg"]}},n)]}):G.jsxs("div",{ref:r,style:{width:"100%",aspectRatio:"1",position:"relative"},children:[G.jsx("canvas",{ref:s,className:"edit-canvas",style:{width:"100%",height:"100%",display:"block"}}),G.jsx(fi,{className:"normal ico-reset absolute-ver top-right",onClick:()=>{},children:""})]})})]})},W0e=e=>D.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("rect",{width:30,height:30,rx:15,fill:"#707070"}),D.createElement("circle",{cx:15.0005,cy:10.85,r:4.1625,stroke:"white",strokeWidth:1.125}),D.createElement("path",{d:"M22.875 21.8752C22.875 18.3958 19.3492 15.5752 15 15.5752C10.6508 15.5752 7.125 18.3958 7.125 21.8752",stroke:"white",strokeWidth:1.125,strokeLinecap:"round"})),GL=()=>{const{user:e,logout:t}=D.useContext(hp),n=vl(),i=e?.role==="admin",r=D.useRef(null),[s,o]=D.useState(!1),a=()=>{o(u=>!u)},l=()=>{t(),n("/login")};return D.useEffect(()=>{const u=h=>{r.current&&!r.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),G.jsx("header",{children:G.jsxs("div",{className:`inner-content ${i?"admin":""}`,children:[G.jsx("div",{className:"inner-left",children:G.jsx("h1",{onClick:()=>n("/iGenManagement"),style:{cursor:"pointer"},children:G.jsx(PA,{})})}),G.jsx("div",{className:"inner-right",children:G.jsxs("div",{className:"menu-wrap",ref:r,children:[G.jsx(fi,{onClick:a,children:G.jsx(W0e,{})}),s&&G.jsx("div",{className:"menu-box",children:G.jsx("ul",{children:G.jsx("li",{children:G.jsx(fi,{onClick:l,children:""})})})})]})})]})})},VL=({menuData:e=[]})=>{const{user:t}=D.useContext(hp),n=t?.role==="admin",[i,r]=D.useState(null),s=ir(),[o,a]=D.useState(!0),l=()=>{a(p=>!p)},u=["/modelManagement/aiImageManagement","/modelManagement/aiVideoManagement"];D.useEffect(()=>{const p=e.findIndex(g=>!!(s.pathname.startsWith(g.path)||g.subMenu&&g.subMenu.some(v=>s.pathname.startsWith(v.path))));r(p!==-1?p:null)},[s.pathname]);const h=p=>{r(g=>g===p?null:p)};return G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:`sidebar ${o?"open":""}`,children:[n&&G.jsx("div",{className:"sidebar-list-title",children:" "}),G.jsx("div",{className:"sidebar-wrap",children:e.map((p,g)=>{const v=s.pathname.startsWith(p.path),C=i===g;return G.jsxs("div",{className:"sidebar-list",children:[G.jsxs(x0,{to:p.subMenu?"#":p.path,className:`first-depth ${p.subMenu?"":v?"active":""}`,onClick:w=>{p.subMenu&&(w.preventDefault(),h(g))},children:[G.jsx("div",{className:"s-tit",children:p.title}),p.subMenu&&G.jsx("span",{className:`arrow-btn ${C?"open":""}`,children:C?G.jsx("span",{className:"sr-only",children:""}):G.jsx("span",{className:"sr-only",children:""})})]}),p.subMenu&&G.jsx("ul",{className:`depth ${C?"opened":""}`,children:p.subMenu.map((w,S)=>{const x="/"+w.path.split("/").slice(0,-1).join("/"),E=u.find(R=>s.pathname.startsWith(R));let T=!1;return E?T="/"+s.pathname.split("/").slice(0,E.split("/").length).join("/")===x:T=s.pathname===w.path,G.jsx("li",{children:G.jsx(x0,{to:w.path,className:T?"active":"",children:w.title})},S)})})]},g)})}),G.jsx(fi,{onClick:l,className:"sidebar-close-btn",children:G.jsx("span",{className:"sr-only",children:""})})]}),!o&&G.jsx(fi,{onClick:l,className:"sidebar-open-btn",children:""})]})},U0e=({subText:e="    ."})=>{const n=ir().pathname.split("/").filter(s=>s);console.log(n);const i={home:"",generateContents:" ",editContents:" ",myProjects:" ",aiImageManagement:"   "};let r="";return n.length===1?r=`${i[n[n.length-1]]}`:n.length===3&&(console.log(""),r=`${i[n[n.length-2]]}`,console.log(r)),G.jsxs("nav",{className:"breadcrumb-wrapper",children:[r&&G.jsx("ul",{className:"breadcrumb-list",children:G.jsx("li",{children:i[r]||r})}),G.jsx("span",{children:e})]})};function j0e({menuData:e}){const t=vl(),n=ir();D.useEffect(()=>{n.pathname==="/"&&t("/home")},[n.pathname,t]);const i=n.pathname==="/home";return console.log(i),G.jsxs(G.Fragment,{children:[G.jsx(GL,{}),G.jsx(VL,{menuData:e}),G.jsx("div",{className:"contents-wrap",children:G.jsx("div",{className:"content-box",children:G.jsx(TA,{})})})]})}function Y0e({menuData:e}){const t=vl(),n=ir();return D.useEffect(()=>{n.pathname==="/"&&t("/iGenManagement")},[n.pathname,t]),G.jsxs(G.Fragment,{children:[G.jsx(GL,{}),G.jsx(VL,{menuData:e}),G.jsx("div",{className:"contents-wrap",children:G.jsxs("div",{className:"content-box",children:[G.jsx("div",{children:G.jsx(U0e,{})}),G.jsx(TA,{})]})})]})}function $0e({adminMenuData:e,userMenuData:t}){const{user:n}=D.useContext(hp),i=n?.role==="admin",r=vl(),s=ir();return D.useEffect(()=>{s.pathname==="/"&&r(i?"/iGenManagement":"/home",{replace:!0})},[s.pathname,i,r]),i?G.jsx(Y0e,{menuData:e}):G.jsx(j0e,{menuData:t})}function K0e(){const e=[{title:"IGen ",path:"/iGenManagement",icon:{default:"",active:""}},{title:" ",path:"/modelManagement",icon:{default:"",active:""},subMenu:[{title:"   ",path:"/modelManagement/aiImageManagement/view"},{title:"   ",path:"/modelManagement/aiVideoManagement"}]}],t=[{title:"",path:"/home",icon:{default:"",active:""}},{title:" ",path:"/generateContents",icon:{default:"",active:""},subMenu:[{title:"  ",path:"/generateContents/generateContentsText"},{title:"  ",path:"/generateContents/generateContentsImage"},{title:" () ",path:"/generateContents/generateContentsVideo"}]},{title:" ",path:"/editContents",icon:{default:"",active:""},subMenu:[{title:" ",path:"/editContents/editContentsImage"},{title:" ",path:"/editContents/2"}]},{title:" ",path:"/myProjects",icon:{default:"",active:""},subMenu:[{title:"  ",path:"/myProjects/1"},{title:"  ",path:"/myProjects/2"},{title:"  ",path:"/myProjects/2"}]}];return G.jsx(FN,{children:G.jsxs(q8,{children:[G.jsx(xi,{path:"/login",element:G.jsx(MN,{})}),G.jsxs(xi,{path:"/",element:G.jsx($0e,{adminMenuData:e,userMenuData:t}),children:[G.jsx(xi,{path:"iGenManagement",element:G.jsx(_N,{})}),G.jsxs(xi,{path:"modelManagement",children:[G.jsx(xi,{path:"aiImageManagement",element:G.jsx(fR,{to:"view",replace:!0})}),G.jsx(xi,{path:"aiImageManagement/view",element:G.jsx(r_,{})}),G.jsx(xi,{path:"aiImageManagement/learning",element:G.jsx(r_,{})}),G.jsx(xi,{path:"aiVideoManagement",element:G.jsx(fR,{to:"view",replace:!0})}),G.jsx(xi,{path:"aiVideoManagement/view",element:G.jsx("div",{children:"   "})}),G.jsx(xi,{path:"aiVideoManagement/learning",element:G.jsx("div",{children:"   "})})]}),G.jsx(xi,{path:"home",element:G.jsx(Afe,{})}),G.jsx(xi,{path:"generateContents",children:G.jsx(xi,{path:"generateContentsImage",element:G.jsx(Hfe,{})})}),G.jsx(xi,{path:"editContents",children:G.jsx(xi,{path:"editContentsImage",element:G.jsx(z0e,{})})})]})]})})}i8.createRoot(document.getElementById("root")).render(G.jsx(CN,{children:G.jsx(K0e,{})}));
